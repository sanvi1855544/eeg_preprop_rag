<h1 id="sphx-glr-auto-examples-preprocessing-plot-map-data-to-normal-py">Map data to a normal distribution</h1> <p>This example demonstrates the use of the Box-Cox and Yeo-Johnson transforms through <a class="reference internal" href="../../modules/generated/sklearn.preprocessing.powertransformer#sklearn.preprocessing.PowerTransformer" title="sklearn.preprocessing.PowerTransformer"><code>PowerTransformer</code></a> to map data from various distributions to a normal distribution.</p> <p>The power transform is useful as a transformation in modeling problems where homoscedasticity and normality are desired. Below are examples of Box-Cox and Yeo-Johnwon applied to six different probability distributions: Lognormal, Chi-squared, Weibull, Gaussian, Uniform, and Bimodal.</p> <p>Note that the transformations successfully map the data to a normal distribution when applied to certain datasets, but are ineffective with others. This highlights the importance of visualizing the data before and after transformation.</p> <p>Also note that even though Box-Cox seems to perform better than Yeo-Johnson for lognormal and chi-squared distributions, keep in mind that Box-Cox does not support inputs with negative values.</p> <p>For comparison, we also add the output from <a class="reference internal" href="../../modules/generated/sklearn.preprocessing.quantiletransformer#sklearn.preprocessing.QuantileTransformer" title="sklearn.preprocessing.QuantileTransformer"><code>QuantileTransformer</code></a>. It can force any arbitrary distribution into a gaussian, provided that there are enough training samples (thousands). Because it is a non-parametric method, it is harder to interpret than the parametric ones (Box-Cox and Yeo-Johnson).</p> <p>On “small” datasets (less than a few hundred points), the quantile transformer is prone to overfitting. The use of the power transform is then recommended.</p> <img alt="Lognormal, Chi-squared, Weibull, After Box-Cox\n$\lambda$ = 0.02, After Box-Cox\n$\lambda$ = 0.28, After Box-Cox\n$\lambda$ = 12.12, After Yeo-Johnson\n$\lambda$ = -0.8, After Yeo-Johnson\n$\lambda$ = -0.11, After Yeo-Johnson\n$\lambda$ = 23.52, After Quantile transform, After Quantile transform, After Quantile transform, Gaussian, Uniform, Bimodal, After Box-Cox\n$\lambda$ = 6.99, After Box-Cox\n$\lambda$ = 0.68, After Box-Cox\n$\lambda$ = 1.61, After Yeo-Johnson\n$\lambda$ = 7.05, After Yeo-Johnson\n$\lambda$ = 0.64, After Yeo-Johnson\n$\lambda$ = 1.62, After Quantile transform, After Quantile transform, After Quantile transform" class="sphx-glr-single-img" src="data:image/png;base64,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"> <pre data-language="python"># Author: Eric Chang &lt;ericchang2017@u.northwestern.edu&gt;
#         Nicolas Hug &lt;contact@nicolas-hug.com&gt;
# License: BSD 3 clause

import numpy as np
import matplotlib.pyplot as plt

from sklearn.preprocessing import PowerTransformer
from sklearn.preprocessing import QuantileTransformer
from sklearn.model_selection import train_test_split

print(__doc__)


N_SAMPLES = 1000
FONT_SIZE = 6
BINS = 30


rng = np.random.RandomState(304)
bc = PowerTransformer(method='box-cox')
yj = PowerTransformer(method='yeo-johnson')
# n_quantiles is set to the training set size rather than the default value
# to avoid a warning being raised by this example
qt = QuantileTransformer(n_quantiles=500, output_distribution='normal',
                         random_state=rng)
size = (N_SAMPLES, 1)


# lognormal distribution
X_lognormal = rng.lognormal(size=size)

# chi-squared distribution
df = 3
X_chisq = rng.chisquare(df=df, size=size)

# weibull distribution
a = 50
X_weibull = rng.weibull(a=a, size=size)

# gaussian distribution
loc = 100
X_gaussian = rng.normal(loc=loc, size=size)

# uniform distribution
X_uniform = rng.uniform(low=0, high=1, size=size)

# bimodal distribution
loc_a, loc_b = 100, 105
X_a, X_b = rng.normal(loc=loc_a, size=size), rng.normal(loc=loc_b, size=size)
X_bimodal = np.concatenate([X_a, X_b], axis=0)


# create plots
distributions = [
    ('Lognormal', X_lognormal),
    ('Chi-squared', X_chisq),
    ('Weibull', X_weibull),
    ('Gaussian', X_gaussian),
    ('Uniform', X_uniform),
    ('Bimodal', X_bimodal)
]

colors = ['#D81B60', '#0188FF', '#FFC107',
          '#B7A2FF', '#000000', '#2EC5AC']

fig, axes = plt.subplots(nrows=8, ncols=3, figsize=plt.figaspect(2))
axes = axes.flatten()
axes_idxs = [(0, 3, 6, 9), (1, 4, 7, 10), (2, 5, 8, 11), (12, 15, 18, 21),
             (13, 16, 19, 22), (14, 17, 20, 23)]
axes_list = [(axes[i], axes[j], axes[k], axes[l])
             for (i, j, k, l) in axes_idxs]


for distribution, color, axes in zip(distributions, colors, axes_list):
    name, X = distribution
    X_train, X_test = train_test_split(X, test_size=.5)

    # perform power transforms and quantile transform
    X_trans_bc = bc.fit(X_train).transform(X_test)
    lmbda_bc = round(bc.lambdas_[0], 2)
    X_trans_yj = yj.fit(X_train).transform(X_test)
    lmbda_yj = round(yj.lambdas_[0], 2)
    X_trans_qt = qt.fit(X_train).transform(X_test)

    ax_original, ax_bc, ax_yj, ax_qt = axes

    ax_original.hist(X_train, color=color, bins=BINS)
    ax_original.set_title(name, fontsize=FONT_SIZE)
    ax_original.tick_params(axis='both', which='major', labelsize=FONT_SIZE)

    for ax, X_trans, meth_name, lmbda in zip(
            (ax_bc, ax_yj, ax_qt),
            (X_trans_bc, X_trans_yj, X_trans_qt),
            ('Box-Cox', 'Yeo-Johnson', 'Quantile transform'),
            (lmbda_bc, lmbda_yj, None)):
        ax.hist(X_trans, color=color, bins=BINS)
        title = 'After {}'.format(meth_name)
        if lmbda is not None:
            title += r'\n$\lambda$ = {}'.format(lmbda)
        ax.set_title(title, fontsize=FONT_SIZE)
        ax.tick_params(axis='both', which='major', labelsize=FONT_SIZE)
        ax.set_xlim([-3.5, 3.5])


plt.tight_layout()
plt.show()
</pre> <p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes 2.678 seconds)</p> <div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-preprocessing-plot-map-data-to-normal-py"> <div class="binder-badge docutils container"> <a class="reference external image-reference" href="https://mybinder.org/v2/gh/scikit-learn/scikit-learn/0.24.X?urlpath=lab/tree/notebooks/auto_examples/preprocessing/plot_map_data_to_normal.ipynb"><img alt="Launch binder" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG0AAAAUCAMAAACwC0NtAAABWVBMVEW7u7vo6OjCwsLMzMzz8/P4+Pju7u68vLzd3d24uLjx8fHm5ubT09PAwMDJycnPz8+urq7Ly8va2tq5ubnq6uqSkpLBwcH09PS6urrypVmvr6/i4uLDw8O0tLSjo6PX19e9u7pYm8qxsbGrq6u+vr7s7OzZ2dng4OCVlZXk5OTIyMiWlpampqaoqKj6+vrGxsagoKC9vb2ZmZn29vb///+Nq8Kzs7PSspNlnshfnsr2o1HnZYHXc46dnZ2Li4vS0tKPj4+3t7fOtJm2urztpmKGqsTarYFcmsnTjZzkaYXOl6Kqtr7lqnHEqrD1olLMmqW+t7jWsIzGt6hrnsbQk6Gis7/IoavgbIfhcoprlcHYaom+oH2Elq50kLzV1dWHh4fDuK2Xr8GZsMDHtqatsLrglH/sfm60pLHKqqDWnJHJcJDtgWzoknG8dJaLqr/0lVqeo7jlbX7owswW4TTQAAACXklEQVRIx+3V52/iMBgH4DcsBwfCCCkhQICMS4G0AQKUXqFpumh7Pa57l9t7//9fzlRHWeXbCemkvpEs+ZWtR/rZVqAKj/WvK7u+v7m/np2RdpjokG9pNthRIrF0dJjYfDWLGM/ed76dAWx31v923NS0tWXvRCtD90bTN9Sy1Ona3u6Hp1939+Cw04/SRU9bizwTLTbUG9OtoRZGU7Hn5xefEz9/Nz9tJt4ONDOGky7Q52AuCbStYRvKOmZcyENjKjWqPYnFdZSiQbd9vhCkyMyDUBQzBbC7WmhMe7Gyk92+vrm9ud7ODjRKLQZoiKmgakBTRcULdKboZlDVXMtERzWvMU915xhgknwag2auRaook2/JlhqKi+EJ7QR+5NqX7XYNBtq8wtIZYFQoUxAtc2ELsORIYbS4AGpgLEnZqetqHpKOIGLVKwnSIqIKrKkVIm6FG09y9+Jj4/Z789fy8rOBlsddd7enBYlGDt0Cyw+CiDwcmGOaDRC808ix+lRysIKFtG4g4IKIe/JK7qycf7kicW7l3txrQS9fYomWAptoqZ6mu8HEvVsyrmkIomxPCxLNwQVgSZKpkkT7I6HJa3Jw0rxq7h3AVu71veaPMfkkNlmc1PuaEs/HOYSJZo9qOo5pRl8D0aI0DRkeBnedhzSAd5fHpxunjfskw0Xg5YV5w9+qiBUeigrASxD5esXgVgGM1shmg68srDkyT7aAfxUUXuFXuTovSxWQSg++gq3c8nE7VxvqcOE6iA6kRRD6LSecfvgNObIwPBOFu/3y1De3UWvkGrWNx9/T/1B/AFudUABdgF9sAAAAAElFTkSuQmCC" style="width: 150px;"></a> </div> <div class="sphx-glr-download sphx-glr-download-python docutils container"> <p><a class="reference download internal" download="" href="https://scikit-learn.org/0.24/_downloads/4a586e9878904f51e624d94c03b3beff/plot_map_data_to_normal.py"><code>Download Python source code: plot_map_data_to_normal.py</code></a></p> </div> <div class="sphx-glr-download sphx-glr-download-jupyter docutils container"> <p><a class="reference download internal" download="" href="https://scikit-learn.org/0.24/_downloads/fc26dc0b9d906466315a49a860435409/plot_map_data_to_normal.ipynb"><code>Download Jupyter notebook: plot_map_data_to_normal.ipynb</code></a></p> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2007&ndash;2020 The scikit-learn developers<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://scikit-learn.org/0.24/auto_examples/preprocessing/plot_map_data_to_normal.html" class="_attribution-link">https://scikit-learn.org/0.24/auto_examples/preprocessing/plot_map_data_to_normal.html</a>
  </p>
</div>
