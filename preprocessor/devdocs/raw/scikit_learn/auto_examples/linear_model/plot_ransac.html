<h1 id="sphx-glr-auto-examples-linear-model-plot-ransac-py">Robust linear model estimation using RANSAC</h1> <p>In this example we see how to robustly fit a linear model to faulty data using the RANSAC algorithm.</p> <img alt="plot ransac" class="sphx-glr-single-img" src="data:image/png;base64,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"> <p class="sphx-glr-script-out">Out:</p> <pre data-language="none">Estimated coefficients (true, linear regression, RANSAC):
82.1903908407869 [54.17236387] [82.08533159]
</pre>  <pre data-language="python">import numpy as np
from matplotlib import pyplot as plt

from sklearn import linear_model, datasets


n_samples = 1000
n_outliers = 50


X, y, coef = datasets.make_regression(n_samples=n_samples, n_features=1,
                                      n_informative=1, noise=10,
                                      coef=True, random_state=0)

# Add outlier data
np.random.seed(0)
X[:n_outliers] = 3 + 0.5 * np.random.normal(size=(n_outliers, 1))
y[:n_outliers] = -3 + 10 * np.random.normal(size=n_outliers)

# Fit line using all data
lr = linear_model.LinearRegression()
lr.fit(X, y)

# Robustly fit linear model with RANSAC algorithm
ransac = linear_model.RANSACRegressor()
ransac.fit(X, y)
inlier_mask = ransac.inlier_mask_
outlier_mask = np.logical_not(inlier_mask)

# Predict data of estimated models
line_X = np.arange(X.min(), X.max())[:, np.newaxis]
line_y = lr.predict(line_X)
line_y_ransac = ransac.predict(line_X)

# Compare estimated coefficients
print("Estimated coefficients (true, linear regression, RANSAC):")
print(coef, lr.coef_, ransac.estimator_.coef_)

lw = 2
plt.scatter(X[inlier_mask], y[inlier_mask], color='yellowgreen', marker='.',
            label='Inliers')
plt.scatter(X[outlier_mask], y[outlier_mask], color='gold', marker='.',
            label='Outliers')
plt.plot(line_X, line_y, color='navy', linewidth=lw, label='Linear regressor')
plt.plot(line_X, line_y_ransac, color='cornflowerblue', linewidth=lw,
         label='RANSAC regressor')
plt.legend(loc='lower right')
plt.xlabel("Input")
plt.ylabel("Response")
plt.show()
</pre> <p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes 0.175 seconds)</p> <div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-linear-model-plot-ransac-py"> <div class="binder-badge docutils container"> <a class="reference external image-reference" href="https://mybinder.org/v2/gh/scikit-learn/scikit-learn/0.24.X?urlpath=lab/tree/notebooks/auto_examples/linear_model/plot_ransac.ipynb"><img alt="Launch binder" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG0AAAAUCAMAAACwC0NtAAABWVBMVEW7u7vo6OjCwsLMzMzz8/P4+Pju7u68vLzd3d24uLjx8fHm5ubT09PAwMDJycnPz8+urq7Ly8va2tq5ubnq6uqSkpLBwcH09PS6urrypVmvr6/i4uLDw8O0tLSjo6PX19e9u7pYm8qxsbGrq6u+vr7s7OzZ2dng4OCVlZXk5OTIyMiWlpampqaoqKj6+vrGxsagoKC9vb2ZmZn29vb///+Nq8Kzs7PSspNlnshfnsr2o1HnZYHXc46dnZ2Li4vS0tKPj4+3t7fOtJm2urztpmKGqsTarYFcmsnTjZzkaYXOl6Kqtr7lqnHEqrD1olLMmqW+t7jWsIzGt6hrnsbQk6Gis7/IoavgbIfhcoprlcHYaom+oH2Elq50kLzV1dWHh4fDuK2Xr8GZsMDHtqatsLrglH/sfm60pLHKqqDWnJHJcJDtgWzoknG8dJaLqr/0lVqeo7jlbX7owswW4TTQAAACXklEQVRIx+3V52/iMBgH4DcsBwfCCCkhQICMS4G0AQKUXqFpumh7Pa57l9t7//9fzlRHWeXbCemkvpEs+ZWtR/rZVqAKj/WvK7u+v7m/np2RdpjokG9pNthRIrF0dJjYfDWLGM/ed76dAWx31v923NS0tWXvRCtD90bTN9Sy1Ona3u6Hp1939+Cw04/SRU9bizwTLTbUG9OtoRZGU7Hn5xefEz9/Nz9tJt4ONDOGky7Q52AuCbStYRvKOmZcyENjKjWqPYnFdZSiQbd9vhCkyMyDUBQzBbC7WmhMe7Gyk92+vrm9ud7ODjRKLQZoiKmgakBTRcULdKboZlDVXMtERzWvMU915xhgknwag2auRaook2/JlhqKi+EJ7QR+5NqX7XYNBtq8wtIZYFQoUxAtc2ELsORIYbS4AGpgLEnZqetqHpKOIGLVKwnSIqIKrKkVIm6FG09y9+Jj4/Z789fy8rOBlsddd7enBYlGDt0Cyw+CiDwcmGOaDRC808ix+lRysIKFtG4g4IKIe/JK7qycf7kicW7l3txrQS9fYomWAptoqZ6mu8HEvVsyrmkIomxPCxLNwQVgSZKpkkT7I6HJa3Jw0rxq7h3AVu71veaPMfkkNlmc1PuaEs/HOYSJZo9qOo5pRl8D0aI0DRkeBnedhzSAd5fHpxunjfskw0Xg5YV5w9+qiBUeigrASxD5esXgVgGM1shmg68srDkyT7aAfxUUXuFXuTovSxWQSg++gq3c8nE7VxvqcOE6iA6kRRD6LSecfvgNObIwPBOFu/3y1De3UWvkGrWNx9/T/1B/AFudUABdgF9sAAAAAElFTkSuQmCC" style="width: 150px;"></a> </div> <div class="sphx-glr-download sphx-glr-download-python docutils container"> <p><a class="reference download internal" download="" href="https://scikit-learn.org/0.24/_downloads/b4762c93d453d21e5679b926dd2c532c/plot_ransac.py"><code>Download Python source code: plot_ransac.py</code></a></p> </div> <div class="sphx-glr-download sphx-glr-download-jupyter docutils container"> <p><a class="reference download internal" download="" href="https://scikit-learn.org/0.24/_downloads/99ccb624369d00fa81b6030937f80b04/plot_ransac.ipynb"><code>Download Jupyter notebook: plot_ransac.ipynb</code></a></p> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2007&ndash;2020 The scikit-learn developers<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://scikit-learn.org/0.24/auto_examples/linear_model/plot_ransac.html" class="_attribution-link">https://scikit-learn.org/0.24/auto_examples/linear_model/plot_ransac.html</a>
  </p>
</div>
