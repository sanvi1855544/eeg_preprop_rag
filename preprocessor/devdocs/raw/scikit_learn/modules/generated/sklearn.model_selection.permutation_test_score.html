<h1>sklearn.model_selection.permutation_test_score</h1> <dl class="py function"> <dt id="sklearn.model_selection.permutation_test_score">
<code>sklearn.model_selection.permutation_test_score(estimator, X, y, *, groups=None, cv=None, n_permutations=100, n_jobs=None, random_state=0, verbose=0, scoring=None, fit_params=None)</code> <a class="reference external" href="https://github.com/scikit-learn/scikit-learn/blob/95119c13a/sklearn/model_selection/_validation.py#L1051"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Evaluate the significance of a cross-validated score with permutations</p> <p>Permutes targets to generate ‘randomized data’ and compute the empirical p-value against the null hypothesis that features and targets are independent.</p> <p>The p-value represents the fraction of randomized data sets where the estimator performed as well or better than in the original data. A small p-value suggests that there is a real dependency between features and targets which has been used by the estimator to give good predictions. A large p-value may be due to lack of real dependency between features and targets or the estimator was not able to use the dependency to give good predictions.</p> <p>Read more in the <a class="reference internal" href="../cross_validation#permutation-test-score"><span class="std std-ref">User Guide</span></a>.</p> <dl class="field-list"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<dl> <dt>
<code>estimatorestimator object implementing ‘fit’</code> </dt>
<dd>
<p>The object to use to fit the data.</p> </dd> <dt>
<code>Xarray-like of shape at least 2D</code> </dt>
<dd>
<p>The data to fit.</p> </dd> <dt>
<code>yarray-like of shape (n_samples,) or (n_samples, n_outputs) or None</code> </dt>
<dd>
<p>The target variable to try to predict in the case of supervised learning.</p> </dd> <dt>
<code>groupsarray-like of shape (n_samples,), default=None</code> </dt>
<dd>
<p>Labels to constrain permutation within groups, i.e. <code>y</code> values are permuted among samples with the same group identifier. When not specified, <code>y</code> values are permuted among all samples.</p> <p>When a grouped cross-validator is used, the group labels are also passed on to the <code>split</code> method of the cross-validator. The cross-validator uses them for grouping the samples while splitting the dataset into train/test set.</p> </dd> <dt>
<code>scoringstr or callable, default=None</code> </dt>
<dd>
<p>A single str (see <a class="reference internal" href="../model_evaluation#scoring-parameter"><span class="std std-ref">The scoring parameter: defining model evaluation rules</span></a>) or a callable (see <a class="reference internal" href="../model_evaluation#scoring"><span class="std std-ref">Defining your scoring strategy from metric functions</span></a>) to evaluate the predictions on the test set.</p> <p>If None the estimator’s score method is used.</p> </dd> <dt>
<code>cvint, cross-validation generator or an iterable, default=None</code> </dt>
<dd>
<p>Determines the cross-validation splitting strategy. Possible inputs for cv are:</p> <ul class="simple"> <li>None, to use the default 5-fold cross validation,</li> <li>int, to specify the number of folds in a <code>(Stratified)KFold</code>,</li> <li>
<a class="reference internal" href="https://scikit-learn.org/0.24/glossary.html#term-CV-splitter"><span class="xref std std-term">CV splitter</span></a>,</li> <li>An iterable yielding (train, test) splits as arrays of indices.</li> </ul> <p>For int/None inputs, if the estimator is a classifier and <code>y</code> is either binary or multiclass, <a class="reference internal" href="sklearn.model_selection.stratifiedkfold#sklearn.model_selection.StratifiedKFold" title="sklearn.model_selection.StratifiedKFold"><code>StratifiedKFold</code></a> is used. In all other cases, <a class="reference internal" href="sklearn.model_selection.kfold#sklearn.model_selection.KFold" title="sklearn.model_selection.KFold"><code>KFold</code></a> is used.</p> <p>Refer <a class="reference internal" href="../cross_validation#cross-validation"><span class="std std-ref">User Guide</span></a> for the various cross-validation strategies that can be used here.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.22: </span><code>cv</code> default value if None changed from 3-fold to 5-fold.</p> </div> </dd> <dt>
<code>n_permutationsint, default=100</code> </dt>
<dd>
<p>Number of times to permute <code>y</code>.</p> </dd> <dt>
<code>n_jobsint, default=None</code> </dt>
<dd>
<p>Number of jobs to run in parallel. Training the estimator and computing the cross-validated score are parallelized over the permutations. <code>None</code> means 1 unless in a <a class="reference external" href="https://joblib.readthedocs.io/en/latest/parallel.html#joblib.parallel_backend" title="(in joblib v1.1.0.dev0)"><code>joblib.parallel_backend</code></a> context. <code>-1</code> means using all processors. See <a class="reference internal" href="https://scikit-learn.org/0.24/glossary.html#term-n_jobs"><span class="xref std std-term">Glossary</span></a> for more details.</p> </dd> <dt>
<code>random_stateint, RandomState instance or None, default=0</code> </dt>
<dd>
<p>Pass an int for reproducible output for permutation of <code>y</code> values among samples. See <a class="reference internal" href="https://scikit-learn.org/0.24/glossary.html#term-random_state"><span class="xref std std-term">Glossary</span></a>.</p> </dd> <dt>
<code>verboseint, default=0</code> </dt>
<dd>
<p>The verbosity level.</p> </dd> <dt>
<code>fit_paramsdict, default=None</code> </dt>
<dd>
<p>Parameters to pass to the fit method of the estimator.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.24.</span></p> </div> </dd> </dl> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<dl> <dt>
<code>scorefloat</code> </dt>
<dd>
<p>The true score without permuting targets.</p> </dd> <dt>
<code>permutation_scoresarray of shape (n_permutations,)</code> </dt>
<dd>
<p>The scores obtained for each permutations.</p> </dd> <dt>
<code>pvaluefloat</code> </dt>
<dd>
<p>The p-value, which approximates the probability that the score would be obtained by chance. This is calculated as:</p> <p><code>(C + 1) / (n_permutations + 1)</code></p> <p>Where C is the number of permutations whose score &gt;= the true score.</p> <p>The best possible p-value is 1/(n_permutations + 1), the worst is 1.0.</p> </dd> </dl> </dd> </dl> <h4 class="rubric">Notes</h4> <p>This function implements Test 1 in:</p>  <p>Ojala and Garriga. <a class="reference external" href="http://www.jmlr.org/papers/volume11/ojala10a/ojala10a.pdf">Permutation Tests for Studying Classifier Performance</a>. The Journal of Machine Learning Research (2010) vol. 11</p>  </dd>
</dl>  <h2 id="examples-using-sklearn-model-selection-permutation-test-score">Examples using <code>sklearn.model_selection.permutation_test_score</code>
</h2> <div class="sphx-glr-thumbcontainer" tooltip="This example demonstrates the use of permutation_test_score to evaluate the significance of a c...">
<div class="figure align-default" id="id1"> <img alt="Test with permutations the significance of a classification score" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAEYCAMAAABFglBLAAABHVBMVEX///+2traTk5Pr6+sUcbCioqKmpqYfd7S+vr6KioppaWkbdbP/+/v//v4XcrH/q6s6h72Vv9uixuAfeLX9/v5RWmEUaKNYWFj/GBjI3u309PSoyuLw8PD6+vr/EREtgLnz+PuxsbFeXl7h4eGYmJjm5uZTU1P39/e10uf9/f1kZGTV1dV7e3udnZ2BgYHd3d2srKzR0dF0dHS5ublvb29IkMKFhYXCwsLZ2dlam8g8PT3Ly8tsbGzNzc1ISEiQkJDY6PP/5ub/tbXIyMicw96NjY3Fxsb/wMDO4e++1+kwMTH/Skr/0tKuzuT/7+//Li4MbK7k7/b/yso2hbz9lZX/aGj/2dn/gIAbbqh4rdKOutlPWF+KCQmKW1sRZqJSFMpeAAAM60lEQVR42uydfVvayBqHB0IICUJdZTdHmlQJAUwI768CQtVKt27Xo7Xbl91zzvf/GGeCtdXWaaJCmMDv/qNeuUxHyZ2Z53kmmZEQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAXFBLgO3rTO4dCsEImxqkMbnP63//cOpqo8QUb0OpilvTMeun6MJrAKPEdz17cPoovWkgtOshb0bpTvT40IzDwHW8/pm4difGF/0C1Rv85NOg/ernRbMHATwlIiGa7PUM7rY4hZPk9pECyzTrBkMWMIRtBCtFyZ9G8oSaGmeugDiE/CPlXsELMaLQhmtG6BSFcCPkOCPmB43+HVcjlzs7Oy5Xzkdo4JyEVsn+RvjhYvR6ycRRaITEpvYJCwhtDIARCIARCIGTZfHifghB+gZCl8+4vDFl8xZAXEIKgDiHoIWEh9foPCOHLSCrEWZa02+l0NvdXysf5uxDXIZKUTiYvniOo8yOEEoMQCIEQCIGQJXF0nIIQfoGQpRPqwnAlY8gLCEFQhxD0EMQQCAlFljVb0pYVRQ1C+KhD3CVtxHHkpj47NCHkO1KBB3W1phWzGXcd1ROWtO1dXl5upZFlzUVIPq8Sy248aUnbVnp7e1uCkLkIKWS/9JAnDFlbX4YrCHlyUM+dRQvV6k0MiULI95y/DTSou0va+vqTs6wVFhLOZ+orLOQ4lIXhKseQFxCy3lkWhKCHhIpwvv2+wkLuAiFLJ5wrqBBDIARZFoSEQEiGstpCUsdhEvLyavOqk1ntHhKqvU5eppPpq9UWkgqXkKSU3FzxHhKq/bLWQUiogjqEQAgKw3UXEqqpk3UQEqpHuOsgJPCdrSEEMQRZFoSgh6BShxBkWWshJOBXSSHEq4NgyEKWRbJxswYhHAlxunFVeKiQvZ2dnedIexcjRDy0r4U8YMHOzkU6nZbWYHLxWfBBPVc0nNJDl7TtXC8pXHkhdwlEiKXWiDF86KLPdRGyhHd7MyMaQ/IPHrKYQv5EDHkimmj2H5xlMYUkDz5//vwGWVbQdQhTiJSOxS7+Rg/hR4g7bP2yMpV6aDafWRMhy8iyIORnHL1OQQiCOoRACIRACNJeBHV/lBIahPguRAJ4pl5yDLkPIf4IpjDUzLNiRIcQTmKI1ZAVOWHXIYSTLEtriwIhtSGEcNJDNNo3SnHEEF8E8IAqWy+enIhtCHl4krUYIQVj0G43GxDirw5Z/EsOut4vlXQLQnz1kACCekWwVbU4gRBesqwS0SglCOFFyGTUpogQwouQcm9IqUGILwJYjnBSiotipQchvtg4X3jam8iaZsVsQYgvgtnZOiLeW4ZAyHKmTvRRe6Ji6oSboE4EhZA+pk646SHDiDqJ2CgM/VXqbz8uvg5pj0ZN5U7LFoQwjZCFZ1mUzJ1KXevapg4h9xPE9kyZ+Hg8OP123JUbwnUfMSFkGVmWoFTMiPnteGCMqvNb0oYs68EUnJ7TupVlnSUs43BuS9rQQx5ehyS0bnH67diO6EYDQxajUg9kJ4f+ULh1dGjYpwjqDDaOFh/UdVltF29PLmYFpL0szgMQIhg6maJS52XISgl9pZePRiGEl6BeVYtjdQAh3KS9paxeKGs6hHCT9pK6qtp4hMvP1ImgFkiuCSGPYFFCBBKBEH8EMP1OSLxoGGUI8ZWTBjK5KAr9e2M6hCwlyyJaO2/pc8uy9EwmgyzraVMnxbGhzqkOkbY3KbsSXgN6PFZlYPdrwpyESEkXCS/KPZ6y2lIYzz18CtmjvElLbPAq6UPoyaRlPkVIprNLkdZCSBB/6fNw0C6OlcoThFzdM0ohy3o0peHJcDjtP0HI5k9tQMj8gBAI4T2GHD1LQQhXRgiBEJ54/ReGrLWbOoEQBHX0EAiZVwz5A0I4TrMgZOmEYWdrxBAIWbcsK1csQAhHQvrtYh5C+BGSrfZt2kMsTetCCA9BvaLGByIhgjMaJCDkpwQjpCyaZxUMWVwVhgqCOl9pb9aCEJ7SXtQhKAzDwjs8oEKWBSE/q0PwkgNXpBBDkGVBCISEiGA2n4EQ3wSwHAFCHhTV8UwdQxaEhHzqhCDL4keI9Xxra2sXPYQbIXvbsVhMktanUn/7ke8sa8+zd2ByEUIWydv3K9NDLvcpe4gh3Aj55SIWu/gdWRY3Ql7R4J+GEAhZr0p97YRsHBEI4akOgRDEEAiBEAiBkFAVhhaEMPkQ/NRJZmIr0zkLeUWu944Nv5C7BCOkoU1Vfa5Ckp2Dg8+d5CoIWc67va2R5XNJmz8hUjKdjrknIoY8iqHqbvjna0mbTyE3pF8iy3qED6M/56D+DTp2dX5HD3kY43HztLQgIel0+uJNmIUcL2GNoSYUhMyChLhOQi2E9xfl1k4I76+Srp2Q1Zg6gRAIgRAIgZBlJFlHxwjqfBkhEMKVj3ec7kq6d0lZyxjC6ZuLB8ltadN6lJDYDoL6AoSkpeTV44Sk/97f379ED+FGiJSOxS6eh1UIrztbz4TQr5lHCHGHrT/JSsCHkP2tra1OUkru0q+vdqX1EsJjHdK5iM2ex0oxP8vZVkwIj0G9k5aeCoRACIRACIQEwPm7FITwNZtFIASF4cKFJK86nc0wSuFyz8U5CJGSyeRFKHcT4C2oZyjzEHLzSnz4hHDWQw6uNje3pTUWwtvO1pvpZFJaZyG8TS5uzktHWIV84GzzmbUXspSgLrTK9wjRDzqdzvbcfMxS307nEkI8U23NdtTej0L2dmn82J4jSZfwCQl+yIqMSKs9W9JWjWuCJnyh8Ol/v93Pp0+/ecI6ZUf4iqYJnvg4RVhkM9r7F4VvR9moGISQikwahrukTVGNkT1QbviVxWDwqxf/nP1z/ze+tq6MiuOR4sXA9jxFHXg2MxoYns0Y9zdjq7eaGY97QQipO+REuTnI2j4M1r3PsTc8T8lFfTSjeZ5yUvVupl3zPKXWvn9Av71ip3oSyDBZKybalZsDTZmLEEvRvYWY3j9KEeYipOlDSNO7mYCEkF6z8vXy6Yc+DBY8T8kcWp7nFLyvEjn09iqUvZtpZD1PyTa8mykLBADADTW5UqKDVq4rsnt4bjaOCma3xaxrhNPoLBRb5pDZTKLq7lGgydUucxTQohPh+tS4zo4fOXfsk6tVZlgrVWT3T2GXxC57V4RGN27NvoglViv17myArXUrpcB8aIboyPSLmKh2mTWLkSv26SVoTVXW59MVU3bcz1c/Y0btqZpTqdjy+LDB+nwZRzbdzCDS7g1Z55SLOYPeGNnhoXrK+lGyIxr0/jKb0yIrPBaKdYVWfDU1Up2wrk197KrX1HhzEpiQQ4Pk1dln742Y+WOEyO5l1oYKK+PIFzPZouDeb6cVVjNdkVSo9Nq4bbLufq2oEbVPMrbSrFvsCioyS45KX/4g/D3pHv2OTXuq6JwofVavb5IhzfanNjkZZ1i/suMK6SlUWyYoIVRDQXUHq4LBTO+ohop7MzaaKitHKhskqxZofxvKss7+dDmHXsd8XmHVvgW1lLEbJDOQa0VWAkSN92Zpem7EukpZ6rVNO/OJ2jRYyaHYdX9porVpWcwcHZuukFaTCGpgY1ZZpfrpLyQo7NG2WSfV6/t+IjMHAN29uwVDGQxY0mgvM6//v+gwr6RgqfS+V6ekzYpXYtWtaunwZjMjmkVvHIOOVaMecVjuW+0vXgstg/nJHXee78R2r1JQlEZdRZxG9bFR77EH/4la6PaHZoUZQyzHaU7KbhSSo2z3E7U/GZajlSLzR8ltx6lVMzkjyry187SZoRihsYR911aUbrvg6P9v1wxWHYWhMHxMMKTC7ApCSRaxatA2amypwU7aRWgX9/0faGL3XmbR6dzF+TYiuAjnkBO/n5SZWT1DaPEouGJbZoq1xko1t54NMru06ccaEk8uDpWXiqXrW8SzPQRBFVvXMa2Shi5Dr183vwNz4CuhmFv9RCZKi+cWAlv30J5ZsH1c9DeZAR+EnOSWf7PiigVwB3imdn0xjHnngA4cfiK/0BEQBEGQ/084YQ1+Ejqro4v6ZA/0dNUH2Rya3vHd9VQtWuCpg+YQ3UhPnML+5EHzANLZAIHvsHr/gOelVGCKTbLPu7Kvqah1mxtnSEtdfTG+0C6q8bY73q3NN+VuHNtSzKMy3WPUWL73/z8feTjLOgoLWXLNnO5iQ5LoYfd5WkKz5nwtl8fY2Zdp2wJovr/R3dxtZov1ezt0Loq5z+N8upMlIxTips9PSH9fc7Vhr/SofaXnSWaWeM+3sWt9Iaobv1qcWe/HdLIhD3IeJlengxgv9y+ZTWAy9aVszZSQc/ZKLpLuEfL43pLjRdS0OXZJiiPr/UxxWFVcKmLBkkFSk5zkswLNGO/BEyUhW0K9bSCDhkASoCXTmmuQA+EN1u/jyPtfXARCPkdj8aIHgiAIgiA/gz/D1Gw2afBRKAAAAABJRU5ErkJggg=="> <p class="caption"><span class="caption-text"><a class="reference internal" href="../../auto_examples/feature_selection/plot_permutation_test_for_classification#sphx-glr-auto-examples-feature-selection-plot-permutation-test-for-classification-py"><span class="std std-ref">Test with permutations the significance of a classification score</span></a></span></p> </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2007&ndash;2020 The scikit-learn developers<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.permutation_test_score.html" class="_attribution-link">https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.permutation_test_score.html</a>
  </p>
</div>
