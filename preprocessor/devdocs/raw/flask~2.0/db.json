{"index":"<h1>Welcome to Flask</h1> <a class=\"reference external image-reference\" href=\"https://palletsprojects.com/p/flask/\"><img alt=\"Flask: web development, one drop at a time\" class=\"align-center\" src=\"data:image/png;base64,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\"></a> <p>Welcome to Flask’s documentation. Get started with <a class=\"reference internal\" href=\"installation/index\"><span class=\"doc\">Installation</span></a> and then get an overview with the <a class=\"reference internal\" href=\"quickstart/index\"><span class=\"doc\">Quickstart</span></a>. There is also a more detailed <a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/tutorial/\"><span class=\"doc\">Tutorial</span></a> that shows how to create a small but complete application with Flask. Common patterns are described in the <a class=\"reference internal\" href=\"patterns/index\"><span class=\"doc\">Patterns for Flask</span></a> section. The rest of the docs describe each component of Flask in detail, with a full reference in the <a class=\"reference internal\" href=\"api/index\"><span class=\"doc\">API</span></a> section.</p> <p>Flask depends on the <a class=\"reference external\" href=\"https://www.palletsprojects.com/p/jinja/\">Jinja</a> template engine and the <a class=\"reference external\" href=\"https://www.palletsprojects.com/p/werkzeug/\">Werkzeug</a> WSGI toolkit. The documentation for these libraries can be found at:</p> <ul class=\"simple\"> <li><a class=\"reference external\" href=\"https://jinja.palletsprojects.com/\">Jinja documentation</a></li> <li><a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/\">Werkzeug documentation</a></li> </ul>  <h2 id=\"user-s-guide\">User’s Guide</h2> <p>This part of the documentation, which is mostly prose, begins with some background information about Flask, then focuses on step-by-step instructions for web development with Flask.</p>  <ul> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"foreword/index\">Foreword</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"foreword/index#what-does-micro-mean\">What does “micro” mean?</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"foreword/index#configuration-and-conventions\">Configuration and Conventions</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"foreword/index#growing-with-flask\">Growing with Flask</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"advanced_foreword/index\">Foreword for Experienced Programmers</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"advanced_foreword/index#thread-locals-in-flask\">Thread-Locals in Flask</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"advanced_foreword/index#develop-for-the-web-with-caution\">Develop for the Web with Caution</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"installation/index\">Installation</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"installation/index#python-version\">Python Version</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"installation/index#dependencies\">Dependencies</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"installation/index#virtual-environments\">Virtual environments</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"installation/index#install-flask\">Install Flask</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"quickstart/index\">Quickstart</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"quickstart/index#a-minimal-application\">A Minimal Application</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"quickstart/index#what-to-do-if-the-server-does-not-start\">What to do if the Server does not Start</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"quickstart/index#debug-mode\">Debug Mode</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"quickstart/index#html-escaping\">HTML Escaping</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"quickstart/index#routing\">Routing</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"quickstart/index#static-files\">Static Files</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"quickstart/index#rendering-templates\">Rendering Templates</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"quickstart/index#accessing-request-data\">Accessing Request Data</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"quickstart/index#redirects-and-errors\">Redirects and Errors</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"quickstart/index#about-responses\">About Responses</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"quickstart/index#sessions\">Sessions</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"quickstart/index#message-flashing\">Message Flashing</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"quickstart/index#logging\">Logging</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"quickstart/index#hooking-in-wsgi-middleware\">Hooking in WSGI Middleware</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"quickstart/index#using-flask-extensions\">Using Flask Extensions</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"quickstart/index#deploying-to-a-web-server\">Deploying to a Web Server</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/tutorial/\">Tutorial</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/tutorial/layout/\">Project Layout</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/tutorial/factory/\">Application Setup</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/tutorial/database/\">Define and Access the Database</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/tutorial/views/\">Blueprints and Views</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/tutorial/templates/\">Templates</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/tutorial/static/\">Static Files</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/tutorial/blog/\">Blog Blueprint</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/tutorial/install/\">Make the Project Installable</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/tutorial/tests/\">Test Coverage</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/tutorial/deploy/\">Deploy to Production</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/tutorial/next/\">Keep Developing!</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"templating/index\">Templates</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"templating/index#jinja-setup\">Jinja Setup</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"templating/index#standard-context\">Standard Context</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"templating/index#controlling-autoescaping\">Controlling Autoescaping</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"templating/index#registering-filters\">Registering Filters</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"templating/index#context-processors\">Context Processors</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"testing/index\">Testing Flask Applications</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"testing/index#the-application\">The Application</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"testing/index#the-testing-skeleton\">The Testing Skeleton</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"testing/index#the-first-test\">The First Test</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"testing/index#logging-in-and-out\">Logging In and Out</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"testing/index#test-adding-messages\">Test Adding Messages</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"testing/index#other-testing-tricks\">Other Testing Tricks</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"testing/index#faking-resources-and-context\">Faking Resources and Context</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"testing/index#keeping-the-context-around\">Keeping the Context Around</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"testing/index#accessing-and-modifying-sessions\">Accessing and Modifying Sessions</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"testing/index#testing-json-apis\">Testing JSON APIs</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"testing/index#testing-cli-commands\">Testing CLI Commands</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"errorhandling/index\">Handling Application Errors</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"errorhandling/index#error-logging-tools\">Error Logging Tools</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"errorhandling/index#error-handlers\">Error Handlers</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"errorhandling/index#custom-error-pages\">Custom Error Pages</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"errorhandling/index#blueprint-error-handlers\">Blueprint Error Handlers</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"errorhandling/index#returning-api-errors-as-json\">Returning API Errors as JSON</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"errorhandling/index#logging\">Logging</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"errorhandling/index#debugging\">Debugging</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"debugging/index\">Debugging Application Errors</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"debugging/index#in-production\">In Production</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"debugging/index#the-built-in-debugger\">The Built-In Debugger</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"debugging/index#external-debuggers\">External Debuggers</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"logging/index\">Logging</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"logging/index#basic-configuration\">Basic Configuration</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"logging/index#email-errors-to-admins\">Email Errors to Admins</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"logging/index#injecting-request-information\">Injecting Request Information</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"logging/index#other-libraries\">Other Libraries</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"config/index\">Configuration Handling</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"config/index#configuration-basics\">Configuration Basics</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"config/index#environment-and-debug-features\">Environment and Debug Features</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"config/index#builtin-configuration-values\">Builtin Configuration Values</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"config/index#configuring-from-python-files\">Configuring from Python Files</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"config/index#configuring-from-data-files\">Configuring from Data Files</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"config/index#configuring-from-environment-variables\">Configuring from Environment Variables</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"config/index#configuration-best-practices\">Configuration Best Practices</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"config/index#development-production\">Development / Production</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"config/index#instance-folders\">Instance Folders</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"signals/index\">Signals</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"signals/index#subscribing-to-signals\">Subscribing to Signals</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"signals/index#creating-signals\">Creating Signals</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"signals/index#sending-signals\">Sending Signals</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"signals/index#signals-and-flask-s-request-context\">Signals and Flask’s Request Context</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"signals/index#decorator-based-signal-subscriptions\">Decorator Based Signal Subscriptions</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"signals/index#core-signals\">Core Signals</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"views/index\">Pluggable Views</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"views/index#basic-principle\">Basic Principle</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"views/index#method-hints\">Method Hints</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"views/index#method-based-dispatching\">Method Based Dispatching</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"views/index#decorating-views\">Decorating Views</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"views/index#method-views-for-apis\">Method Views for APIs</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"appcontext/index\">The Application Context</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"appcontext/index#purpose-of-the-context\">Purpose of the Context</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"appcontext/index#lifetime-of-the-context\">Lifetime of the Context</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"appcontext/index#manually-push-a-context\">Manually Push a Context</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"appcontext/index#storing-data\">Storing Data</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"appcontext/index#events-and-signals\">Events and Signals</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"reqcontext/index\">The Request Context</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"reqcontext/index#purpose-of-the-context\">Purpose of the Context</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"reqcontext/index#lifetime-of-the-context\">Lifetime of the Context</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"reqcontext/index#manually-push-a-context\">Manually Push a Context</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"reqcontext/index#how-the-context-works\">How the Context Works</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"reqcontext/index#callbacks-and-errors\">Callbacks and Errors</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"reqcontext/index#context-preservation-on-error\">Context Preservation on Error</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"reqcontext/index#notes-on-proxies\">Notes On Proxies</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"blueprints/index\">Modular Applications with Blueprints</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"blueprints/index#why-blueprints\">Why Blueprints?</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"blueprints/index#the-concept-of-blueprints\">The Concept of Blueprints</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"blueprints/index#my-first-blueprint\">My First Blueprint</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"blueprints/index#registering-blueprints\">Registering Blueprints</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"blueprints/index#nesting-blueprints\">Nesting Blueprints</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"blueprints/index#blueprint-resources\">Blueprint Resources</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"blueprints/index#building-urls\">Building URLs</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"blueprints/index#blueprint-error-handlers\">Blueprint Error Handlers</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"extensions/index\">Extensions</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"extensions/index#finding-extensions\">Finding Extensions</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"extensions/index#using-extensions\">Using Extensions</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"extensions/index#building-extensions\">Building Extensions</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"cli/index\">Command Line Interface</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"cli/index#application-discovery\">Application Discovery</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"cli/index#run-the-development-server\">Run the Development Server</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"cli/index#open-a-shell\">Open a Shell</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"cli/index#environments\">Environments</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"cli/index#debug-mode\">Debug Mode</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"cli/index#environment-variables-from-dotenv\">Environment Variables From dotenv</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"cli/index#environment-variables-from-virtualenv\">Environment Variables From virtualenv</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"cli/index#custom-commands\">Custom Commands</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"cli/index#plugins\">Plugins</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"cli/index#custom-scripts\">Custom Scripts</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"cli/index#pycharm-integration\">PyCharm Integration</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"server/index\">Development Server</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"server/index#command-line\">Command Line</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"server/index#in-code\">In Code</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"shell/index\">Working with the Shell</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"shell/index#command-line-interface\">Command Line Interface</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"shell/index#creating-a-request-context\">Creating a Request Context</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"shell/index#firing-before-after-request\">Firing Before/After Request</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"shell/index#further-improving-the-shell-experience\">Further Improving the Shell Experience</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"patterns/index\">Patterns for Flask</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/packages/index\">Large Applications as Packages</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/appfactories/index\">Application Factories</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/appdispatch/index\">Application Dispatching</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/urlprocessors/index\">Using URL Processors</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/distribute/index\">Deploying with Setuptools</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/fabric/index\">Deploying with Fabric</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/sqlite3/index\">Using SQLite 3 with Flask</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/sqlalchemy/index\">SQLAlchemy in Flask</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/fileuploads/index\">Uploading Files</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/caching/index\">Caching</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/viewdecorators/index\">View Decorators</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/wtforms/index\">Form Validation with WTForms</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/templateinheritance/index\">Template Inheritance</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/flashing/index\">Message Flashing</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/jquery/index\">AJAX with jQuery</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/lazyloading/index\">Lazily Loading Views</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/mongoengine/index\">MongoDB with MongoEngine</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/favicon/index\">Adding a favicon</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/streaming/index\">Streaming Contents</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/deferredcallbacks/index\">Deferred Request Callbacks</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/methodoverrides/index\">Adding HTTP Method Overrides</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/requestchecksum/index\">Request Content Checksums</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/celery/index\">Celery Background Tasks</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/subclassing/index\">Subclassing Flask</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"patterns/singlepageapplications/index\">Single-Page Applications</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"deploying/index\">Deployment Options</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"deploying/index#hosted-options\">Hosted options</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"deploying/index#self-hosted-options\">Self-hosted options</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"becomingbig/index\">Becoming Big</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"becomingbig/index#read-the-source\">Read the Source.</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"becomingbig/index#hook-extend\">Hook. Extend.</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"becomingbig/index#subclass\">Subclass.</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"becomingbig/index#wrap-with-middleware\">Wrap with middleware.</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"becomingbig/index#fork\">Fork.</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"becomingbig/index#scale-like-a-pro\">Scale like a pro.</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"becomingbig/index#discuss-with-the-community\">Discuss with the community.</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"async-await/index\">Using <code>async</code> and <code>await</code></a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"async-await/index#performance\">Performance</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"async-await/index#background-tasks\">Background tasks</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"async-await/index#when-to-use-quart-instead\">When to use Quart instead</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"async-await/index#extensions\">Extensions</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"async-await/index#other-event-loops\">Other event loops</a></li> </ul> </li> </ul>    <h2 id=\"api-reference\">API Reference</h2> <p>If you are looking for information on a specific function, class or method, this part of the documentation is for you.</p>  <ul> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"api/index\">API</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/index#application-object\">Application Object</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/index#blueprint-objects\">Blueprint Objects</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/index#incoming-request-data\">Incoming Request Data</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/index#response-objects\">Response Objects</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/index#sessions\">Sessions</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/index#session-interface\">Session Interface</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/index#test-client\">Test Client</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/index#test-cli-runner\">Test CLI Runner</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/index#application-globals\">Application Globals</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/index#useful-functions-and-classes\">Useful Functions and Classes</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/index#message-flashing\">Message Flashing</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/index#module-flask.json\">JSON Support</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/index#template-rendering\">Template Rendering</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/index#configuration\">Configuration</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/index#stream-helpers\">Stream Helpers</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/index#useful-internals\">Useful Internals</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/index#signals\">Signals</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/index#class-based-views\">Class-Based Views</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/index#url-route-registrations\">URL Route Registrations</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/index#view-function-options\">View Function Options</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/index#command-line-interface\">Command Line Interface</a></li> </ul> </li> </ul>    <h2 id=\"additional-notes\">Additional Notes</h2> <p>Design notes, legal information and changelog are here for the interested.</p>  <ul> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"design/index\">Design Decisions in Flask</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"design/index#the-explicit-application-object\">The Explicit Application Object</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"design/index#the-routing-system\">The Routing System</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"design/index#one-template-engine\">One Template Engine</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"design/index#micro-with-dependencies\">Micro with Dependencies</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"design/index#thread-locals\">Thread Locals</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"design/index#async-await-and-asgi-support\">Async/await and ASGI support</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"design/index#what-flask-is-what-flask-is-not\">What Flask is, What Flask is Not</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"htmlfaq/index\">HTML/XHTML FAQ</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"htmlfaq/index#history-of-xhtml\">History of XHTML</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"htmlfaq/index#history-of-html5\">History of HTML5</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"htmlfaq/index#html-versus-xhtml\">HTML versus XHTML</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"htmlfaq/index#what-does-strict-mean\">What does “strict” mean?</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"htmlfaq/index#new-technologies-in-html5\">New technologies in HTML5</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"htmlfaq/index#what-should-be-used\">What should be used?</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"security/index\">Security Considerations</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"security/index#cross-site-scripting-xss\">Cross-Site Scripting (XSS)</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"security/index#cross-site-request-forgery-csrf\">Cross-Site Request Forgery (CSRF)</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"security/index#json-security\">JSON Security</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"security/index#security-headers\">Security Headers</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"security/index#copy-paste-to-terminal\">Copy/Paste to Terminal</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/extensiondev/\">Flask Extension Development</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/extensiondev/#anatomy-of-an-extension\">Anatomy of an Extension</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/extensiondev/#hello-flaskext\">“Hello Flaskext!”</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/extensiondev/#initializing-extensions\">Initializing Extensions</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/extensiondev/#the-extension-code\">The Extension Code</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/extensiondev/#using-app-ctx-stack\">Using _app_ctx_stack</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/extensiondev/#learn-from-others\">Learn from Others</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/extensiondev/#approved-extensions\">Approved Extensions</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/contributing/\">How to contribute to Flask</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/contributing/#support-questions\">Support questions</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/contributing/#reporting-issues\">Reporting issues</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/contributing/#submitting-patches\">Submitting patches</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/license/\">License</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/license/#bsd-3-clause-source-license\">BSD-3-Clause Source License</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/license/#artwork-license\">Artwork License</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"changes/index\">Changes</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-2-0-1\">Version 2.0.1</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-2-0-0\">Version 2.0.0</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-1-1-2\">Version 1.1.2</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-1-1-1\">Version 1.1.1</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-1-1-0\">Version 1.1.0</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-1-0-4\">Version 1.0.4</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-1-0-3\">Version 1.0.3</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-1-0-2\">Version 1.0.2</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-1-0-1\">Version 1.0.1</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-1-0\">Version 1.0</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-12-5\">Version 0.12.5</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-12-4\">Version 0.12.4</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-12-3\">Version 0.12.3</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-12-2\">Version 0.12.2</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-12-1\">Version 0.12.1</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-12\">Version 0.12</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-11-1\">Version 0.11.1</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-11\">Version 0.11</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-10-1\">Version 0.10.1</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-10\">Version 0.10</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-9\">Version 0.9</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-8-1\">Version 0.8.1</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-8\">Version 0.8</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-7-2\">Version 0.7.2</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-7-1\">Version 0.7.1</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-7\">Version 0.7</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-6-1\">Version 0.6.1</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-6\">Version 0.6</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-5-2\">Version 0.5.2</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-5-1\">Version 0.5.1</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-5\">Version 0.5</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-4\">Version 0.4</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-3-1\">Version 0.3.1</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-3\">Version 0.3</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-2\">Version 0.2</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"changes/index#version-0-1\">Version 0.1</a></li> </ul> </li> </ul><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/index.html\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/index.html</a>\n  </p>\n</div>\n","foreword/index":"<h1>Foreword</h1> <p>Read this before you get started with Flask. This hopefully answers some questions about the purpose and goals of the project, and when you should or should not be using it.</p>  <h2 id=\"what-does-micro-mean\">What does “micro” mean?</h2> <p>“Micro” does not mean that your whole web application has to fit into a single Python file (although it certainly can), nor does it mean that Flask is lacking in functionality. The “micro” in microframework means Flask aims to keep the core simple but extensible. Flask won’t make many decisions for you, such as what database to use. Those decisions that it does make, such as what templating engine to use, are easy to change. Everything else is up to you, so that Flask can be everything you need and nothing you don’t.</p> <p>By default, Flask does not include a database abstraction layer, form validation or anything else where different libraries already exist that can handle that. Instead, Flask supports extensions to add such functionality to your application as if it was implemented in Flask itself. Numerous extensions provide database integration, form validation, upload handling, various open authentication technologies, and more. Flask may be “micro”, but it’s ready for production use on a variety of needs.</p>   <h2 id=\"configuration-and-conventions\">Configuration and Conventions</h2> <p>Flask has many configuration values, with sensible defaults, and a few conventions when getting started. By convention, templates and static files are stored in subdirectories within the application’s Python source tree, with the names <code>templates</code> and <code>static</code> respectively. While this can be changed, you usually don’t have to, especially when getting started.</p>   <h2 id=\"growing-with-flask\">Growing with Flask</h2> <p>Once you have Flask up and running, you’ll find a variety of extensions available in the community to integrate your project for production.</p> <p>As your codebase grows, you are free to make the design decisions appropriate for your project. Flask will continue to provide a very simple glue layer to the best that Python has to offer. You can implement advanced patterns in SQLAlchemy or another database tool, introduce non-relational data persistence as appropriate, and take advantage of framework-agnostic tools built for WSGI, the Python web interface.</p> <p>Flask includes many hooks to customize its behavior. Should you need more customization, the Flask class is built for subclassing. If you are interested in that, check out the <a class=\"reference internal\" href=\"../becomingbig/index\"><span class=\"doc\">Becoming Big</span></a> chapter. If you are curious about the Flask design principles, head over to the section about <a class=\"reference internal\" href=\"../design/index\"><span class=\"doc\">Design Decisions in Flask</span></a>.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/foreword/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/foreword/</a>\n  </p>\n</div>\n","advanced_foreword/index":"<h1>Foreword for Experienced Programmers</h1>  <h2 id=\"thread-locals-in-flask\">Thread-Locals in Flask</h2> <p>One of the design decisions in Flask was that simple tasks should be simple; they should not take a lot of code and yet they should not limit you. Because of that, Flask has a few design choices that some people might find surprising or unorthodox. For example, Flask uses thread-local objects internally so that you don’t have to pass objects around from function to function within a request in order to stay threadsafe. This approach is convenient, but requires a valid request context for dependency injection or when attempting to reuse code which uses a value pegged to the request. The Flask project is honest about thread-locals, does not hide them, and calls out in the code and documentation where they are used.</p>   <h2 id=\"develop-for-the-web-with-caution\">Develop for the Web with Caution</h2> <p>Always keep security in mind when building web applications.</p> <p>If you write a web application, you are probably allowing users to register and leave their data on your server. The users are entrusting you with data. And even if you are the only user that might leave data in your application, you still want that data to be stored securely.</p> <p>Unfortunately, there are many ways the security of a web application can be compromised. Flask protects you against one of the most common security problems of modern web applications: cross-site scripting (XSS). Unless you deliberately mark insecure HTML as secure, Flask and the underlying Jinja2 template engine have you covered. But there are many more ways to cause security problems.</p> <p>The documentation will warn you about aspects of web development that require attention to security. Some of these security concerns are far more complex than one might think, and we all sometimes underestimate the likelihood that a vulnerability will be exploited - until a clever attacker figures out a way to exploit our applications. And don’t think that your application is not important enough to attract an attacker. Depending on the kind of attack, chances are that automated bots are probing for ways to fill your database with spam, links to malicious software, and the like.</p> <p>Flask is no different from any other framework in that you the developer must build with caution, watching for exploits when building to your requirements.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/advanced_foreword/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/advanced_foreword/</a>\n  </p>\n</div>\n","api/index":"<h1 id=\"api\">API</h1> <p>This part of the documentation covers all the interfaces of Flask. For parts where Flask depends on external libraries, we document the most important right here and provide links to the canonical documentation.</p>  <h2 id=\"application-object\">Application Object</h2> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.Flask\">\n<code>class flask.Flask(import_name, static_url_path=None, static_folder='static', static_host=None, host_matching=False, subdomain_matching=False, template_folder='templates', instance_path=None, instance_relative_config=False, root_path=None)</code> </dt> <dd>\n<p>The flask object implements a WSGI application and acts as the central object. It is passed the name of the module or package of the application. Once it is created it will act as a central registry for the view functions, the URL rules, template configuration and much more.</p> <p>The name of the package is used to resolve resources from inside the package or the folder the module is contained in depending on if the package parameter resolves to an actual python package (a folder with an <code>__init__.py</code> file inside) or a standard module (just a <code>.py</code> file).</p> <p>For more information about resource loading, see <a class=\"reference internal\" href=\"#flask.Flask.open_resource\" title=\"flask.Flask.open_resource\"><code>open_resource()</code></a>.</p> <p>Usually you create a <a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\"><code>Flask</code></a> instance in your main module or in the <code>__init__.py</code> file of your package like this:</p> <pre data-language=\"python\">from flask import Flask\napp = Flask(__name__)\n</pre> <div class=\"admonition-about-the-first-parameter admonition\"> <p class=\"admonition-title\">About the First Parameter</p> <p>The idea of the first parameter is to give Flask an idea of what belongs to your application. This name is used to find resources on the filesystem, can be used by extensions to improve debugging information and a lot more.</p> <p>So it’s important what you provide there. If you are using a single module, <code>__name__</code> is always the correct value. If you however are using a package, it’s usually recommended to hardcode the name of your package there.</p> <p>For example if your application is defined in <code>yourapplication/app.py</code> you should create it with one of the two versions below:</p> <pre data-language=\"python\">app = Flask('yourapplication')\napp = Flask(__name__.split('.')[0])\n</pre> <p>Why is that? The application will work even with <code>__name__</code>, thanks to how resources are looked up. However it will make debugging more painful. Certain extensions can make assumptions based on the import name of your application. For example the Flask-SQLAlchemy extension will look for the code in your application that triggered an SQL query in debug mode. If the import name is not properly set up, that debugging information is lost. (For example it would only pick up SQL queries in <code>yourapplication.app</code> and not <code>yourapplication.views.frontend</code>)</p> </div> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 1.0: </span>The <code>host_matching</code> and <code>static_host</code> parameters were added.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 1.0: </span>The <code>subdomain_matching</code> parameter was added. Subdomain matching needs to be enabled manually now. Setting <a class=\"reference internal\" href=\"../config/index#SERVER_NAME\" title=\"SERVER_NAME\"><code>SERVER_NAME</code></a> does not implicitly enable it.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.11: </span>The <code>root_path</code> parameter was added.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.8: </span>The <code>instance_path</code> and <code>instance_relative_config</code> parameters were added.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7: </span>The <code>static_url_path</code>, <code>static_folder</code>, and <code>template_folder</code> parameters were added.</p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>import_name</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – the name of the application package</li> <li>\n<strong>static_url_path</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – can be used to specify a different path for the static files on the web. Defaults to the name of the <code>static_folder</code> folder.</li> <li>\n<strong>static_folder</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – The folder with static files that is served at <code>static_url_path</code>. Relative to the application <code>root_path</code> or an absolute path. Defaults to <code>'static'</code>.</li> <li>\n<strong>static_host</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – the host to use when adding the static route. Defaults to None. Required when using <code>host_matching=True</code> with a <code>static_folder</code> configured.</li> <li>\n<strong>host_matching</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – set <code>url_map.host_matching</code> attribute. Defaults to False.</li> <li>\n<strong>subdomain_matching</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – consider the subdomain relative to <a class=\"reference internal\" href=\"../config/index#SERVER_NAME\" title=\"SERVER_NAME\"><code>SERVER_NAME</code></a> when matching routes. Defaults to False.</li> <li>\n<strong>template_folder</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – the folder that contains the templates that should be used by the application. Defaults to <code>'templates'</code> folder in the root path of the application.</li> <li>\n<strong>instance_path</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – An alternative instance path for the application. By default the folder <code>'instance'</code> next to the package or module is assumed to be the instance path.</li> <li>\n<strong>instance_relative_config</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – if set to <code>True</code> relative filenames for loading the config are assumed to be relative to the instance path instead of the application root.</li> <li>\n<strong>root_path</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – The path to the root of the application files. This should only be set manually when it can’t be detected automatically, such as for namespace packages.</li> </ul> </dd> </dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.add_template_filter\">\n<code>add_template_filter(f, name=None)</code> </dt> <dd>\n<p>Register a custom template filter. Works exactly like the <a class=\"reference internal\" href=\"#flask.Flask.template_filter\" title=\"flask.Flask.template_filter\"><code>template_filter()</code></a> decorator.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>name</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – the optional name of the filter, otherwise the function name will be used.</li> <li>\n<strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><em>Any</em><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.add_template_global\">\n<code>add_template_global(f, name=None)</code> </dt> <dd>\n<p>Register a custom template global function. Works exactly like the <a class=\"reference internal\" href=\"#flask.Flask.template_global\" title=\"flask.Flask.template_global\"><code>template_global()</code></a> decorator.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>name</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – the optional name of the global function, otherwise the function name will be used.</li> <li>\n<strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><em>]</em><em>, </em><em>Any</em><em>]</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.add_template_test\">\n<code>add_template_test(f, name=None)</code> </dt> <dd>\n<p>Register a custom template test. Works exactly like the <a class=\"reference internal\" href=\"#flask.Flask.template_test\" title=\"flask.Flask.template_test\"><code>template_test()</code></a> decorator.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>name</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – the optional name of the test, otherwise the function name will be used.</li> <li>\n<strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><em>Any</em><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a><em>]</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.add_url_rule\">\n<code>add_url_rule(rule, endpoint=None, view_func=None, provide_automatic_options=None, **options)</code> </dt> <dd>\n<p>Register a rule for routing incoming requests and building URLs. The <a class=\"reference internal\" href=\"#flask.Flask.route\" title=\"flask.Flask.route\"><code>route()</code></a> decorator is a shortcut to call this with the <code>view_func</code> argument. These are equivalent:</p> <pre data-language=\"python\">@app.route(\"/\")\ndef index():\n    ...\n</pre> <pre data-language=\"python\">def index():\n    ...\n\napp.add_url_rule(\"/\", view_func=index)\n</pre> <p>See <a class=\"reference internal\" href=\"#url-route-registrations\"><span class=\"std std-ref\">URL Route Registrations</span></a>.</p> <p>The endpoint name for the route defaults to the name of the view function if the <code>endpoint</code> parameter isn’t passed. An error will be raised if a function has already been registered for the endpoint.</p> <p>The <code>methods</code> parameter defaults to <code>[\"GET\"]</code>. <code>HEAD</code> is always added automatically, and <code>OPTIONS</code> is added automatically by default.</p> <p><code>view_func</code> does not necessarily need to be passed, but if the rule should participate in routing an endpoint name must be associated with a view function at some point with the <a class=\"reference internal\" href=\"#flask.Flask.endpoint\" title=\"flask.Flask.endpoint\"><code>endpoint()</code></a> decorator.</p> <pre data-language=\"python\">app.add_url_rule(\"/\", endpoint=\"index\")\n\n@app.endpoint(\"index\")\ndef index():\n    ...\n</pre> <p>If <code>view_func</code> has a <code>required_methods</code> attribute, those methods are added to the passed and automatic methods. If it has a <code>provide_automatic_methods</code> attribute, it is used as the default if the parameter is not passed.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>rule</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – The URL rule string.</li> <li>\n<strong>endpoint</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – The endpoint name to associate with the rule and view function. Used when routing and building URLs. Defaults to <code>view_func.__name__</code>.</li> <li>\n<strong>view_func</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>]</em>) – The view function to associate with the endpoint name.</li> <li>\n<strong>provide_automatic_options</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a><em>]</em>) – Add the <code>OPTIONS</code> method and respond to <code>OPTIONS</code> requests automatically.</li> <li>\n<strong>options</strong> (<em>Any</em>) – Extra options passed to the <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/routing/#werkzeug.routing.Rule\" title=\"(in Werkzeug v2.0.x)\"><code>Rule</code></a> object.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.after_request\">\n<code>after_request(f)</code> </dt> <dd>\n<p>Register a function to run after each request to this object.</p> <p>The function is called with the response object, and must return a response object. This allows the functions to modify or replace the response before it is sent.</p> <p>If a function raises an exception, any remaining <code>after_request</code> functions will not be called. Therefore, this should not be used for actions that must execute, such as to close resources. Use <a class=\"reference internal\" href=\"#flask.Flask.teardown_request\" title=\"flask.Flask.teardown_request\"><code>teardown_request()</code></a> for that.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>]</em><em>, </em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>], <a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.after_request_funcs\">\n<code>after_request_funcs: t.Dict[AppOrBlueprintKey, t.List[AfterRequestCallable]]</code> </dt> <dd>\n<p>A data structure of functions to call at the end of each request, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class=\"reference internal\" href=\"#flask.Flask.after_request\" title=\"flask.Flask.after_request\"><code>after_request()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.app_context\">\n<code>app_context()</code> </dt> <dd>\n<p>Create an <a class=\"reference internal\" href=\"#flask.ctx.AppContext\" title=\"flask.ctx.AppContext\"><code>AppContext</code></a>. Use as a <code>with</code> block to push the context, which will make <a class=\"reference internal\" href=\"#flask.current_app\" title=\"flask.current_app\"><code>current_app</code></a> point at this application.</p> <p>An application context is automatically pushed by <a class=\"reference internal\" href=\"#flask.ctx.RequestContext.push\" title=\"flask.ctx.RequestContext.push\"><code>RequestContext.push()</code></a> when handling a request, and when running a CLI command. Use this to manually create a context outside of these situations.</p> <pre data-language=\"python\">with app.app_context():\n    init_db()\n</pre> <p>See <a class=\"reference internal\" href=\"../appcontext/index\"><span class=\"doc\">The Application Context</span></a>.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference internal\" href=\"#flask.ctx.AppContext\" title=\"flask.ctx.AppContext\">flask.ctx.AppContext</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.app_ctx_globals_class\">\n<code>app_ctx_globals_class</code> </dt> <dd>\n<p>alias of <a class=\"reference internal\" href=\"#flask.ctx._AppCtxGlobals\" title=\"flask.ctx._AppCtxGlobals\"><code>flask.ctx._AppCtxGlobals</code></a></p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.async_to_sync\">\n<code>async_to_sync(func)</code> </dt> <dd>\n<p>Return a sync function that will run the coroutine function.</p> <pre data-language=\"python\">result = app.async_to_sync(func)(*args, **kwargs)\n</pre> <p>Override this method to change how the app converts async code to be synchronously callable.</p> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 2.0.</span></p> </div> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>func</strong> (<em>Callable</em><em>[</em><em>[</em><em>...</em><em>]</em><em>, </em><em>Coroutine</em><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[…], Any]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.auto_find_instance_path\">\n<code>auto_find_instance_path()</code> </dt> <dd>\n<p>Tries to locate the instance path if it was not provided to the constructor of the application class. It will basically calculate the path to a folder named <code>instance</code> next to your main file or the package.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.8.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.before_first_request\">\n<code>before_first_request(f)</code> </dt> <dd>\n<p>Registers a function to be run before the first request to this instance of the application.</p> <p>The function will be called without any arguments and its return value is ignored.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.8.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[], <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.before_first_request_funcs\">\n<code>before_first_request_funcs: t.List[BeforeRequestCallable]</code> </dt> <dd>\n<p>A list of functions that will be called at the beginning of the first request to this instance. To register a function, use the <a class=\"reference internal\" href=\"#flask.Flask.before_first_request\" title=\"flask.Flask.before_first_request\"><code>before_first_request()</code></a> decorator.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.8.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.before_request\">\n<code>before_request(f)</code> </dt> <dd>\n<p>Register a function to run before each request.</p> <p>For example, this can be used to open a database connection, or to load the logged in user from the session.</p> <pre data-language=\"python\">@app.before_request\ndef load_user():\n    if \"user_id\" in session:\n        g.user = db.session.get(session[\"user_id\"])\n</pre> <p>The function will be called without any arguments. If it returns a non-<code>None</code> value, the value is handled as if it was the return value from the view, and further request handling is stopped.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[], <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.before_request_funcs\">\n<code>before_request_funcs: t.Dict[AppOrBlueprintKey, t.List[BeforeRequestCallable]]</code> </dt> <dd>\n<p>A data structure of functions to call at the beginning of each request, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class=\"reference internal\" href=\"#flask.Flask.before_request\" title=\"flask.Flask.before_request\"><code>before_request()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.blueprints\">\n<code>blueprints: t.Dict[str, ‘Blueprint’]</code> </dt> <dd>\n<p>Maps registered blueprint names to blueprint objects. The dict retains the order the blueprints were registered in. Blueprints can be registered multiple times, this dict does not track how often they were attached.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.cli\">\n<code>cli</code> </dt> <dd>\n<p>The Click command group for registering CLI commands for this object. The commands are available from the <code>flask</code> command once the application has been discovered and blueprints have been registered.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.config\">\n<code>config</code> </dt> <dd>\n<p>The configuration dictionary as <a class=\"reference internal\" href=\"#flask.Config\" title=\"flask.Config\"><code>Config</code></a>. This behaves exactly like a regular dictionary but supports additional methods to load a config from files.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.config_class\">\n<code>config_class</code> </dt> <dd>\n<p>alias of <a class=\"reference internal\" href=\"#flask.Config\" title=\"flask.config.Config\"><code>flask.config.Config</code></a></p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.context_processor\">\n<code>context_processor(f)</code> </dt> <dd>\n<p>Registers a template context processor function.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><em>]</em><em>, </em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Any</em><em>]</em><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[], Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any]]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.create_global_jinja_loader\">\n<code>create_global_jinja_loader()</code> </dt> <dd>\n<p>Creates the loader for the Jinja2 environment. Can be used to override just the loader and keeping the rest unchanged. It’s discouraged to override this function. Instead one should override the <a class=\"reference internal\" href=\"#flask.Flask.jinja_loader\" title=\"flask.Flask.jinja_loader\"><code>jinja_loader()</code></a> function instead.</p> <p>The global loader dispatches between the loaders of the application and the individual blueprints.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p>flask.templating.DispatchingJinjaLoader</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.create_jinja_environment\">\n<code>create_jinja_environment()</code> </dt> <dd>\n<p>Create the Jinja environment based on <a class=\"reference internal\" href=\"#flask.Flask.jinja_options\" title=\"flask.Flask.jinja_options\"><code>jinja_options</code></a> and the various Jinja-related methods of the app. Changing <a class=\"reference internal\" href=\"#flask.Flask.jinja_options\" title=\"flask.Flask.jinja_options\"><code>jinja_options</code></a> after this will have no effect. Also adds Flask-related globals and filters to the environment.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.11: </span><code>Environment.auto_reload</code> set in accordance with <code>TEMPLATES_AUTO_RELOAD</code> configuration option.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.5.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p>flask.templating.Environment</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.create_url_adapter\">\n<code>create_url_adapter(request)</code> </dt> <dd>\n<p>Creates a URL adapter for the given request. The URL adapter is created at a point where the request context is not yet set up so the request is passed explicitly.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.0: </span><a class=\"reference internal\" href=\"../config/index#SERVER_NAME\" title=\"SERVER_NAME\"><code>SERVER_NAME</code></a> no longer implicitly enables subdomain matching. Use <code>subdomain_matching</code> instead.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.9: </span>This can now also be called without a request object when the URL adapter is created for the application context.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.6.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>request</strong> (<em>Optional</em><em>[</em><a class=\"reference internal\" href=\"#flask.Request\" title=\"flask.wrappers.Request\">flask.wrappers.Request</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Optional[<a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/routing/#werkzeug.routing.MapAdapter\" title=\"(in Werkzeug v2.0.x)\">werkzeug.routing.MapAdapter</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.debug\">\n<code>property debug: bool</code> </dt> <dd>\n<p>Whether debug mode is enabled. When using <code>flask run</code> to start the development server, an interactive debugger will be shown for unhandled exceptions, and the server will be reloaded when code changes. This maps to the <a class=\"reference internal\" href=\"../config/index#DEBUG\" title=\"DEBUG\"><code>DEBUG</code></a> config key. This is enabled when <a class=\"reference internal\" href=\"#flask.Flask.env\" title=\"flask.Flask.env\"><code>env</code></a> is <code>'development'</code> and is overridden by the <code>FLASK_DEBUG</code> environment variable. It may not behave as expected if set in code.</p> <p><strong>Do not enable debug mode when deploying in production.</strong></p> <p>Default: <code>True</code> if <a class=\"reference internal\" href=\"#flask.Flask.env\" title=\"flask.Flask.env\"><code>env</code></a> is <code>'development'</code>, or <code>False</code> otherwise.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.default_config\">\n<code>default_config = {'APPLICATION_ROOT': '/', 'DEBUG': None, 'ENV': None, 'EXPLAIN_TEMPLATE_LOADING': False, 'JSONIFY_MIMETYPE': 'application/json', 'JSONIFY_PRETTYPRINT_REGULAR': False, 'JSON_AS_ASCII': True, 'JSON_SORT_KEYS': True, 'MAX_CONTENT_LENGTH': None, 'MAX_COOKIE_SIZE': 4093, 'PERMANENT_SESSION_LIFETIME': datetime.timedelta(days=31), 'PREFERRED_URL_SCHEME': 'http', 'PRESERVE_CONTEXT_ON_EXCEPTION': None, 'PROPAGATE_EXCEPTIONS': None, 'SECRET_KEY': None, 'SEND_FILE_MAX_AGE_DEFAULT': None, 'SERVER_NAME': None, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'session', 'SESSION_COOKIE_PATH': None, 'SESSION_COOKIE_SAMESITE': None, 'SESSION_COOKIE_SECURE': False, 'SESSION_REFRESH_EACH_REQUEST': True, 'TEMPLATES_AUTO_RELOAD': None, 'TESTING': False, 'TRAP_BAD_REQUEST_ERRORS': None, 'TRAP_HTTP_EXCEPTIONS': False, 'USE_X_SENDFILE': False}</code> </dt> <dd>\n<p>Default configuration parameters.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.delete\">\n<code>delete(rule, **options)</code> </dt> <dd>\n<p>Shortcut for <a class=\"reference internal\" href=\"#flask.Flask.route\" title=\"flask.Flask.route\"><code>route()</code></a> with <code>methods=[\"DELETE\"]</code>.</p> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 2.0.</span></p> </div> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>rule</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </li> <li>\n<strong>options</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.dispatch_request\">\n<code>dispatch_request()</code> </dt> <dd>\n<p>Does the request dispatching. Matches the URL and returns the return value of the view or error handler. This does not have to be a response object. In order to convert the return value to a proper response object, call <a class=\"reference internal\" href=\"#flask.make_response\" title=\"flask.make_response\"><code>make_response()</code></a>.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.7: </span>This no longer does the exception handling, this code was moved to the new <a class=\"reference internal\" href=\"#flask.Flask.full_dispatch_request\" title=\"flask.Flask.full_dispatch_request\"><code>full_dispatch_request()</code></a>.</p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p>Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>], Tuple[Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]], Union[Headers, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]], List[Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]]]]], Tuple[Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]], <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a>], Tuple[Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]], <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a>, Union[Headers, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]], List[Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]]]]], WSGIApplication]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.do_teardown_appcontext\">\n<code>do_teardown_appcontext(exc=&lt;object object&gt;)</code> </dt> <dd>\n<p>Called right before the application context is popped.</p> <p>When handling a request, the application context is popped after the request context. See <a class=\"reference internal\" href=\"#flask.Flask.do_teardown_request\" title=\"flask.Flask.do_teardown_request\"><code>do_teardown_request()</code></a>.</p> <p>This calls all functions decorated with <a class=\"reference internal\" href=\"#flask.Flask.teardown_appcontext\" title=\"flask.Flask.teardown_appcontext\"><code>teardown_appcontext()</code></a>. Then the <a class=\"reference internal\" href=\"#flask.appcontext_tearing_down\" title=\"flask.appcontext_tearing_down\"><code>appcontext_tearing_down</code></a> signal is sent.</p> <p>This is called by <a class=\"reference internal\" href=\"#flask.ctx.AppContext.pop\" title=\"flask.ctx.AppContext.pop\"><code>AppContext.pop()</code></a>.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>exc</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#BaseException\" title=\"(in Python v3.9)\">BaseException</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.do_teardown_request\">\n<code>do_teardown_request(exc=&lt;object object&gt;)</code> </dt> <dd>\n<p>Called after the request is dispatched and the response is returned, right before the request context is popped.</p> <p>This calls all functions decorated with <a class=\"reference internal\" href=\"#flask.Flask.teardown_request\" title=\"flask.Flask.teardown_request\"><code>teardown_request()</code></a>, and <a class=\"reference internal\" href=\"#flask.Blueprint.teardown_request\" title=\"flask.Blueprint.teardown_request\"><code>Blueprint.teardown_request()</code></a> if a blueprint handled the request. Finally, the <a class=\"reference internal\" href=\"#flask.request_tearing_down\" title=\"flask.request_tearing_down\"><code>request_tearing_down</code></a> signal is sent.</p> <p>This is called by <a class=\"reference internal\" href=\"#flask.ctx.RequestContext.pop\" title=\"flask.ctx.RequestContext.pop\"><code>RequestContext.pop()</code></a>, which may be delayed during testing to maintain access to resources.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>exc</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#BaseException\" title=\"(in Python v3.9)\">BaseException</a><em>]</em>) – An unhandled exception raised while dispatching the request. Detected from the current exception information if not passed. Passed to each teardown function.</p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.9: </span>Added the <code>exc</code> argument.</p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.endpoint\">\n<code>endpoint(endpoint)</code> </dt> <dd>\n<p>Decorate a view function to register it for the given endpoint. Used if a rule is added without a <code>view_func</code> with <a class=\"reference internal\" href=\"#flask.Flask.add_url_rule\" title=\"flask.Flask.add_url_rule\"><code>add_url_rule()</code></a>.</p> <pre data-language=\"python\">app.add_url_rule(\"/ex\", endpoint=\"example\")\n\n@app.endpoint(\"example\")\ndef example():\n    ...\n</pre> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>endpoint</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – The endpoint name to associate with the view function.</p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.ensure_sync\">\n<code>ensure_sync(func)</code> </dt> <dd>\n<p>Ensure that the function is synchronous for WSGI workers. Plain <code>def</code> functions are returned as-is. <code>async def</code> functions are wrapped to run and wait for the response.</p> <p>Override this method to change how the app runs async views.</p> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 2.0.</span></p> </div> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>func</strong> (<em>Callable</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.env\">\n<code>env</code> </dt> <dd>\n<p>What environment the app is running in. Flask and extensions may enable behaviors based on the environment, such as enabling debug mode. This maps to the <a class=\"reference internal\" href=\"../config/index#ENV\" title=\"ENV\"><code>ENV</code></a> config key. This is set by the <code id=\"index-0\">FLASK_ENV</code> environment variable and may not behave as expected if set in code.</p> <p><strong>Do not enable development when deploying in production.</strong></p> <p>Default: <code>'production'</code></p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.error_handler_spec\">\n<code>error_handler_spec: t.Dict[AppOrBlueprintKey, t.Dict[t.Optional[int], t.Dict[t.Type[Exception], ErrorHandlerCallable]]]</code> </dt> <dd>\n<p>A data structure of registered error handlers, in the format <code>{scope: {code: {class: handler}}}`</code>. The <code>scope</code> key is the name of a blueprint the handlers are active for, or <code>None</code> for all requests. The <code>code</code> key is the HTTP status code for <code>HTTPException</code>, or <code>None</code> for other exceptions. The innermost dictionary maps exception classes to handler functions.</p> <p>To register an error handler, use the <a class=\"reference internal\" href=\"#flask.Flask.errorhandler\" title=\"flask.Flask.errorhandler\"><code>errorhandler()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.errorhandler\">\n<code>errorhandler(code_or_exception)</code> </dt> <dd>\n<p>Register a function to handle errors by code or exception class.</p> <p>A decorator that is used to register a function given an error code. Example:</p> <pre data-language=\"python\">@app.errorhandler(404)\ndef page_not_found(error):\n    return 'This page does not exist', 404\n</pre> <p>You can also register handlers for arbitrary exceptions:</p> <pre data-language=\"python\">@app.errorhandler(DatabaseError)\ndef special_exception_handler(error):\n    return 'Database connection failed', 500\n</pre> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7: </span>Use <a class=\"reference internal\" href=\"#flask.Flask.register_error_handler\" title=\"flask.Flask.register_error_handler\"><code>register_error_handler()</code></a> instead of modifying <a class=\"reference internal\" href=\"#flask.Flask.error_handler_spec\" title=\"flask.Flask.error_handler_spec\"><code>error_handler_spec</code></a> directly, for application wide error handlers.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7: </span>One can now additionally also register custom exception types that do not necessarily have to be a subclass of the <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.HTTPException\" title=\"(in Werkzeug v2.0.x)\"><code>HTTPException</code></a> class.</p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>code_or_exception</strong> (<em>Union</em><em>[</em><em>Type</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#Exception\" title=\"(in Python v3.9)\">Exception</a><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a><em>]</em>) – the code as integer for the handler, or an arbitrary exception</p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.extensions\">\n<code>extensions: dict</code> </dt> <dd>\n<p>a place where extensions can store application specific state. For example this is where an extension could store database engines and similar things.</p> <p>The key must match the name of the extension module. For example in case of a “Flask-Foo” extension in <code>flask_foo</code>, the key would be <code>'foo'</code>.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.full_dispatch_request\">\n<code>full_dispatch_request()</code> </dt> <dd>\n<p>Dispatches the request and on top of that performs request pre and postprocessing as well as HTTP exception catching and error handling.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.wrappers.Response\">flask.wrappers.Response</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.get\">\n<code>get(rule, **options)</code> </dt> <dd>\n<p>Shortcut for <a class=\"reference internal\" href=\"#flask.Flask.route\" title=\"flask.Flask.route\"><code>route()</code></a> with <code>methods=[\"GET\"]</code>.</p> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 2.0.</span></p> </div> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>rule</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </li> <li>\n<strong>options</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.get_send_file_max_age\">\n<code>get_send_file_max_age(filename)</code> </dt> <dd>\n<p>Used by <a class=\"reference internal\" href=\"#flask.send_file\" title=\"flask.send_file\"><code>send_file()</code></a> to determine the <code>max_age</code> cache value for a given file path if it wasn’t passed.</p> <p>By default, this returns <a class=\"reference internal\" href=\"../config/index#SEND_FILE_MAX_AGE_DEFAULT\" title=\"SEND_FILE_MAX_AGE_DEFAULT\"><code>SEND_FILE_MAX_AGE_DEFAULT</code></a> from the configuration of <a class=\"reference internal\" href=\"#flask.current_app\" title=\"flask.current_app\"><code>current_app</code></a>. This defaults to <code>None</code>, which tells the browser to use conditional requests instead of a timed cache, which is usually preferable.</p> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span>The default configuration is <code>None</code> instead of 12 hours.</p> </div> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>filename</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Optional[<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.got_first_request\">\n<code>property got_first_request: bool</code> </dt> <dd>\n<p>This attribute is set to <code>True</code> if the application started handling the first request.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.8.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.handle_exception\">\n<code>handle_exception(e)</code> </dt> <dd>\n<p>Handle an exception that did not have an error handler associated with it, or that was raised from an error handler. This always causes a 500 <code>InternalServerError</code>.</p> <p>Always sends the <a class=\"reference internal\" href=\"#flask.got_request_exception\" title=\"flask.got_request_exception\"><code>got_request_exception</code></a> signal.</p> <p>If <a class=\"reference internal\" href=\"#flask.Flask.propagate_exceptions\" title=\"flask.Flask.propagate_exceptions\"><code>propagate_exceptions</code></a> is <code>True</code>, such as in debug mode, the error will be re-raised so that the debugger can display it. Otherwise, the original exception is logged, and an <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.InternalServerError\" title=\"(in Werkzeug v2.0.x)\"><code>InternalServerError</code></a> is returned.</p> <p>If an error handler is registered for <code>InternalServerError</code> or <code>500</code>, it will be used. For consistency, the handler will always receive the <code>InternalServerError</code>. The original unhandled exception is available as <code>e.original_exception</code>.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.1.0: </span>Always passes the <code>InternalServerError</code> instance to the handler, setting <code>original_exception</code> to the unhandled error.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.1.0: </span><code>after_request</code> functions and other finalization is done even for the default 500 response when there is no handler.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.3.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>e</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#Exception\" title=\"(in Python v3.9)\">Exception</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.wrappers.Response\">flask.wrappers.Response</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.handle_http_exception\">\n<code>handle_http_exception(e)</code> </dt> <dd>\n<p>Handles an HTTP exception. By default this will invoke the registered error handlers and fall back to returning the exception as response.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.0.3: </span><code>RoutingException</code>, used internally for actions such as slash redirects during routing, is not passed to error handlers.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.0: </span>Exceptions are looked up by code <em>and</em> by MRO, so <code>HTTPExcpetion</code> subclasses can be handled with a catch-all handler for the base <code>HTTPException</code>.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.3.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>e</strong> (<a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.HTTPException\" title=\"(in Werkzeug v2.0.x)\">werkzeug.exceptions.HTTPException</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Union[<a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.HTTPException\" title=\"(in Werkzeug v2.0.x)\">werkzeug.exceptions.HTTPException</a>, <a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>], Tuple[Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]], Union[Headers, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]], List[Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]]]]], Tuple[Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]], <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a>], Tuple[Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]], <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a>, Union[Headers, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]], List[Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]]]]], WSGIApplication]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.handle_url_build_error\">\n<code>handle_url_build_error(error, endpoint, values)</code> </dt> <dd>\n<p>Handle <code>BuildError</code> on <a class=\"reference internal\" href=\"#flask.url_for\" title=\"flask.url_for\"><code>url_for()</code></a>.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>error</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#Exception\" title=\"(in Python v3.9)\">Exception</a>) – </li> <li>\n<strong>endpoint</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </li> <li>\n<strong>values</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.handle_user_exception\">\n<code>handle_user_exception(e)</code> </dt> <dd>\n<p>This method is called whenever an exception occurs that should be handled. A special case is <code>HTTPException</code> which is forwarded to the <a class=\"reference internal\" href=\"#flask.Flask.handle_http_exception\" title=\"flask.Flask.handle_http_exception\"><code>handle_http_exception()</code></a> method. This function will either return a response value or reraise the exception with the same traceback.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.0: </span>Key errors raised from request data like <code>form</code> show the bad key in debug mode rather than a generic bad request message.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>e</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#Exception\" title=\"(in Python v3.9)\">Exception</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Union[<a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.HTTPException\" title=\"(in Werkzeug v2.0.x)\">werkzeug.exceptions.HTTPException</a>, <a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>], Tuple[Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]], Union[Headers, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]], List[Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]]]]], Tuple[Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]], <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a>], Tuple[Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]], <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a>, Union[Headers, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]], List[Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]]]]], WSGIApplication]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.has_static_folder\">\n<code>property has_static_folder: bool</code> </dt> <dd>\n<p><code>True</code> if <a class=\"reference internal\" href=\"#flask.Flask.static_folder\" title=\"flask.Flask.static_folder\"><code>static_folder</code></a> is set.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.5.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.import_name\">\n<code>import_name</code> </dt> <dd>\n<p>The name of the package or module that this object belongs to. Do not change this once it is set by the constructor.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.inject_url_defaults\">\n<code>inject_url_defaults(endpoint, values)</code> </dt> <dd>\n<p>Injects the URL defaults for the given endpoint directly into the values dictionary passed. This is used internally and automatically called on URL building.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>endpoint</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </li> <li>\n<strong>values</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.instance_path\">\n<code>instance_path</code> </dt> <dd>\n<p>Holds the path to the instance folder.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.8.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.iter_blueprints\">\n<code>iter_blueprints()</code> </dt> <dd>\n<p>Iterates over all blueprints by the order they were registered.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.11.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p>ValuesView[<a class=\"reference internal\" href=\"#flask.Blueprint\" title=\"flask.Blueprint\">Blueprint</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.jinja_env\">\n<code>property jinja_env: flask.templating.Environment</code> </dt> <dd>\n<p>The Jinja environment used to load templates.</p> <p>The environment is created the first time this property is accessed. Changing <a class=\"reference internal\" href=\"#flask.Flask.jinja_options\" title=\"flask.Flask.jinja_options\"><code>jinja_options</code></a> after that will have no effect.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.jinja_environment\">\n<code>jinja_environment</code> </dt> <dd>\n<p>alias of <code>flask.templating.Environment</code></p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.jinja_loader\">\n<code>property jinja_loader: Optional[jinja2.loaders.FileSystemLoader]</code> </dt> <dd>\n<p>The Jinja loader for this object’s templates. By default this is a class <a class=\"reference external\" href=\"https://jinja.palletsprojects.com/en/3.0.x/api/#jinja2.FileSystemLoader\" title=\"(in Jinja v3.0.x)\"><code>jinja2.loaders.FileSystemLoader</code></a> to <a class=\"reference internal\" href=\"#flask.Flask.template_folder\" title=\"flask.Flask.template_folder\"><code>template_folder</code></a> if it is set.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.5.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.jinja_options\">\n<code>jinja_options: dict = {}</code> </dt> <dd>\n<p>Options that are passed to the Jinja environment in <a class=\"reference internal\" href=\"#flask.Flask.create_jinja_environment\" title=\"flask.Flask.create_jinja_environment\"><code>create_jinja_environment()</code></a>. Changing these options after the environment is created (accessing <a class=\"reference internal\" href=\"#flask.Flask.jinja_env\" title=\"flask.Flask.jinja_env\"><code>jinja_env</code></a>) will have no effect.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.1.0: </span>This is a <code>dict</code> instead of an <code>ImmutableDict</code> to allow easier configuration.</p> </div> </details>\n</dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.json_decoder\">\n<code>json_decoder</code> </dt> <dd>\n<p>alias of <a class=\"reference internal\" href=\"#flask.json.JSONDecoder\" title=\"flask.json.JSONDecoder\"><code>flask.json.JSONDecoder</code></a></p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.json_encoder\">\n<code>json_encoder</code> </dt> <dd>\n<p>alias of <a class=\"reference internal\" href=\"#flask.json.JSONEncoder\" title=\"flask.json.JSONEncoder\"><code>flask.json.JSONEncoder</code></a></p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.log_exception\">\n<code>log_exception(exc_info)</code> </dt> <dd>\n<p>Logs an exception. This is called by <a class=\"reference internal\" href=\"#flask.Flask.handle_exception\" title=\"flask.Flask.handle_exception\"><code>handle_exception()</code></a> if debugging is disabled and right before the handler is called. The default implementation logs the exception as error on the <a class=\"reference internal\" href=\"#flask.Flask.logger\" title=\"flask.Flask.logger\"><code>logger</code></a>.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.8.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>exc_info</strong> (<em>Union</em><em>[</em><em>Tuple</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#type\" title=\"(in Python v3.9)\">type</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#BaseException\" title=\"(in Python v3.9)\">BaseException</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/types.html#types.TracebackType\" title=\"(in Python v3.9)\">types.TracebackType</a><em>]</em><em>, </em><em>Tuple</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.logger\">\n<code>property logger: logging.Logger</code> </dt> <dd>\n<p>A standard Python <a class=\"reference external\" href=\"https://docs.python.org/3/library/logging.html#logging.Logger\" title=\"(in Python v3.9)\"><code>Logger</code></a> for the app, with the same name as <a class=\"reference internal\" href=\"#flask.Flask.name\" title=\"flask.Flask.name\"><code>name</code></a>.</p> <p>In debug mode, the logger’s <code>level</code> will be set to <code>DEBUG</code>.</p> <p>If there are no handlers configured, a default handler will be added. See <a class=\"reference internal\" href=\"../logging/index\"><span class=\"doc\">Logging</span></a> for more information.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.1.0: </span>The logger takes the same name as <a class=\"reference internal\" href=\"#flask.Flask.name\" title=\"flask.Flask.name\"><code>name</code></a> rather than hard-coding <code>\"flask.app\"</code>.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.0.0: </span>Behavior was simplified. The logger is always named <code>\"flask.app\"</code>. The level is only set during configuration, it doesn’t check <code>app.debug</code> each time. Only one format is used, not different ones depending on <code>app.debug</code>. No handlers are removed, and a handler is only added if no handlers are already configured.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.3.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.make_config\">\n<code>make_config(instance_relative=False)</code> </dt> <dd>\n<p>Used to create the config attribute by the Flask constructor. The <code>instance_relative</code> parameter is passed in from the constructor of Flask (there named <code>instance_relative_config</code>) and indicates if the config should be relative to the instance path or the root path of the application.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.8.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>instance_relative</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference internal\" href=\"#flask.Config\" title=\"flask.config.Config\">flask.config.Config</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.make_default_options_response\">\n<code>make_default_options_response()</code> </dt> <dd>\n<p>This method is called to create the default <code>OPTIONS</code> response. This can be changed through subclassing to change the default behavior of <code>OPTIONS</code> responses.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.wrappers.Response\">flask.wrappers.Response</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.make_response\">\n<code>make_response(rv)</code> </dt> <dd>\n<p>Convert the return value from a view function to an instance of <a class=\"reference internal\" href=\"#flask.Flask.response_class\" title=\"flask.Flask.response_class\"><code>response_class</code></a>.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>rv</strong> (<em>Union</em><em>[</em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>, </em><em>AnyStr</em><em>, </em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Any</em><em>]</em><em>, </em><em>Generator</em><em>[</em><em>AnyStr</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em><em>, </em><em>Tuple</em><em>[</em><em>Union</em><em>[</em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>, </em><em>AnyStr</em><em>, </em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Any</em><em>]</em><em>, </em><em>Generator</em><em>[</em><em>AnyStr</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em><em>]</em><em>, </em><em>Union</em><em>[</em><em>Headers</em><em>, </em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Union</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>List</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em><em>, </em><em>Tuple</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>...</em><em>]</em><em>]</em><em>]</em><em>, </em><em>List</em><em>[</em><em>Tuple</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Union</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>List</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em><em>, </em><em>Tuple</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>...</em><em>]</em><em>]</em><em>]</em><em>]</em><em>]</em><em>]</em><em>, </em><em>Tuple</em><em>[</em><em>Union</em><em>[</em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>, </em><em>AnyStr</em><em>, </em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Any</em><em>]</em><em>, </em><em>Generator</em><em>[</em><em>AnyStr</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a><em>]</em><em>, </em><em>Tuple</em><em>[</em><em>Union</em><em>[</em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>, </em><em>AnyStr</em><em>, </em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Any</em><em>]</em><em>, </em><em>Generator</em><em>[</em><em>AnyStr</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a><em>, </em><em>Union</em><em>[</em><em>Headers</em><em>, </em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Union</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>List</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em><em>, </em><em>Tuple</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>...</em><em>]</em><em>]</em><em>]</em><em>, </em><em>List</em><em>[</em><em>Tuple</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Union</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>List</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em><em>, </em><em>Tuple</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>...</em><em>]</em><em>]</em><em>]</em><em>]</em><em>]</em><em>]</em><em>, </em><em>WSGIApplication</em><em>]</em>) – </p>\n<p>the return value from the view function. The view function must return a response. Returning <code>None</code>, or the view ending without returning, is not allowed. The following types are allowed for <code>view_rv</code>:</p> <dl class=\"simple\"> <dt>\n<code>str</code> </dt>\n<dd>\n<p>A response object is created with the string encoded to UTF-8 as the body.</p> </dd> <dt>\n<code>bytes</code> </dt>\n<dd>\n<p>A response object is created with the bytes as the body.</p> </dd> <dt>\n<code>dict</code> </dt>\n<dd>\n<p>A dictionary that will be jsonify’d before being returned.</p> </dd> <dt>\n<code>tuple</code> </dt>\n<dd>\n<p>Either <code>(body, status, headers)</code>, <code>(body, status)</code>, or <code>(body, headers)</code>, where <code>body</code> is any of the other types allowed here, <code>status</code> is a string or an integer, and <code>headers</code> is a dictionary or a list of <code>(key, value)</code> tuples. If <code>body</code> is a <a class=\"reference internal\" href=\"#flask.Flask.response_class\" title=\"flask.Flask.response_class\"><code>response_class</code></a> instance, <code>status</code> overwrites the exiting value and <code>headers</code> are extended.</p> </dd> <dt>\n <a class=\"reference internal\" href=\"#flask.Flask.response_class\" title=\"flask.Flask.response_class\"><code>response_class</code></a>\n</dt>\n<dd>\n<p>The object is returned unchanged.</p> </dd> <dt>\n<code>other Response class</code> </dt>\n<dd>\n<p>The object is coerced to <a class=\"reference internal\" href=\"#flask.Flask.response_class\" title=\"flask.Flask.response_class\"><code>response_class</code></a>.</p> </dd> <dt>\n <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#callable\" title=\"(in Python v3.9)\"><code>callable()</code></a>\n</dt>\n<dd>\n<p>The function is called as a WSGI application. The result is used to create a response object.</p> </dd> </dl> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.wrappers.Response\">flask.wrappers.Response</a></p> </dd> </dl> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.9: </span>Previously a tuple was interpreted as the arguments for the response object.</p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.make_shell_context\">\n<code>make_shell_context()</code> </dt> <dd>\n<p>Returns the shell context for an interactive shell for this application. This runs all the registered shell context processors.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.11.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.name\">\n<code>property name: str</code> </dt> <dd>\n<p>The name of the application. This is usually the import name with the difference that it’s guessed from the run file if the import name is main. This name is used as a display name when Flask needs the name of the application. It can be set and overridden to change the value.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.8.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.open_instance_resource\">\n<code>open_instance_resource(resource, mode='rb')</code> </dt> <dd>\n<p>Opens a resource from the application’s instance folder (<a class=\"reference internal\" href=\"#flask.Flask.instance_path\" title=\"flask.Flask.instance_path\"><code>instance_path</code></a>). Otherwise works like <a class=\"reference internal\" href=\"#flask.Flask.open_resource\" title=\"flask.Flask.open_resource\"><code>open_resource()</code></a>. Instance resources can also be opened for writing.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>resource</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – the name of the resource. To access resources within subfolders use forward slashes as separator.</li> <li>\n<strong>mode</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – resource file opening mode, default is ‘rb’.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>IO</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.open_resource\">\n<code>open_resource(resource, mode='rb')</code> </dt> <dd>\n<p>Open a resource file relative to <a class=\"reference internal\" href=\"#flask.Flask.root_path\" title=\"flask.Flask.root_path\"><code>root_path</code></a> for reading.</p> <p>For example, if the file <code>schema.sql</code> is next to the file <code>app.py</code> where the <code>Flask</code> app is defined, it can be opened with:</p> <pre data-language=\"python\">with app.open_resource(\"schema.sql\") as f:\n    conn.executescript(f.read())\n</pre> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>resource</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – Path to the resource relative to <a class=\"reference internal\" href=\"#flask.Flask.root_path\" title=\"flask.Flask.root_path\"><code>root_path</code></a>.</li> <li>\n<strong>mode</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – Open the file in this mode. Only reading is supported, valid values are “r” (or “rt”) and “rb”.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>IO</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.patch\">\n<code>patch(rule, **options)</code> </dt> <dd>\n<p>Shortcut for <a class=\"reference internal\" href=\"#flask.Flask.route\" title=\"flask.Flask.route\"><code>route()</code></a> with <code>methods=[\"PATCH\"]</code>.</p> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 2.0.</span></p> </div> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>rule</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </li> <li>\n<strong>options</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.permanent_session_lifetime\">\n<code>permanent_session_lifetime</code> </dt> <dd>\n<p>A <a class=\"reference external\" href=\"https://docs.python.org/3/library/datetime.html#datetime.timedelta\" title=\"(in Python v3.9)\"><code>timedelta</code></a> which is used to set the expiration date of a permanent session. The default is 31 days which makes a permanent session survive for roughly one month.</p> <p>This attribute can also be configured from the config with the <code>PERMANENT_SESSION_LIFETIME</code> configuration key. Defaults to <code>timedelta(days=31)</code></p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.post\">\n<code>post(rule, **options)</code> </dt> <dd>\n<p>Shortcut for <a class=\"reference internal\" href=\"#flask.Flask.route\" title=\"flask.Flask.route\"><code>route()</code></a> with <code>methods=[\"POST\"]</code>.</p> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 2.0.</span></p> </div> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>rule</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </li> <li>\n<strong>options</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.preprocess_request\">\n<code>preprocess_request()</code> </dt> <dd>\n<p>Called before the request is dispatched. Calls <a class=\"reference internal\" href=\"#flask.Flask.url_value_preprocessors\" title=\"flask.Flask.url_value_preprocessors\"><code>url_value_preprocessors</code></a> registered with the app and the current blueprint (if any). Then calls <a class=\"reference internal\" href=\"#flask.Flask.before_request_funcs\" title=\"flask.Flask.before_request_funcs\"><code>before_request_funcs</code></a> registered with the app and the blueprint.</p> <p>If any <a class=\"reference internal\" href=\"#flask.Flask.before_request\" title=\"flask.Flask.before_request\"><code>before_request()</code></a> handler returns a non-None value, the value is handled as if it was the return value from the view, and further request handling is stopped.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p>Optional[Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>], Tuple[Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]], Union[Headers, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]], List[Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]]]]], Tuple[Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]], <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a>], Tuple[Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]], <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a>, Union[Headers, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]], List[Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]]]]], WSGIApplication]]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.preserve_context_on_exception\">\n<code>property preserve_context_on_exception: bool</code> </dt> <dd>\n<p>Returns the value of the <code>PRESERVE_CONTEXT_ON_EXCEPTION</code> configuration value in case it’s set, otherwise a sensible default is returned.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.process_response\">\n<code>process_response(response)</code> </dt> <dd>\n<p>Can be overridden in order to modify the response object before it’s sent to the WSGI server. By default this will call all the <a class=\"reference internal\" href=\"#flask.Flask.after_request\" title=\"flask.Flask.after_request\"><code>after_request()</code></a> decorated functions.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.5: </span>As of Flask 0.5 the functions registered for after request execution are called in reverse order of registration.</p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>response</strong> (<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.wrappers.Response\">flask.wrappers.Response</a>) – a <a class=\"reference internal\" href=\"#flask.Flask.response_class\" title=\"flask.Flask.response_class\"><code>response_class</code></a> object.</p> </dd> <dt class=\"field-even\">Returns</dt> <dd class=\"field-even\">\n<p>a new response object or the same, has to be an instance of <a class=\"reference internal\" href=\"#flask.Flask.response_class\" title=\"flask.Flask.response_class\"><code>response_class</code></a>.</p> </dd> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.wrappers.Response\">flask.wrappers.Response</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.propagate_exceptions\">\n<code>property propagate_exceptions: bool</code> </dt> <dd>\n<p>Returns the value of the <code>PROPAGATE_EXCEPTIONS</code> configuration value in case it’s set, otherwise a sensible default is returned.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.put\">\n<code>put(rule, **options)</code> </dt> <dd>\n<p>Shortcut for <a class=\"reference internal\" href=\"#flask.Flask.route\" title=\"flask.Flask.route\"><code>route()</code></a> with <code>methods=[\"PUT\"]</code>.</p> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 2.0.</span></p> </div> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>rule</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </li> <li>\n<strong>options</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.register_blueprint\">\n<code>register_blueprint(blueprint, **options)</code> </dt> <dd>\n<p>Register a <a class=\"reference internal\" href=\"#flask.Blueprint\" title=\"flask.Blueprint\"><code>Blueprint</code></a> on the application. Keyword arguments passed to this method will override the defaults set on the blueprint.</p> <p>Calls the blueprint’s <a class=\"reference internal\" href=\"#flask.Blueprint.register\" title=\"flask.Blueprint.register\"><code>register()</code></a> method after recording the blueprint in the application’s <a class=\"reference internal\" href=\"#flask.Flask.blueprints\" title=\"flask.Flask.blueprints\"><code>blueprints</code></a>.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>blueprint</strong> (<a class=\"reference internal\" href=\"#flask.Blueprint\" title=\"flask.Blueprint\">Blueprint</a>) – The blueprint to register.</li> <li>\n<strong>url_prefix</strong> – Blueprint routes will be prefixed with this.</li> <li>\n<strong>subdomain</strong> – Blueprint routes will match on this subdomain.</li> <li>\n<strong>url_defaults</strong> – Blueprint routes will use these default values for view arguments.</li> <li>\n<strong>options</strong> (<em>Any</em>) – Additional keyword arguments are passed to <a class=\"reference internal\" href=\"#flask.blueprints.BlueprintSetupState\" title=\"flask.blueprints.BlueprintSetupState\"><code>BlueprintSetupState</code></a>. They can be accessed in <a class=\"reference internal\" href=\"#flask.Blueprint.record\" title=\"flask.Blueprint.record\"><code>record()</code></a> callbacks.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.register_error_handler\">\n<code>register_error_handler(code_or_exception, f)</code> </dt> <dd>\n<p>Alternative error attach function to the <a class=\"reference internal\" href=\"#flask.Flask.errorhandler\" title=\"flask.Flask.errorhandler\"><code>errorhandler()</code></a> decorator that is more straightforward to use for non decorator usage.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>code_or_exception</strong> (<em>Union</em><em>[</em><em>Type</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#Exception\" title=\"(in Python v3.9)\">Exception</a><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a><em>]</em>) – </li> <li>\n<strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#Exception\" title=\"(in Python v3.9)\">Exception</a><em>]</em><em>, </em><em>Union</em><em>[</em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>, </em><em>AnyStr</em><em>, </em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Any</em><em>]</em><em>, </em><em>Generator</em><em>[</em><em>AnyStr</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em><em>, </em><em>Tuple</em><em>[</em><em>Union</em><em>[</em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>, </em><em>AnyStr</em><em>, </em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Any</em><em>]</em><em>, </em><em>Generator</em><em>[</em><em>AnyStr</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em><em>]</em><em>, </em><em>Union</em><em>[</em><em>Headers</em><em>, </em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Union</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>List</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em><em>, </em><em>Tuple</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>...</em><em>]</em><em>]</em><em>]</em><em>, </em><em>List</em><em>[</em><em>Tuple</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Union</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>List</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em><em>, </em><em>Tuple</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>...</em><em>]</em><em>]</em><em>]</em><em>]</em><em>]</em><em>]</em><em>, </em><em>Tuple</em><em>[</em><em>Union</em><em>[</em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>, </em><em>AnyStr</em><em>, </em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Any</em><em>]</em><em>, </em><em>Generator</em><em>[</em><em>AnyStr</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a><em>]</em><em>, </em><em>Tuple</em><em>[</em><em>Union</em><em>[</em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>, </em><em>AnyStr</em><em>, </em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Any</em><em>]</em><em>, </em><em>Generator</em><em>[</em><em>AnyStr</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a><em>, </em><em>Union</em><em>[</em><em>Headers</em><em>, </em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Union</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>List</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em><em>, </em><em>Tuple</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>...</em><em>]</em><em>]</em><em>]</em><em>, </em><em>List</em><em>[</em><em>Tuple</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Union</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>List</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em><em>, </em><em>Tuple</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>...</em><em>]</em><em>]</em><em>]</em><em>]</em><em>]</em><em>]</em><em>, </em><em>WSGIApplication</em><em>]</em><em>]</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.request_class\">\n<code>request_class</code> </dt> <dd>\n<p>alias of <a class=\"reference internal\" href=\"#flask.Request\" title=\"flask.wrappers.Request\"><code>flask.wrappers.Request</code></a></p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.request_context\">\n<code>request_context(environ)</code> </dt> <dd>\n<p>Create a <a class=\"reference internal\" href=\"#flask.ctx.RequestContext\" title=\"flask.ctx.RequestContext\"><code>RequestContext</code></a> representing a WSGI environment. Use a <code>with</code> block to push the context, which will make <a class=\"reference internal\" href=\"#flask.request\" title=\"flask.request\"><code>request</code></a> point at this request.</p> <p>See <a class=\"reference internal\" href=\"../reqcontext/index\"><span class=\"doc\">The Request Context</span></a>.</p> <p>Typically you should not call this from your own code. A request context is automatically pushed by the <a class=\"reference internal\" href=\"#flask.Flask.wsgi_app\" title=\"flask.Flask.wsgi_app\"><code>wsgi_app()</code></a> when handling a request. Use <a class=\"reference internal\" href=\"#flask.Flask.test_request_context\" title=\"flask.Flask.test_request_context\"><code>test_request_context()</code></a> to create an environment and context instead of this method.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>environ</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a>) – a WSGI environment</p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference internal\" href=\"#flask.ctx.RequestContext\" title=\"flask.ctx.RequestContext\">flask.ctx.RequestContext</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.response_class\">\n<code>response_class</code> </dt> <dd>\n<p>alias of <a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.wrappers.Response\"><code>flask.wrappers.Response</code></a></p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.root_path\">\n<code>root_path</code> </dt> <dd>\n<p>Absolute path to the package on the filesystem. Used to look up resources contained in the package.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.route\">\n<code>route(rule, **options)</code> </dt> <dd>\n<p>Decorate a view function to register it with the given URL rule and options. Calls <a class=\"reference internal\" href=\"#flask.Flask.add_url_rule\" title=\"flask.Flask.add_url_rule\"><code>add_url_rule()</code></a>, which has more details about the implementation.</p> <pre data-language=\"python\">@app.route(\"/\")\ndef index():\n    return \"Hello, World!\"\n</pre> <p>See <a class=\"reference internal\" href=\"#url-route-registrations\"><span class=\"std std-ref\">URL Route Registrations</span></a>.</p> <p>The endpoint name for the route defaults to the name of the view function if the <code>endpoint</code> parameter isn’t passed.</p> <p>The <code>methods</code> parameter defaults to <code>[\"GET\"]</code>. <code>HEAD</code> and <code>OPTIONS</code> are added automatically.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>rule</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – The URL rule string.</li> <li>\n<strong>options</strong> (<em>Any</em>) – Extra options passed to the <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/routing/#werkzeug.routing.Rule\" title=\"(in Werkzeug v2.0.x)\"><code>Rule</code></a> object.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.run\">\n<code>run(host=None, port=None, debug=None, load_dotenv=True, **options)</code> </dt> <dd>\n<p>Runs the application on a local development server.</p> <p>Do not use <code>run()</code> in a production setting. It is not intended to meet security and performance requirements for a production server. Instead, see <a class=\"reference internal\" href=\"../deploying/index\"><span class=\"doc\">Deployment Options</span></a> for WSGI server recommendations.</p> <p>If the <a class=\"reference internal\" href=\"#flask.Flask.debug\" title=\"flask.Flask.debug\"><code>debug</code></a> flag is set the server will automatically reload for code changes and show a debugger in case an exception happened.</p> <p>If you want to run the application in debug mode, but disable the code execution on the interactive debugger, you can pass <code>use_evalex=False</code> as parameter. This will keep the debugger’s traceback screen active, but disable code execution.</p> <p>It is not recommended to use this function for development with automatic reloading as this is badly supported. Instead you should be using the <strong class=\"command\">flask</strong> command line script’s <code>run</code> support.</p> <div class=\"admonition-keep-in-mind admonition\"> <p class=\"admonition-title\">Keep in Mind</p> <p>Flask will suppress any server error with a generic error page unless it is in debug mode. As such to enable just the interactive debugger without the code reloading, you have to invoke <a class=\"reference internal\" href=\"#flask.Flask.run\" title=\"flask.Flask.run\"><code>run()</code></a> with <code>debug=True</code> and <code>use_reloader=False</code>. Setting <code>use_debugger</code> to <code>True</code> without being in debug mode won’t catch any exceptions because there won’t be any to catch.</p> </div> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>host</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – the hostname to listen on. Set this to <code>'0.0.0.0'</code> to have the server available externally as well. Defaults to <code>'127.0.0.1'</code> or the host in the <code>SERVER_NAME</code> config variable if present.</li> <li>\n<strong>port</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a><em>]</em>) – the port of the webserver. Defaults to <code>5000</code> or the port defined in the <code>SERVER_NAME</code> config variable if present.</li> <li>\n<strong>debug</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a><em>]</em>) – if given, enable or disable debug mode. See <a class=\"reference internal\" href=\"#flask.Flask.debug\" title=\"flask.Flask.debug\"><code>debug</code></a>.</li> <li>\n<strong>load_dotenv</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – Load the nearest <code>.env</code> and <code>.flaskenv</code> files to set environment variables. Will also change the working directory to the directory containing the first file found.</li> <li>\n<strong>options</strong> (<em>Any</em>) – the options to be forwarded to the underlying Werkzeug server. See <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/serving/#werkzeug.serving.run_simple\" title=\"(in Werkzeug v2.0.x)\"><code>werkzeug.serving.run_simple()</code></a> for more information.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.0: </span>If installed, python-dotenv will be used to load environment variables from <code>.env</code> and <code>.flaskenv</code> files.</p> <p>If set, the <code id=\"index-1\">FLASK_ENV</code> and <code id=\"index-2\">FLASK_DEBUG</code> environment variables will override <a class=\"reference internal\" href=\"#flask.Flask.env\" title=\"flask.Flask.env\"><code>env</code></a> and <a class=\"reference internal\" href=\"#flask.Flask.debug\" title=\"flask.Flask.debug\"><code>debug</code></a>.</p> <p>Threaded mode is enabled by default.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.10: </span>The default port is now picked from the <code>SERVER_NAME</code> variable.</p> </div> </details>\n</dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.secret_key\">\n<code>secret_key</code> </dt> <dd>\n<p>If a secret key is set, cryptographic components can use this to sign cookies and other things. Set this to a complex random value when you want to use the secure cookie for instance.</p> <p>This attribute can also be configured from the config with the <a class=\"reference internal\" href=\"../config/index#SECRET_KEY\" title=\"SECRET_KEY\"><code>SECRET_KEY</code></a> configuration key. Defaults to <code>None</code>.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.select_jinja_autoescape\">\n<code>select_jinja_autoescape(filename)</code> </dt> <dd>\n<p>Returns <code>True</code> if autoescaping should be active for the given template name. If no template name is given, returns <code>True</code>.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.5.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>filename</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.send_file_max_age_default\">\n<code>send_file_max_age_default</code> </dt> <dd>\n<p>A <a class=\"reference external\" href=\"https://docs.python.org/3/library/datetime.html#datetime.timedelta\" title=\"(in Python v3.9)\"><code>timedelta</code></a> or number of seconds which is used as the default <code>max_age</code> for <a class=\"reference internal\" href=\"#flask.send_file\" title=\"flask.send_file\"><code>send_file()</code></a>. The default is <code>None</code>, which tells the browser to use conditional requests instead of a timed cache.</p> <p>Configured with the <a class=\"reference internal\" href=\"../config/index#SEND_FILE_MAX_AGE_DEFAULT\" title=\"SEND_FILE_MAX_AGE_DEFAULT\"><code>SEND_FILE_MAX_AGE_DEFAULT</code></a> configuration key.</p> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span>Defaults to <code>None</code> instead of 12 hours.</p> </div> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.send_static_file\">\n<code>send_static_file(filename)</code> </dt> <dd>\n<p>The view function used to serve files from <a class=\"reference internal\" href=\"#flask.Flask.static_folder\" title=\"flask.Flask.static_folder\"><code>static_folder</code></a>. A route is automatically registered for this view at <a class=\"reference internal\" href=\"#flask.Flask.static_url_path\" title=\"flask.Flask.static_url_path\"><code>static_url_path</code></a> if <a class=\"reference internal\" href=\"#flask.Flask.static_folder\" title=\"flask.Flask.static_folder\"><code>static_folder</code></a> is set.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.5.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>filename</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.session_cookie_name\">\n<code>session_cookie_name</code> </dt> <dd>\n<p>The secure cookie uses this for the name of the session cookie.</p> <p>This attribute can also be configured from the config with the <code>SESSION_COOKIE_NAME</code> configuration key. Defaults to <code>'session'</code></p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.session_interface\">\n<code>session_interface = &lt;flask.sessions.SecureCookieSessionInterface object&gt;</code> </dt> <dd>\n<p>the session interface to use. By default an instance of <a class=\"reference internal\" href=\"#flask.sessions.SecureCookieSessionInterface\" title=\"flask.sessions.SecureCookieSessionInterface\"><code>SecureCookieSessionInterface</code></a> is used here.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.8.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.shell_context_processor\">\n<code>shell_context_processor(f)</code> </dt> <dd>\n<p>Registers a shell context processor function.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.11.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.shell_context_processors\">\n<code>shell_context_processors: t.List[t.Callable[], t.Dict[str, t.Any]]]</code> </dt> <dd>\n<p>A list of shell context processor functions that should be run when a shell context is created.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.11.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.should_ignore_error\">\n<code>should_ignore_error(error)</code> </dt> <dd>\n<p>This is called to figure out if an error should be ignored or not as far as the teardown system is concerned. If this function returns <code>True</code> then the teardown handlers will not be passed the error.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>error</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#BaseException\" title=\"(in Python v3.9)\">BaseException</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.static_folder\">\n<code>property static_folder: Optional[str]</code> </dt> <dd>\n<p>The absolute path to the configured static folder. <code>None</code> if no static folder is set.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.static_url_path\">\n<code>property static_url_path: Optional[str]</code> </dt> <dd>\n<p>The URL prefix that the static route will be accessible from.</p> <p>If it was not configured during init, it is derived from <a class=\"reference internal\" href=\"#flask.Flask.static_folder\" title=\"flask.Flask.static_folder\"><code>static_folder</code></a>.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.teardown_appcontext\">\n<code>teardown_appcontext(f)</code> </dt> <dd>\n<p>Registers a function to be called when the application context ends. These functions are typically also called when the request context is popped.</p> <p>Example:</p> <pre data-language=\"python\">ctx = app.app_context()\nctx.push()\n...\nctx.pop()\n</pre> <p>When <code>ctx.pop()</code> is executed in the above example, the teardown functions are called just before the app context moves from the stack of active contexts. This becomes relevant if you are using such constructs in tests.</p> <p>Since a request context typically also manages an application context it would also be called when you pop a request context.</p> <p>When a teardown function was called because of an unhandled exception it will be passed an error object. If an <a class=\"reference internal\" href=\"#flask.Flask.errorhandler\" title=\"flask.Flask.errorhandler\"><code>errorhandler()</code></a> is registered, it will handle the exception and the teardown will not receive it.</p> <p>The return values of teardown functions are ignored.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#BaseException\" title=\"(in Python v3.9)\">BaseException</a><em>]</em><em>]</em><em>, </em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.wrappers.Response\">flask.wrappers.Response</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[Optional[<a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#BaseException\" title=\"(in Python v3.9)\">BaseException</a>]], <a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.wrappers.Response\">flask.wrappers.Response</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.teardown_appcontext_funcs\">\n<code>teardown_appcontext_funcs: t.List[TeardownCallable]</code> </dt> <dd>\n<p>A list of functions that are called when the application context is destroyed. Since the application context is also torn down if the request ends this is the place to store code that disconnects from databases.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.teardown_request\">\n<code>teardown_request(f)</code> </dt> <dd>\n<p>Register a function to be run at the end of each request, regardless of whether there was an exception or not. These functions are executed when the request context is popped, even if not an actual request was performed.</p> <p>Example:</p> <pre data-language=\"python\">ctx = app.test_request_context()\nctx.push()\n...\nctx.pop()\n</pre> <p>When <code>ctx.pop()</code> is executed in the above example, the teardown functions are called just before the request context moves from the stack of active contexts. This becomes relevant if you are using such constructs in tests.</p> <p>Teardown functions must avoid raising exceptions, since they . If they execute code that might fail they will have to surround the execution of these code by try/except statements and log occurring errors.</p> <p>When a teardown function was called because of an exception it will be passed an error object.</p> <p>The return values of teardown functions are ignored.</p> <div class=\"admonition-debug-note admonition\"> <p class=\"admonition-title\">Debug Note</p> <p>In debug mode Flask will not tear down a request on an exception immediately. Instead it will keep it alive so that the interactive debugger can still access it. This behavior can be controlled by the <code>PRESERVE_CONTEXT_ON_EXCEPTION</code> configuration variable.</p> </div> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#BaseException\" title=\"(in Python v3.9)\">BaseException</a><em>]</em><em>]</em><em>, </em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[Optional[<a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#BaseException\" title=\"(in Python v3.9)\">BaseException</a>]], <a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.teardown_request_funcs\">\n<code>teardown_request_funcs: t.Dict[AppOrBlueprintKey, t.List[TeardownCallable]]</code> </dt> <dd>\n<p>A data structure of functions to call at the end of each request even if an exception is raised, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class=\"reference internal\" href=\"#flask.Flask.teardown_request\" title=\"flask.Flask.teardown_request\"><code>teardown_request()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.template_context_processors\">\n<code>template_context_processors: t.Dict[AppOrBlueprintKey, t.List[TemplateContextProcessorCallable]]</code> </dt> <dd>\n<p>A data structure of functions to call to pass extra context values when rendering templates, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class=\"reference internal\" href=\"#flask.Flask.context_processor\" title=\"flask.Flask.context_processor\"><code>context_processor()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.template_filter\">\n<code>template_filter(name=None)</code> </dt> <dd>\n<p>A decorator that is used to register custom template filter. You can specify a name for the filter, otherwise the function name will be used. Example:</p> <pre data-language=\"python\">@app.template_filter()\ndef reverse(s):\n    return s[::-1]\n</pre> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>name</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – the optional name of the filter, otherwise the function name will be used.</p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.template_folder\">\n<code>template_folder</code> </dt> <dd>\n<p>The path to the templates folder, relative to <a class=\"reference internal\" href=\"#flask.Flask.root_path\" title=\"flask.Flask.root_path\"><code>root_path</code></a>, to add to the template loader. <code>None</code> if templates should not be added.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.template_global\">\n<code>template_global(name=None)</code> </dt> <dd>\n<p>A decorator that is used to register a custom template global function. You can specify a name for the global function, otherwise the function name will be used. Example:</p> <pre data-language=\"python\">@app.template_global()\ndef double(n):\n    return 2 * n\n</pre> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>name</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – the optional name of the global function, otherwise the function name will be used.</p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.template_test\">\n<code>template_test(name=None)</code> </dt> <dd>\n<p>A decorator that is used to register custom template test. You can specify a name for the test, otherwise the function name will be used. Example:</p> <pre data-language=\"python\">@app.template_test()\ndef is_prime(n):\n    if n == 2:\n        return True\n    for i in range(2, int(math.ceil(math.sqrt(n))) + 1):\n        if n % i == 0:\n            return False\n    return True\n</pre> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>name</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – the optional name of the test, otherwise the function name will be used.</p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.templates_auto_reload\">\n<code>property templates_auto_reload: bool</code> </dt> <dd>\n<p>Reload templates when they are changed. Used by <a class=\"reference internal\" href=\"#flask.Flask.create_jinja_environment\" title=\"flask.Flask.create_jinja_environment\"><code>create_jinja_environment()</code></a>.</p> <p>This attribute can be configured with <a class=\"reference internal\" href=\"../config/index#TEMPLATES_AUTO_RELOAD\" title=\"TEMPLATES_AUTO_RELOAD\"><code>TEMPLATES_AUTO_RELOAD</code></a>. If not set, it will be enabled in debug mode.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 1.0: </span>This property was added but the underlying config and behavior already existed.</p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.test_cli_runner\">\n<code>test_cli_runner(**kwargs)</code> </dt> <dd>\n<p>Create a CLI runner for testing CLI commands. See <a class=\"reference internal\" href=\"../testing/index#testing-cli\"><span class=\"std std-ref\">Testing CLI Commands</span></a>.</p> <p>Returns an instance of <a class=\"reference internal\" href=\"#flask.Flask.test_cli_runner_class\" title=\"flask.Flask.test_cli_runner_class\"><code>test_cli_runner_class</code></a>, by default <a class=\"reference internal\" href=\"#flask.testing.FlaskCliRunner\" title=\"flask.testing.FlaskCliRunner\"><code>FlaskCliRunner</code></a>. The Flask app object is passed as the first argument.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 1.0.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>kwargs</strong> (<em>Any</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference internal\" href=\"#flask.testing.FlaskCliRunner\" title=\"flask.testing.FlaskCliRunner\">FlaskCliRunner</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.test_cli_runner_class\">\n<code>test_cli_runner_class: Optional[Type[FlaskCliRunner]] = None</code> </dt> <dd>\n<p>The <a class=\"reference external\" href=\"https://click.palletsprojects.com/en/8.0.x/api/#click.testing.CliRunner\" title=\"(in Click v8.0.x)\"><code>CliRunner</code></a> subclass, by default <a class=\"reference internal\" href=\"#flask.testing.FlaskCliRunner\" title=\"flask.testing.FlaskCliRunner\"><code>FlaskCliRunner</code></a> that is used by <a class=\"reference internal\" href=\"#flask.Flask.test_cli_runner\" title=\"flask.Flask.test_cli_runner\"><code>test_cli_runner()</code></a>. Its <code>__init__</code> method should take a Flask app object as the first argument.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 1.0.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.test_client\">\n<code>test_client(use_cookies=True, **kwargs)</code> </dt> <dd>\n<p>Creates a test client for this application. For information about unit testing head over to <a class=\"reference internal\" href=\"../testing/index\"><span class=\"doc\">Testing Flask Applications</span></a>.</p> <p>Note that if you are testing for assertions or exceptions in your application code, you must set <code>app.testing = True</code> in order for the exceptions to propagate to the test client. Otherwise, the exception will be handled by the application (not visible to the test client) and the only indication of an AssertionError or other exception will be a 500 status code response to the test client. See the <a class=\"reference internal\" href=\"#flask.Flask.testing\" title=\"flask.Flask.testing\"><code>testing</code></a> attribute. For example:</p> <pre data-language=\"python\">app.testing = True\nclient = app.test_client()\n</pre> <p>The test client can be used in a <code>with</code> block to defer the closing down of the context until the end of the <code>with</code> block. This is useful if you want to access the context locals for testing:</p> <pre data-language=\"python\">with app.test_client() as c:\n    rv = c.get('/?vodka=42')\n    assert request.args['vodka'] == '42'\n</pre> <p>Additionally, you may pass optional keyword arguments that will then be passed to the application’s <a class=\"reference internal\" href=\"#flask.Flask.test_client_class\" title=\"flask.Flask.test_client_class\"><code>test_client_class</code></a> constructor. For example:</p> <pre data-language=\"python\">from flask.testing import FlaskClient\n\nclass CustomClient(FlaskClient):\n    def __init__(self, *args, **kwargs):\n        self._authentication = kwargs.pop(\"authentication\")\n        super(CustomClient,self).__init__( *args, **kwargs)\n\napp.test_client_class = CustomClient\nclient = app.test_client(authentication='Basic ....')\n</pre> <p>See <a class=\"reference internal\" href=\"#flask.testing.FlaskClient\" title=\"flask.testing.FlaskClient\"><code>FlaskClient</code></a> for more information.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.11: </span>Added <code>**kwargs</code> to support passing additional keyword arguments to the constructor of <a class=\"reference internal\" href=\"#flask.Flask.test_client_class\" title=\"flask.Flask.test_client_class\"><code>test_client_class</code></a>.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7: </span>The <code>use_cookies</code> parameter was added as well as the ability to override the client to be used by setting the <a class=\"reference internal\" href=\"#flask.Flask.test_client_class\" title=\"flask.Flask.test_client_class\"><code>test_client_class</code></a> attribute.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.4: </span>added support for <code>with</code> block usage for the client.</p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>use_cookies</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – </li> <li>\n<strong>kwargs</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference internal\" href=\"#flask.testing.FlaskClient\" title=\"flask.testing.FlaskClient\">FlaskClient</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.test_client_class\">\n<code>test_client_class: Optional[Type[FlaskClient]] = None</code> </dt> <dd>\n<p>the test client that is used with when <code>test_client</code> is used.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.test_request_context\">\n<code>test_request_context(*args, **kwargs)</code> </dt> <dd>\n<p>Create a <a class=\"reference internal\" href=\"#flask.ctx.RequestContext\" title=\"flask.ctx.RequestContext\"><code>RequestContext</code></a> for a WSGI environment created from the given values. This is mostly useful during testing, where you may want to run a function that uses request data without dispatching a full request.</p> <p>See <a class=\"reference internal\" href=\"../reqcontext/index\"><span class=\"doc\">The Request Context</span></a>.</p> <p>Use a <code>with</code> block to push the context, which will make <a class=\"reference internal\" href=\"#flask.request\" title=\"flask.request\"><code>request</code></a> point at the request for the created environment.</p> <pre data-language=\"python\">with test_request_context(...):\n    generate_report()\n</pre> <p>When using the shell, it may be easier to push and pop the context manually to avoid indentation.</p> <pre data-language=\"python\">ctx = app.test_request_context(...)\nctx.push()\n...\nctx.pop()\n</pre> <p>Takes the same arguments as Werkzeug’s <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/test/#werkzeug.test.EnvironBuilder\" title=\"(in Werkzeug v2.0.x)\"><code>EnvironBuilder</code></a>, with some defaults from the application. See the linked Werkzeug docs for most of the available arguments. Flask-specific behavior is listed here.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>path</strong> – URL path being requested.</li> <li>\n<strong>base_url</strong> – Base URL where the app is being served, which <code>path</code> is relative to. If not given, built from <a class=\"reference internal\" href=\"../config/index#PREFERRED_URL_SCHEME\" title=\"PREFERRED_URL_SCHEME\"><code>PREFERRED_URL_SCHEME</code></a>, <code>subdomain</code>, <a class=\"reference internal\" href=\"../config/index#SERVER_NAME\" title=\"SERVER_NAME\"><code>SERVER_NAME</code></a>, and <a class=\"reference internal\" href=\"../config/index#APPLICATION_ROOT\" title=\"APPLICATION_ROOT\"><code>APPLICATION_ROOT</code></a>.</li> <li>\n<strong>subdomain</strong> – Subdomain name to append to <a class=\"reference internal\" href=\"../config/index#SERVER_NAME\" title=\"SERVER_NAME\"><code>SERVER_NAME</code></a>.</li> <li>\n<strong>url_scheme</strong> – Scheme to use instead of <a class=\"reference internal\" href=\"../config/index#PREFERRED_URL_SCHEME\" title=\"PREFERRED_URL_SCHEME\"><code>PREFERRED_URL_SCHEME</code></a>.</li> <li>\n<strong>data</strong> – The request body, either as a string or a dict of form keys and values.</li> <li>\n<strong>json</strong> – If given, this is serialized as JSON and passed as <code>data</code>. Also defaults <code>content_type</code> to <code>application/json</code>.</li> <li>\n<strong>args</strong> (<em>Any</em>) – other positional arguments passed to <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/test/#werkzeug.test.EnvironBuilder\" title=\"(in Werkzeug v2.0.x)\"><code>EnvironBuilder</code></a>.</li> <li>\n<strong>kwargs</strong> (<em>Any</em>) – other keyword arguments passed to <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/test/#werkzeug.test.EnvironBuilder\" title=\"(in Werkzeug v2.0.x)\"><code>EnvironBuilder</code></a>.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference internal\" href=\"#flask.ctx.RequestContext\" title=\"flask.ctx.RequestContext\">flask.ctx.RequestContext</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.testing\">\n<code>testing</code> </dt> <dd>\n<p>The testing flag. Set this to <code>True</code> to enable the test mode of Flask extensions (and in the future probably also Flask itself). For example this might activate test helpers that have an additional runtime cost which should not be enabled by default.</p> <p>If this is enabled and PROPAGATE_EXCEPTIONS is not changed from the default it’s implicitly enabled.</p> <p>This attribute can also be configured from the config with the <code>TESTING</code> configuration key. Defaults to <code>False</code>.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.trap_http_exception\">\n<code>trap_http_exception(e)</code> </dt> <dd>\n<p>Checks if an HTTP exception should be trapped or not. By default this will return <code>False</code> for all exceptions except for a bad request key error if <code>TRAP_BAD_REQUEST_ERRORS</code> is set to <code>True</code>. It also returns <code>True</code> if <code>TRAP_HTTP_EXCEPTIONS</code> is set to <code>True</code>.</p> <p>This is called for all HTTP exceptions raised by a view function. If it returns <code>True</code> for any exception the error handler for this exception is not called and it shows up as regular exception in the traceback. This is helpful for debugging implicitly raised HTTP exceptions.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.0: </span>Bad request errors are not trapped by default in debug mode.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.8.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>e</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#Exception\" title=\"(in Python v3.9)\">Exception</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.update_template_context\">\n<code>update_template_context(context)</code> </dt> <dd>\n<p>Update the template context with some commonly used variables. This injects request, session, config and g into the template context as well as everything template context processors want to inject. Note that the as of Flask 0.6, the original values in the context will not be overridden if a context processor decides to return a value with the same key.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>context</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a>) – the context as a dictionary that is updated in place to add extra variables.</p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.url_build_error_handlers\">\n<code>url_build_error_handlers: t.List[t.Callable[[Exception, str, dict], str]]</code> </dt> <dd>\n<p>A list of functions that are called when <a class=\"reference internal\" href=\"#flask.url_for\" title=\"flask.url_for\"><code>url_for()</code></a> raises a <code>BuildError</code>. Each function registered here is called with <code>error</code>, <code>endpoint</code> and <code>values</code>. If a function returns <code>None</code> or raises a <code>BuildError</code> the next function is tried.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.url_default_functions\">\n<code>url_default_functions: t.Dict[AppOrBlueprintKey, t.List[URLDefaultCallable]]</code> </dt> <dd>\n<p>A data structure of functions to call to modify the keyword arguments when generating URLs, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class=\"reference internal\" href=\"#flask.Flask.url_defaults\" title=\"flask.Flask.url_defaults\"><code>url_defaults()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.url_defaults\">\n<code>url_defaults(f)</code> </dt> <dd>\n<p>Callback function for URL defaults for all view functions of the application. It’s called with the endpoint and values and should update the values passed in place.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a>], <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.url_map\">\n<code>url_map</code> </dt> <dd>\n<p>The <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/routing/#werkzeug.routing.Map\" title=\"(in Werkzeug v2.0.x)\"><code>Map</code></a> for this instance. You can use this to change the routing converters after the class was created but before any routes are connected. Example:</p> <pre data-language=\"python\">from werkzeug.routing import BaseConverter\n\nclass ListConverter(BaseConverter):\n    def to_python(self, value):\n        return value.split(',')\n    def to_url(self, values):\n        return ','.join(super(ListConverter, self).to_url(value)\n                        for value in values)\n\napp = Flask(__name__)\napp.url_map.converters['list'] = ListConverter\n</pre> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.url_map_class\">\n<code>url_map_class</code> </dt> <dd>\n<p>alias of <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/routing/#werkzeug.routing.Map\" title=\"(in Werkzeug v2.0.x)\"><code>werkzeug.routing.Map</code></a></p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.url_rule_class\">\n<code>url_rule_class</code> </dt> <dd>\n<p>alias of <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/routing/#werkzeug.routing.Rule\" title=\"(in Werkzeug v2.0.x)\"><code>werkzeug.routing.Rule</code></a></p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.url_value_preprocessor\">\n<code>url_value_preprocessor(f)</code> </dt> <dd>\n<p>Register a URL value preprocessor function for all view functions in the application. These functions will be called before the <a class=\"reference internal\" href=\"#flask.Flask.before_request\" title=\"flask.Flask.before_request\"><code>before_request()</code></a> functions.</p> <p>The function can modify the values captured from the matched url before they are passed to the view. For example, this can be used to pop a common language code value and place it in <code>g</code> rather than pass it to every view.</p> <p>The function is passed the endpoint name and values dict. The return value is ignored.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em><em>, </em><em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a><em>]</em><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[Optional[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Optional[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a>]], <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.url_value_preprocessors\">\n<code>url_value_preprocessors: t.Dict[AppOrBlueprintKey, t.List[URLValuePreprocessorCallable]]</code> </dt> <dd>\n<p>A data structure of functions to call to modify the keyword arguments passed to the view function, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class=\"reference internal\" href=\"#flask.Flask.url_value_preprocessor\" title=\"flask.Flask.url_value_preprocessor\"><code>url_value_preprocessor()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.use_x_sendfile\">\n<code>use_x_sendfile</code> </dt> <dd>\n<p>Enable this if you want to use the X-Sendfile feature. Keep in mind that the server has to support this. This only affects files sent with the <a class=\"reference internal\" href=\"#flask.send_file\" title=\"flask.send_file\"><code>send_file()</code></a> method.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.2.</span></p> </div> </details><p>This attribute can also be configured from the config with the <code>USE_X_SENDFILE</code> configuration key. Defaults to <code>False</code>.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.view_functions\">\n<code>view_functions: t.Dict[str, t.Callable]</code> </dt> <dd>\n<p>A dictionary mapping endpoint names to view functions.</p> <p>To register a view function, use the <a class=\"reference internal\" href=\"#flask.Flask.route\" title=\"flask.Flask.route\"><code>route()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Flask.wsgi_app\">\n<code>wsgi_app(environ, start_response)</code> </dt> <dd>\n<p>The actual WSGI application. This is not implemented in <code>__call__()</code> so that middlewares can be applied without losing a reference to the app object. Instead of doing this:</p> <pre data-language=\"python\">app = MyMiddleware(app)\n</pre> <p>It’s a better idea to do this instead:</p> <pre data-language=\"python\">app.wsgi_app = MyMiddleware(app.wsgi_app)\n</pre> <p>Then you still have the original application object around and can continue to call methods on it.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.7: </span>Teardown events for the request and app contexts are called even if an unhandled error occurs. Other events may not be called depending on when an error occurs during dispatch. See <a class=\"reference internal\" href=\"../reqcontext/index#callbacks-and-errors\"><span class=\"std std-ref\">Callbacks and Errors</span></a>.</p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>environ</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a>) – A WSGI environment.</li> <li>\n<strong>start_response</strong> (<em>Callable</em>) – A callable accepting a status code, a list of headers, and an optional exception context to start the response.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Any</p> </dd> </dl> </dd>\n</dl> </dd>\n</dl>   <h2 id=\"blueprint-objects\">Blueprint Objects</h2> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint\">\n<code>class flask.Blueprint(name, import_name, static_folder=None, static_url_path=None, template_folder=None, url_prefix=None, subdomain=None, url_defaults=None, root_path=None, cli_group=&lt;object object&gt;)</code> </dt> <dd>\n<p>Represents a blueprint, a collection of routes and other app-related functions that can be registered on a real application later.</p> <p>A blueprint is an object that allows defining application functions without requiring an application object ahead of time. It uses the same decorators as <a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\"><code>Flask</code></a>, but defers the need for an application by recording them for later registration.</p> <p>Decorating a function with a blueprint creates a deferred function that is called with <a class=\"reference internal\" href=\"#flask.blueprints.BlueprintSetupState\" title=\"flask.blueprints.BlueprintSetupState\"><code>BlueprintSetupState</code></a> when the blueprint is registered on an application.</p> <p>See <a class=\"reference internal\" href=\"../blueprints/index\"><span class=\"doc\">Modular Applications with Blueprints</span></a> for more information.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>name</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – The name of the blueprint. Will be prepended to each endpoint name.</li> <li>\n<strong>import_name</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – The name of the blueprint package, usually <code>__name__</code>. This helps locate the <code>root_path</code> for the blueprint.</li> <li>\n<strong>static_folder</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – A folder with static files that should be served by the blueprint’s static route. The path is relative to the blueprint’s root path. Blueprint static files are disabled by default.</li> <li>\n<strong>static_url_path</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – The url to serve static files from. Defaults to <code>static_folder</code>. If the blueprint does not have a <code>url_prefix</code>, the app’s static route will take precedence, and the blueprint’s static files won’t be accessible.</li> <li>\n<strong>template_folder</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – A folder with templates that should be added to the app’s template search path. The path is relative to the blueprint’s root path. Blueprint templates are disabled by default. Blueprint templates have a lower precedence than those in the app’s templates folder.</li> <li>\n<strong>url_prefix</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – A path to prepend to all of the blueprint’s URLs, to make them distinct from the rest of the app’s routes.</li> <li>\n<strong>subdomain</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – A subdomain that blueprint routes will match on by default.</li> <li>\n<strong>url_defaults</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a><em>]</em>) – A dict of default values that blueprint routes will receive by default.</li> <li>\n<strong>root_path</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – By default, the blueprint will automatically set this based on <code>import_name</code>. In certain situations this automatic detection can fail, so the path can be specified manually instead.</li> <li>\n<strong>cli_group</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – </li> </ul> </dd> </dl> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.1.0: </span>Blueprints have a <code>cli</code> group to register nested CLI commands. The <code>cli_group</code> parameter controls the name of the group under the <code>flask</code> command.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details><dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.add_app_template_filter\">\n<code>add_app_template_filter(f, name=None)</code> </dt> <dd>\n<p>Register a custom template filter, available application wide. Like <a class=\"reference internal\" href=\"#flask.Flask.add_template_filter\" title=\"flask.Flask.add_template_filter\"><code>Flask.add_template_filter()</code></a> but for a blueprint. Works exactly like the <a class=\"reference internal\" href=\"#flask.Blueprint.app_template_filter\" title=\"flask.Blueprint.app_template_filter\"><code>app_template_filter()</code></a> decorator.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>name</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – the optional name of the filter, otherwise the function name will be used.</li> <li>\n<strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><em>Any</em><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.add_app_template_global\">\n<code>add_app_template_global(f, name=None)</code> </dt> <dd>\n<p>Register a custom template global, available application wide. Like <a class=\"reference internal\" href=\"#flask.Flask.add_template_global\" title=\"flask.Flask.add_template_global\"><code>Flask.add_template_global()</code></a> but for a blueprint. Works exactly like the <a class=\"reference internal\" href=\"#flask.Blueprint.app_template_global\" title=\"flask.Blueprint.app_template_global\"><code>app_template_global()</code></a> decorator.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>name</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – the optional name of the global, otherwise the function name will be used.</li> <li>\n<strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><em>]</em><em>, </em><em>Any</em><em>]</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.add_app_template_test\">\n<code>add_app_template_test(f, name=None)</code> </dt> <dd>\n<p>Register a custom template test, available application wide. Like <a class=\"reference internal\" href=\"#flask.Flask.add_template_test\" title=\"flask.Flask.add_template_test\"><code>Flask.add_template_test()</code></a> but for a blueprint. Works exactly like the <a class=\"reference internal\" href=\"#flask.Blueprint.app_template_test\" title=\"flask.Blueprint.app_template_test\"><code>app_template_test()</code></a> decorator.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>name</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – the optional name of the test, otherwise the function name will be used.</li> <li>\n<strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><em>Any</em><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a><em>]</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.add_url_rule\">\n<code>add_url_rule(rule, endpoint=None, view_func=None, **options)</code> </dt> <dd>\n<p>Like <a class=\"reference internal\" href=\"#flask.Flask.add_url_rule\" title=\"flask.Flask.add_url_rule\"><code>Flask.add_url_rule()</code></a> but for a blueprint. The endpoint for the <a class=\"reference internal\" href=\"#flask.url_for\" title=\"flask.url_for\"><code>url_for()</code></a> function is prefixed with the name of the blueprint.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>rule</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </li> <li>\n<strong>endpoint</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – </li> <li>\n<strong>view_func</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>]</em>) – </li> <li>\n<strong>options</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.after_app_request\">\n<code>after_app_request(f)</code> </dt> <dd>\n<p>Like <a class=\"reference internal\" href=\"#flask.Flask.after_request\" title=\"flask.Flask.after_request\"><code>Flask.after_request()</code></a> but for a blueprint. Such a function is executed after each request, even if outside of the blueprint.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>]</em><em>, </em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>], <a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.after_request\">\n<code>after_request(f)</code> </dt> <dd>\n<p>Register a function to run after each request to this object.</p> <p>The function is called with the response object, and must return a response object. This allows the functions to modify or replace the response before it is sent.</p> <p>If a function raises an exception, any remaining <code>after_request</code> functions will not be called. Therefore, this should not be used for actions that must execute, such as to close resources. Use <a class=\"reference internal\" href=\"#flask.Blueprint.teardown_request\" title=\"flask.Blueprint.teardown_request\"><code>teardown_request()</code></a> for that.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>]</em><em>, </em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>], <a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.after_request_funcs\">\n<code>after_request_funcs: t.Dict[AppOrBlueprintKey, t.List[AfterRequestCallable]]</code> </dt> <dd>\n<p>A data structure of functions to call at the end of each request, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class=\"reference internal\" href=\"#flask.Blueprint.after_request\" title=\"flask.Blueprint.after_request\"><code>after_request()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.app_context_processor\">\n<code>app_context_processor(f)</code> </dt> <dd>\n<p>Like <a class=\"reference internal\" href=\"#flask.Flask.context_processor\" title=\"flask.Flask.context_processor\"><code>Flask.context_processor()</code></a> but for a blueprint. Such a function is executed each request, even if outside of the blueprint.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><em>]</em><em>, </em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Any</em><em>]</em><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[], Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any]]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.app_errorhandler\">\n<code>app_errorhandler(code)</code> </dt> <dd>\n<p>Like <a class=\"reference internal\" href=\"#flask.Flask.errorhandler\" title=\"flask.Flask.errorhandler\"><code>Flask.errorhandler()</code></a> but for a blueprint. This handler is used for all requests, even if outside of the blueprint.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>code</strong> (<em>Union</em><em>[</em><em>Type</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#Exception\" title=\"(in Python v3.9)\">Exception</a><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.app_template_filter\">\n<code>app_template_filter(name=None)</code> </dt> <dd>\n<p>Register a custom template filter, available application wide. Like <a class=\"reference internal\" href=\"#flask.Flask.template_filter\" title=\"flask.Flask.template_filter\"><code>Flask.template_filter()</code></a> but for a blueprint.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>name</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – the optional name of the filter, otherwise the function name will be used.</p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.app_template_global\">\n<code>app_template_global(name=None)</code> </dt> <dd>\n<p>Register a custom template global, available application wide. Like <a class=\"reference internal\" href=\"#flask.Flask.template_global\" title=\"flask.Flask.template_global\"><code>Flask.template_global()</code></a> but for a blueprint.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>name</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – the optional name of the global, otherwise the function name will be used.</p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.app_template_test\">\n<code>app_template_test(name=None)</code> </dt> <dd>\n<p>Register a custom template test, available application wide. Like <a class=\"reference internal\" href=\"#flask.Flask.template_test\" title=\"flask.Flask.template_test\"><code>Flask.template_test()</code></a> but for a blueprint.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>name</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – the optional name of the test, otherwise the function name will be used.</p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.app_url_defaults\">\n<code>app_url_defaults(f)</code> </dt> <dd>\n<p>Same as <a class=\"reference internal\" href=\"#flask.Blueprint.url_defaults\" title=\"flask.Blueprint.url_defaults\"><code>url_defaults()</code></a> but application wide.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a>], <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.app_url_value_preprocessor\">\n<code>app_url_value_preprocessor(f)</code> </dt> <dd>\n<p>Same as <a class=\"reference internal\" href=\"#flask.Blueprint.url_value_preprocessor\" title=\"flask.Blueprint.url_value_preprocessor\"><code>url_value_preprocessor()</code></a> but application wide.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em><em>, </em><em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a><em>]</em><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[Optional[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Optional[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a>]], <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.before_app_first_request\">\n<code>before_app_first_request(f)</code> </dt> <dd>\n<p>Like <a class=\"reference internal\" href=\"#flask.Flask.before_first_request\" title=\"flask.Flask.before_first_request\"><code>Flask.before_first_request()</code></a>. Such a function is executed before the first request to the application.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[], <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.before_app_request\">\n<code>before_app_request(f)</code> </dt> <dd>\n<p>Like <a class=\"reference internal\" href=\"#flask.Flask.before_request\" title=\"flask.Flask.before_request\"><code>Flask.before_request()</code></a>. Such a function is executed before each request, even if outside of a blueprint.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[], <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.before_request\">\n<code>before_request(f)</code> </dt> <dd>\n<p>Register a function to run before each request.</p> <p>For example, this can be used to open a database connection, or to load the logged in user from the session.</p> <pre data-language=\"python\">@app.before_request\ndef load_user():\n    if \"user_id\" in session:\n        g.user = db.session.get(session[\"user_id\"])\n</pre> <p>The function will be called without any arguments. If it returns a non-<code>None</code> value, the value is handled as if it was the return value from the view, and further request handling is stopped.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[], <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.before_request_funcs\">\n<code>before_request_funcs: t.Dict[AppOrBlueprintKey, t.List[BeforeRequestCallable]]</code> </dt> <dd>\n<p>A data structure of functions to call at the beginning of each request, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class=\"reference internal\" href=\"#flask.Blueprint.before_request\" title=\"flask.Blueprint.before_request\"><code>before_request()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.cli\">\n<code>cli</code> </dt> <dd>\n<p>The Click command group for registering CLI commands for this object. The commands are available from the <code>flask</code> command once the application has been discovered and blueprints have been registered.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.context_processor\">\n<code>context_processor(f)</code> </dt> <dd>\n<p>Registers a template context processor function.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><em>]</em><em>, </em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Any</em><em>]</em><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[], Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any]]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.delete\">\n<code>delete(rule, **options)</code> </dt> <dd>\n<p>Shortcut for <a class=\"reference internal\" href=\"#flask.Blueprint.route\" title=\"flask.Blueprint.route\"><code>route()</code></a> with <code>methods=[\"DELETE\"]</code>.</p> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 2.0.</span></p> </div> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>rule</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </li> <li>\n<strong>options</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.endpoint\">\n<code>endpoint(endpoint)</code> </dt> <dd>\n<p>Decorate a view function to register it for the given endpoint. Used if a rule is added without a <code>view_func</code> with <a class=\"reference internal\" href=\"#flask.Blueprint.add_url_rule\" title=\"flask.Blueprint.add_url_rule\"><code>add_url_rule()</code></a>.</p> <pre data-language=\"python\">app.add_url_rule(\"/ex\", endpoint=\"example\")\n\n@app.endpoint(\"example\")\ndef example():\n    ...\n</pre> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>endpoint</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – The endpoint name to associate with the view function.</p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.error_handler_spec\">\n<code>error_handler_spec: t.Dict[AppOrBlueprintKey, t.Dict[t.Optional[int], t.Dict[t.Type[Exception], ErrorHandlerCallable]]]</code> </dt> <dd>\n<p>A data structure of registered error handlers, in the format <code>{scope: {code: {class: handler}}}`</code>. The <code>scope</code> key is the name of a blueprint the handlers are active for, or <code>None</code> for all requests. The <code>code</code> key is the HTTP status code for <code>HTTPException</code>, or <code>None</code> for other exceptions. The innermost dictionary maps exception classes to handler functions.</p> <p>To register an error handler, use the <a class=\"reference internal\" href=\"#flask.Blueprint.errorhandler\" title=\"flask.Blueprint.errorhandler\"><code>errorhandler()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.errorhandler\">\n<code>errorhandler(code_or_exception)</code> </dt> <dd>\n<p>Register a function to handle errors by code or exception class.</p> <p>A decorator that is used to register a function given an error code. Example:</p> <pre data-language=\"python\">@app.errorhandler(404)\ndef page_not_found(error):\n    return 'This page does not exist', 404\n</pre> <p>You can also register handlers for arbitrary exceptions:</p> <pre data-language=\"python\">@app.errorhandler(DatabaseError)\ndef special_exception_handler(error):\n    return 'Database connection failed', 500\n</pre> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7: </span>Use <a class=\"reference internal\" href=\"#flask.Blueprint.register_error_handler\" title=\"flask.Blueprint.register_error_handler\"><code>register_error_handler()</code></a> instead of modifying <a class=\"reference internal\" href=\"#flask.Blueprint.error_handler_spec\" title=\"flask.Blueprint.error_handler_spec\"><code>error_handler_spec</code></a> directly, for application wide error handlers.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7: </span>One can now additionally also register custom exception types that do not necessarily have to be a subclass of the <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.HTTPException\" title=\"(in Werkzeug v2.0.x)\"><code>HTTPException</code></a> class.</p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>code_or_exception</strong> (<em>Union</em><em>[</em><em>Type</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#Exception\" title=\"(in Python v3.9)\">Exception</a><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a><em>]</em>) – the code as integer for the handler, or an arbitrary exception</p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.get\">\n<code>get(rule, **options)</code> </dt> <dd>\n<p>Shortcut for <a class=\"reference internal\" href=\"#flask.Blueprint.route\" title=\"flask.Blueprint.route\"><code>route()</code></a> with <code>methods=[\"GET\"]</code>.</p> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 2.0.</span></p> </div> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>rule</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </li> <li>\n<strong>options</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.get_send_file_max_age\">\n<code>get_send_file_max_age(filename)</code> </dt> <dd>\n<p>Used by <a class=\"reference internal\" href=\"#flask.send_file\" title=\"flask.send_file\"><code>send_file()</code></a> to determine the <code>max_age</code> cache value for a given file path if it wasn’t passed.</p> <p>By default, this returns <a class=\"reference internal\" href=\"../config/index#SEND_FILE_MAX_AGE_DEFAULT\" title=\"SEND_FILE_MAX_AGE_DEFAULT\"><code>SEND_FILE_MAX_AGE_DEFAULT</code></a> from the configuration of <a class=\"reference internal\" href=\"#flask.current_app\" title=\"flask.current_app\"><code>current_app</code></a>. This defaults to <code>None</code>, which tells the browser to use conditional requests instead of a timed cache, which is usually preferable.</p> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span>The default configuration is <code>None</code> instead of 12 hours.</p> </div> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>filename</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Optional[<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.has_static_folder\">\n<code>property has_static_folder: bool</code> </dt> <dd>\n<p><code>True</code> if <a class=\"reference internal\" href=\"#flask.Blueprint.static_folder\" title=\"flask.Blueprint.static_folder\"><code>static_folder</code></a> is set.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.5.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.import_name\">\n<code>import_name</code> </dt> <dd>\n<p>The name of the package or module that this object belongs to. Do not change this once it is set by the constructor.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.jinja_loader\">\n<code>property jinja_loader: Optional[jinja2.loaders.FileSystemLoader]</code> </dt> <dd>\n<p>The Jinja loader for this object’s templates. By default this is a class <a class=\"reference external\" href=\"https://jinja.palletsprojects.com/en/3.0.x/api/#jinja2.FileSystemLoader\" title=\"(in Jinja v3.0.x)\"><code>jinja2.loaders.FileSystemLoader</code></a> to <a class=\"reference internal\" href=\"#flask.Blueprint.template_folder\" title=\"flask.Blueprint.template_folder\"><code>template_folder</code></a> if it is set.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.5.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.json_decoder\">\n<code>json_decoder: Optional[Type[json.decoder.JSONDecoder]] = None</code> </dt> <dd>\n<p>Blueprint local JSON decoder class to use. Set to <code>None</code> to use the app’s <a class=\"reference internal\" href=\"#flask.Flask.json_decoder\" title=\"flask.Flask.json_decoder\"><code>json_decoder</code></a>.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.json_encoder\">\n<code>json_encoder: Optional[Type[json.encoder.JSONEncoder]] = None</code> </dt> <dd>\n<p>Blueprint local JSON encoder class to use. Set to <code>None</code> to use the app’s <a class=\"reference internal\" href=\"#flask.Flask.json_encoder\" title=\"flask.Flask.json_encoder\"><code>json_encoder</code></a>.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.make_setup_state\">\n<code>make_setup_state(app, options, first_registration=False)</code> </dt> <dd>\n<p>Creates an instance of <a class=\"reference internal\" href=\"#flask.blueprints.BlueprintSetupState\" title=\"flask.blueprints.BlueprintSetupState\"><code>BlueprintSetupState()</code></a> object that is later passed to the register callback functions. Subclasses can override this to return a subclass of the setup state.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>app</strong> (<a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a>) – </li> <li>\n<strong>options</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a>) – </li> <li>\n<strong>first_registration</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference internal\" href=\"#flask.blueprints.BlueprintSetupState\" title=\"flask.blueprints.BlueprintSetupState\">flask.blueprints.BlueprintSetupState</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.open_resource\">\n<code>open_resource(resource, mode='rb')</code> </dt> <dd>\n<p>Open a resource file relative to <a class=\"reference internal\" href=\"#flask.Blueprint.root_path\" title=\"flask.Blueprint.root_path\"><code>root_path</code></a> for reading.</p> <p>For example, if the file <code>schema.sql</code> is next to the file <code>app.py</code> where the <code>Flask</code> app is defined, it can be opened with:</p> <pre data-language=\"python\">with app.open_resource(\"schema.sql\") as f:\n    conn.executescript(f.read())\n</pre> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>resource</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – Path to the resource relative to <a class=\"reference internal\" href=\"#flask.Blueprint.root_path\" title=\"flask.Blueprint.root_path\"><code>root_path</code></a>.</li> <li>\n<strong>mode</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – Open the file in this mode. Only reading is supported, valid values are “r” (or “rt”) and “rb”.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>IO</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.patch\">\n<code>patch(rule, **options)</code> </dt> <dd>\n<p>Shortcut for <a class=\"reference internal\" href=\"#flask.Blueprint.route\" title=\"flask.Blueprint.route\"><code>route()</code></a> with <code>methods=[\"PATCH\"]</code>.</p> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 2.0.</span></p> </div> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>rule</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </li> <li>\n<strong>options</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.post\">\n<code>post(rule, **options)</code> </dt> <dd>\n<p>Shortcut for <a class=\"reference internal\" href=\"#flask.Blueprint.route\" title=\"flask.Blueprint.route\"><code>route()</code></a> with <code>methods=[\"POST\"]</code>.</p> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 2.0.</span></p> </div> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>rule</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </li> <li>\n<strong>options</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.put\">\n<code>put(rule, **options)</code> </dt> <dd>\n<p>Shortcut for <a class=\"reference internal\" href=\"#flask.Blueprint.route\" title=\"flask.Blueprint.route\"><code>route()</code></a> with <code>methods=[\"PUT\"]</code>.</p> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 2.0.</span></p> </div> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>rule</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </li> <li>\n<strong>options</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.record\">\n<code>record(func)</code> </dt> <dd>\n<p>Registers a function that is called when the blueprint is registered on the application. This function is called with the state as argument as returned by the <a class=\"reference internal\" href=\"#flask.Blueprint.make_setup_state\" title=\"flask.Blueprint.make_setup_state\"><code>make_setup_state()</code></a> method.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>func</strong> (<em>Callable</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.record_once\">\n<code>record_once(func)</code> </dt> <dd>\n<p>Works like <a class=\"reference internal\" href=\"#flask.Blueprint.record\" title=\"flask.Blueprint.record\"><code>record()</code></a> but wraps the function in another function that will ensure the function is only called once. If the blueprint is registered a second time on the application, the function passed is not called.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>func</strong> (<em>Callable</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.register\">\n<code>register(app, options)</code> </dt> <dd>\n<p>Called by <a class=\"reference internal\" href=\"#flask.Flask.register_blueprint\" title=\"flask.Flask.register_blueprint\"><code>Flask.register_blueprint()</code></a> to register all views and callbacks registered on the blueprint with the application. Creates a <a class=\"reference internal\" href=\"#flask.blueprints.BlueprintSetupState\" title=\"flask.blueprints.BlueprintSetupState\"><code>BlueprintSetupState</code></a> and calls each <a class=\"reference internal\" href=\"#flask.Blueprint.record\" title=\"flask.Blueprint.record\"><code>record()</code></a> callbackwith it.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>app</strong> (<a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a>) – The application this blueprint is being registered with.</li> <li>\n<strong>options</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a>) – Keyword arguments forwarded from <a class=\"reference internal\" href=\"#flask.Flask.register_blueprint\" title=\"flask.Flask.register_blueprint\"><code>register_blueprint()</code></a>.</li> <li>\n<strong>first_registration</strong> – Whether this is the first time this blueprint has been registered on the application.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.register_blueprint\">\n<code>register_blueprint(blueprint, **options)</code> </dt> <dd>\n<p>Register a <a class=\"reference internal\" href=\"#flask.Blueprint\" title=\"flask.Blueprint\"><code>Blueprint</code></a> on this blueprint. Keyword arguments passed to this method will override the defaults set on the blueprint.</p> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 2.0.</span></p> </div> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>blueprint</strong> (<a class=\"reference internal\" href=\"#flask.Blueprint\" title=\"flask.blueprints.Blueprint\">flask.blueprints.Blueprint</a>) – </li> <li>\n<strong>options</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.register_error_handler\">\n<code>register_error_handler(code_or_exception, f)</code> </dt> <dd>\n<p>Alternative error attach function to the <a class=\"reference internal\" href=\"#flask.Blueprint.errorhandler\" title=\"flask.Blueprint.errorhandler\"><code>errorhandler()</code></a> decorator that is more straightforward to use for non decorator usage.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>code_or_exception</strong> (<em>Union</em><em>[</em><em>Type</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#Exception\" title=\"(in Python v3.9)\">Exception</a><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a><em>]</em>) – </li> <li>\n<strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#Exception\" title=\"(in Python v3.9)\">Exception</a><em>]</em><em>, </em><em>Union</em><em>[</em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>, </em><em>AnyStr</em><em>, </em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Any</em><em>]</em><em>, </em><em>Generator</em><em>[</em><em>AnyStr</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em><em>, </em><em>Tuple</em><em>[</em><em>Union</em><em>[</em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>, </em><em>AnyStr</em><em>, </em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Any</em><em>]</em><em>, </em><em>Generator</em><em>[</em><em>AnyStr</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em><em>]</em><em>, </em><em>Union</em><em>[</em><em>Headers</em><em>, </em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Union</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>List</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em><em>, </em><em>Tuple</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>...</em><em>]</em><em>]</em><em>]</em><em>, </em><em>List</em><em>[</em><em>Tuple</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Union</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>List</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em><em>, </em><em>Tuple</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>...</em><em>]</em><em>]</em><em>]</em><em>]</em><em>]</em><em>]</em><em>, </em><em>Tuple</em><em>[</em><em>Union</em><em>[</em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>, </em><em>AnyStr</em><em>, </em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Any</em><em>]</em><em>, </em><em>Generator</em><em>[</em><em>AnyStr</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a><em>]</em><em>, </em><em>Tuple</em><em>[</em><em>Union</em><em>[</em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>, </em><em>AnyStr</em><em>, </em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Any</em><em>]</em><em>, </em><em>Generator</em><em>[</em><em>AnyStr</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a><em>, </em><em>Union</em><em>[</em><em>Headers</em><em>, </em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Union</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>List</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em><em>, </em><em>Tuple</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>...</em><em>]</em><em>]</em><em>]</em><em>, </em><em>List</em><em>[</em><em>Tuple</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Union</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>List</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em><em>, </em><em>Tuple</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>...</em><em>]</em><em>]</em><em>]</em><em>]</em><em>]</em><em>]</em><em>, </em><em>WSGIApplication</em><em>]</em><em>]</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.root_path\">\n<code>root_path</code> </dt> <dd>\n<p>Absolute path to the package on the filesystem. Used to look up resources contained in the package.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.route\">\n<code>route(rule, **options)</code> </dt> <dd>\n<p>Decorate a view function to register it with the given URL rule and options. Calls <a class=\"reference internal\" href=\"#flask.Blueprint.add_url_rule\" title=\"flask.Blueprint.add_url_rule\"><code>add_url_rule()</code></a>, which has more details about the implementation.</p> <pre data-language=\"python\">@app.route(\"/\")\ndef index():\n    return \"Hello, World!\"\n</pre> <p>See <a class=\"reference internal\" href=\"#url-route-registrations\"><span class=\"std std-ref\">URL Route Registrations</span></a>.</p> <p>The endpoint name for the route defaults to the name of the view function if the <code>endpoint</code> parameter isn’t passed.</p> <p>The <code>methods</code> parameter defaults to <code>[\"GET\"]</code>. <code>HEAD</code> and <code>OPTIONS</code> are added automatically.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>rule</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – The URL rule string.</li> <li>\n<strong>options</strong> (<em>Any</em>) – Extra options passed to the <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/routing/#werkzeug.routing.Rule\" title=\"(in Werkzeug v2.0.x)\"><code>Rule</code></a> object.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.send_static_file\">\n<code>send_static_file(filename)</code> </dt> <dd>\n<p>The view function used to serve files from <a class=\"reference internal\" href=\"#flask.Blueprint.static_folder\" title=\"flask.Blueprint.static_folder\"><code>static_folder</code></a>. A route is automatically registered for this view at <a class=\"reference internal\" href=\"#flask.Blueprint.static_url_path\" title=\"flask.Blueprint.static_url_path\"><code>static_url_path</code></a> if <a class=\"reference internal\" href=\"#flask.Blueprint.static_folder\" title=\"flask.Blueprint.static_folder\"><code>static_folder</code></a> is set.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.5.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>filename</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.static_folder\">\n<code>property static_folder: Optional[str]</code> </dt> <dd>\n<p>The absolute path to the configured static folder. <code>None</code> if no static folder is set.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.static_url_path\">\n<code>property static_url_path: Optional[str]</code> </dt> <dd>\n<p>The URL prefix that the static route will be accessible from.</p> <p>If it was not configured during init, it is derived from <a class=\"reference internal\" href=\"#flask.Blueprint.static_folder\" title=\"flask.Blueprint.static_folder\"><code>static_folder</code></a>.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.teardown_app_request\">\n<code>teardown_app_request(f)</code> </dt> <dd>\n<p>Like <a class=\"reference internal\" href=\"#flask.Flask.teardown_request\" title=\"flask.Flask.teardown_request\"><code>Flask.teardown_request()</code></a> but for a blueprint. Such a function is executed when tearing down each request, even if outside of the blueprint.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#BaseException\" title=\"(in Python v3.9)\">BaseException</a><em>]</em><em>]</em><em>, </em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[Optional[<a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#BaseException\" title=\"(in Python v3.9)\">BaseException</a>]], <a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.teardown_request\">\n<code>teardown_request(f)</code> </dt> <dd>\n<p>Register a function to be run at the end of each request, regardless of whether there was an exception or not. These functions are executed when the request context is popped, even if not an actual request was performed.</p> <p>Example:</p> <pre data-language=\"python\">ctx = app.test_request_context()\nctx.push()\n...\nctx.pop()\n</pre> <p>When <code>ctx.pop()</code> is executed in the above example, the teardown functions are called just before the request context moves from the stack of active contexts. This becomes relevant if you are using such constructs in tests.</p> <p>Teardown functions must avoid raising exceptions, since they . If they execute code that might fail they will have to surround the execution of these code by try/except statements and log occurring errors.</p> <p>When a teardown function was called because of an exception it will be passed an error object.</p> <p>The return values of teardown functions are ignored.</p> <div class=\"admonition-debug-note admonition\"> <p class=\"admonition-title\">Debug Note</p> <p>In debug mode Flask will not tear down a request on an exception immediately. Instead it will keep it alive so that the interactive debugger can still access it. This behavior can be controlled by the <code>PRESERVE_CONTEXT_ON_EXCEPTION</code> configuration variable.</p> </div> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#BaseException\" title=\"(in Python v3.9)\">BaseException</a><em>]</em><em>]</em><em>, </em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[Optional[<a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#BaseException\" title=\"(in Python v3.9)\">BaseException</a>]], <a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.teardown_request_funcs\">\n<code>teardown_request_funcs: t.Dict[AppOrBlueprintKey, t.List[TeardownCallable]]</code> </dt> <dd>\n<p>A data structure of functions to call at the end of each request even if an exception is raised, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class=\"reference internal\" href=\"#flask.Blueprint.teardown_request\" title=\"flask.Blueprint.teardown_request\"><code>teardown_request()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.template_context_processors\">\n<code>template_context_processors: t.Dict[AppOrBlueprintKey, t.List[TemplateContextProcessorCallable]]</code> </dt> <dd>\n<p>A data structure of functions to call to pass extra context values when rendering templates, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class=\"reference internal\" href=\"#flask.Blueprint.context_processor\" title=\"flask.Blueprint.context_processor\"><code>context_processor()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.template_folder\">\n<code>template_folder</code> </dt> <dd>\n<p>The path to the templates folder, relative to <a class=\"reference internal\" href=\"#flask.Blueprint.root_path\" title=\"flask.Blueprint.root_path\"><code>root_path</code></a>, to add to the template loader. <code>None</code> if templates should not be added.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.url_default_functions\">\n<code>url_default_functions: t.Dict[AppOrBlueprintKey, t.List[URLDefaultCallable]]</code> </dt> <dd>\n<p>A data structure of functions to call to modify the keyword arguments when generating URLs, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class=\"reference internal\" href=\"#flask.Blueprint.url_defaults\" title=\"flask.Blueprint.url_defaults\"><code>url_defaults()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.url_defaults\">\n<code>url_defaults(f)</code> </dt> <dd>\n<p>Callback function for URL defaults for all view functions of the application. It’s called with the endpoint and values and should update the values passed in place.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a>], <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.url_value_preprocessor\">\n<code>url_value_preprocessor(f)</code> </dt> <dd>\n<p>Register a URL value preprocessor function for all view functions in the application. These functions will be called before the <a class=\"reference internal\" href=\"#flask.Blueprint.before_request\" title=\"flask.Blueprint.before_request\"><code>before_request()</code></a> functions.</p> <p>The function can modify the values captured from the matched url before they are passed to the view. For example, this can be used to pop a common language code value and place it in <code>g</code> rather than pass it to every view.</p> <p>The function is passed the endpoint name and values dict. The return value is ignored.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em><em>, </em><em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a><em>]</em><em>]</em><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[Optional[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Optional[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a>]], <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.url_value_preprocessors\">\n<code>url_value_preprocessors: t.Dict[AppOrBlueprintKey, t.List[URLValuePreprocessorCallable]]</code> </dt> <dd>\n<p>A data structure of functions to call to modify the keyword arguments passed to the view function, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class=\"reference internal\" href=\"#flask.Blueprint.url_value_preprocessor\" title=\"flask.Blueprint.url_value_preprocessor\"><code>url_value_preprocessor()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Blueprint.view_functions\">\n<code>view_functions: t.Dict[str, t.Callable]</code> </dt> <dd>\n<p>A dictionary mapping endpoint names to view functions.</p> <p>To register a view function, use the <a class=\"reference internal\" href=\"#flask.Blueprint.route\" title=\"flask.Blueprint.route\"><code>route()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>\n</dl> </dd>\n</dl>   <h2 id=\"incoming-request-data\">Incoming Request Data</h2> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.Request\">\n<code>class flask.Request(environ, populate_request=True, shallow=False)</code> </dt> <dd>\n<p>The request object used by default in Flask. Remembers the matched endpoint and view arguments.</p> <p>It is what ends up as <a class=\"reference internal\" href=\"#flask.request\" title=\"flask.request\"><code>request</code></a>. If you want to replace the request object used you can subclass this and set <a class=\"reference internal\" href=\"#flask.Flask.request_class\" title=\"flask.Flask.request_class\"><code>request_class</code></a> to your subclass.</p> <p>The request object is a <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/wrappers/#werkzeug.wrappers.Request\" title=\"(in Werkzeug v2.0.x)\"><code>Request</code></a> subclass and provides all of the attributes Werkzeug defines plus a few Flask specific ones.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>environ</strong> (<em>WSGIEnvironment</em>) – </li> <li>\n<strong>populate_request</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – </li> <li>\n<strong>shallow</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.accept_charsets\">\n<code>property accept_charsets: werkzeug.datastructures.CharsetAccept</code> </dt> <dd>\n<p>List of charsets this client supports as <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.CharsetAccept\" title=\"(in Werkzeug v2.0.x)\"><code>CharsetAccept</code></a> object.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.accept_encodings\">\n<code>property accept_encodings: werkzeug.datastructures.Accept</code> </dt> <dd>\n<p>List of encodings this client accepts. Encodings in a HTTP term are compression encodings such as gzip. For charsets have a look at <code>accept_charset</code>.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.accept_languages\">\n<code>property accept_languages: werkzeug.datastructures.LanguageAccept</code> </dt> <dd>\n<p>List of languages this client accepts as <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.LanguageAccept\" title=\"(in Werkzeug v2.0.x)\"><code>LanguageAccept</code></a> object.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.accept_mimetypes\">\n<code>property accept_mimetypes: werkzeug.datastructures.MIMEAccept</code> </dt> <dd>\n<p>List of mimetypes this client supports as <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.MIMEAccept\" title=\"(in Werkzeug v2.0.x)\"><code>MIMEAccept</code></a> object.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.access_control_request_headers\">\n<code>access_control_request_headers</code> </dt> <dd>\n<p>Sent with a preflight request to indicate which headers will be sent with the cross origin request. Set <code>access_control_allow_headers</code> on the response to indicate which headers are allowed.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.access_control_request_method\">\n<code>access_control_request_method</code> </dt> <dd>\n<p>Sent with a preflight request to indicate which method will be used for the cross origin request. Set <code>access_control_allow_methods</code> on the response to indicate which methods are allowed.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.access_route\">\n<code>property access_route: List[str]</code> </dt> <dd>\n<p>If a forwarded header exists this is a list of all ip addresses from the client ip to the last proxy server.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Request.application\">\n<code>classmethod application(f)</code> </dt> <dd>\n<p>Decorate a function as responder that accepts the request as the last argument. This works like the <code>responder()</code> decorator but the function is passed the request object as the last argument and the request object will be closed automatically:</p> <pre data-language=\"python\">@Request.application\ndef my_wsgi_app(request):\n    return Response('Hello World!')\n</pre> <p>As of Werkzeug 0.14 HTTP exceptions are automatically caught and converted to responses instead of failing.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><a class=\"reference internal\" href=\"#flask.Request\" title=\"flask.Request\">Request</a><em>]</em><em>, </em><em>WSGIApplication</em><em>]</em>) – the WSGI callable to decorate</p> </dd> <dt class=\"field-even\">Returns</dt> <dd class=\"field-even\">\n<p>a new WSGI callable</p> </dd> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p>WSGIApplication</p> </dd> </dl> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.args\">\n<code>property args: MultiDict[str, str]</code> </dt> <dd>\n<p>The parsed URL parameters (the part in the URL after the question mark).</p> <p>By default an <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.ImmutableMultiDict\" title=\"(in Werkzeug v2.0.x)\"><code>ImmutableMultiDict</code></a> is returned from this function. This can be changed by setting <a class=\"reference internal\" href=\"#flask.Request.parameter_storage_class\" title=\"flask.Request.parameter_storage_class\"><code>parameter_storage_class</code></a> to a different type. This might be necessary if the order of the form data is important.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.authorization\">\n<code>property authorization: Optional[werkzeug.datastructures.Authorization]</code> </dt> <dd>\n<p>The <code>Authorization</code> object in parsed form.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.base_url\">\n<code>property base_url: str</code> </dt> <dd>\n<p>Like <a class=\"reference internal\" href=\"#flask.Request.url\" title=\"flask.Request.url\"><code>url</code></a> but without the query string.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.blueprint\">\n<code>property blueprint: Optional[str]</code> </dt> <dd>\n<p>The name of the current blueprint</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.cache_control\">\n<code>property cache_control: werkzeug.datastructures.RequestCacheControl</code> </dt> <dd>\n<p>A <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.RequestCacheControl\" title=\"(in Werkzeug v2.0.x)\"><code>RequestCacheControl</code></a> object for the incoming cache control headers.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Request.close\">\n<code>close()</code> </dt> <dd>\n<p>Closes associated resources of this request object. This closes all file handles explicitly. You can also use the request object in a with statement which will automatically close it.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.content_encoding\">\n<code>content_encoding</code> </dt> <dd>\n<p>The Content-Encoding entity-header field is used as a modifier to the media-type. When present, its value indicates what additional content codings have been applied to the entity-body, and thus what decoding mechanisms must be applied in order to obtain the media-type referenced by the Content-Type header field.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.content_length\">\n<code>property content_length: Optional[int]</code> </dt> <dd>\n<p>The Content-Length entity-header field indicates the size of the entity-body in bytes or, in the case of the HEAD method, the size of the entity-body that would have been sent had the request been a GET.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.content_md5\">\n<code>content_md5</code> </dt> <dd>\n<p>The Content-MD5 entity-header field, as defined in RFC 1864, is an MD5 digest of the entity-body for the purpose of providing an end-to-end message integrity check (MIC) of the entity-body. (Note: a MIC is good for detecting accidental modification of the entity-body in transit, but is not proof against malicious attacks.)</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.content_type\">\n<code>content_type</code> </dt> <dd>\n<p>The Content-Type entity-header field indicates the media type of the entity-body sent to the recipient or, in the case of the HEAD method, the media type that would have been sent had the request been a GET.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.cookies\">\n<code>property cookies: ImmutableMultiDict[str, str]</code> </dt> <dd>\n<p>A <a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\"><code>dict</code></a> with the contents of all cookies transmitted with the request.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.data\">\n<code>property data: bytes</code> </dt> <dd>\n<p>Contains the incoming request data as string in case it came with a mimetype Werkzeug does not handle.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.date\">\n<code>date</code> </dt> <dd>\n<p>The Date general-header field represents the date and time at which the message was originated, having the same semantics as orig-date in RFC 822.</p> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span>The datetime object is timezone-aware.</p> </div> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.dict_storage_class\">\n<code>dict_storage_class</code> </dt> <dd>\n<p>alias of <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.ImmutableMultiDict\" title=\"(in Werkzeug v2.0.x)\"><code>werkzeug.datastructures.ImmutableMultiDict</code></a></p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.endpoint\">\n<code>property endpoint: Optional[str]</code> </dt> <dd>\n<p>The endpoint that matched the request. This in combination with <a class=\"reference internal\" href=\"#flask.Request.view_args\" title=\"flask.Request.view_args\"><code>view_args</code></a> can be used to reconstruct the same or a modified URL. If an exception happened when matching, this will be <code>None</code>.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.environ\">\n<code>environ: WSGIEnvironment</code> </dt> <dd>\n<p>The WSGI environment containing HTTP headers and information from the WSGI server.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.files\">\n<code>property files: ImmutableMultiDict[str, FileStorage]</code> </dt> <dd>\n<p><a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.MultiDict\" title=\"(in Werkzeug v2.0.x)\"><code>MultiDict</code></a> object containing all uploaded files. Each key in <a class=\"reference internal\" href=\"#flask.Request.files\" title=\"flask.Request.files\"><code>files</code></a> is the name from the <code>&lt;input type=\"file\" name=\"\"&gt;</code>. Each value in <a class=\"reference internal\" href=\"#flask.Request.files\" title=\"flask.Request.files\"><code>files</code></a> is a Werkzeug <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.FileStorage\" title=\"(in Werkzeug v2.0.x)\"><code>FileStorage</code></a> object.</p> <p>It basically behaves like a standard file object you know from Python, with the difference that it also has a <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.FileStorage.save\" title=\"(in Werkzeug v2.0.x)\"><code>save()</code></a> function that can store the file on the filesystem.</p> <p>Note that <a class=\"reference internal\" href=\"#flask.Request.files\" title=\"flask.Request.files\"><code>files</code></a> will only contain data if the request method was POST, PUT or PATCH and the <code>&lt;form&gt;</code> that posted to the request had <code>enctype=\"multipart/form-data\"</code>. It will be empty otherwise.</p> <p>See the <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.MultiDict\" title=\"(in Werkzeug v2.0.x)\"><code>MultiDict</code></a> / <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.FileStorage\" title=\"(in Werkzeug v2.0.x)\"><code>FileStorage</code></a> documentation for more details about the used data structure.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.form\">\n<code>property form: ImmutableMultiDict[str, str]</code> </dt> <dd>\n<p>The form parameters. By default an <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.ImmutableMultiDict\" title=\"(in Werkzeug v2.0.x)\"><code>ImmutableMultiDict</code></a> is returned from this function. This can be changed by setting <a class=\"reference internal\" href=\"#flask.Request.parameter_storage_class\" title=\"flask.Request.parameter_storage_class\"><code>parameter_storage_class</code></a> to a different type. This might be necessary if the order of the form data is important.</p> <p>Please keep in mind that file uploads will not end up here, but instead in the <a class=\"reference internal\" href=\"#flask.Request.files\" title=\"flask.Request.files\"><code>files</code></a> attribute.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.9: </span>Previous to Werkzeug 0.9 this would only contain form data for POST and PUT requests.</p> </div> </details>\n</dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.form_data_parser_class\">\n<code>form_data_parser_class</code> </dt> <dd>\n<p>alias of <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/http/#werkzeug.formparser.FormDataParser\" title=\"(in Werkzeug v2.0.x)\"><code>werkzeug.formparser.FormDataParser</code></a></p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Request.from_values\">\n<code>classmethod from_values(*args, **kwargs)</code> </dt> <dd>\n<p>Create a new request object based on the values provided. If environ is given missing values are filled from there. This method is useful for small scripts when you need to simulate a request from an URL. Do not use this method for unittesting, there is a full featured client object (<code>Client</code>) that allows to create multipart requests, support for cookies etc.</p> <p>This accepts the same options as the <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/test/#werkzeug.test.EnvironBuilder\" title=\"(in Werkzeug v2.0.x)\"><code>EnvironBuilder</code></a>.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.5: </span>This method now accepts the same arguments as <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/test/#werkzeug.test.EnvironBuilder\" title=\"(in Werkzeug v2.0.x)\"><code>EnvironBuilder</code></a>. Because of this the <code>environ</code> parameter is now called <code>environ_overrides</code>.</p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Returns</dt> <dd class=\"field-odd\">\n<p>request object</p> </dd> <dt class=\"field-even\">Parameters</dt> <dd class=\"field-even\">\n<ul class=\"simple\"> <li>\n<strong>args</strong> (<em>Any</em>) – </li> <li>\n<strong>kwargs</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/wrappers/#werkzeug.wrappers.Request\" title=\"(in Werkzeug v2.0.x)\">werkzeug.wrappers.request.Request</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.full_path\">\n<code>property full_path: str</code> </dt> <dd>\n<p>Requested path, including the query string.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Request.get_data\">\n<code>get_data(cache=True, as_text=False, parse_form_data=False)</code> </dt> <dd>\n<p>This reads the buffered incoming data from the client into one bytes object. By default this is cached but that behavior can be changed by setting <code>cache</code> to <code>False</code>.</p> <p>Usually it’s a bad idea to call this method without checking the content length first as a client could send dozens of megabytes or more to cause memory problems on the server.</p> <p>Note that if the form data was already parsed this method will not return anything as form data parsing does not cache the data like this method does. To implicitly invoke form data parsing function set <code>parse_form_data</code> to <code>True</code>. When this is done the return value of this method will be an empty string if the form parser handles the data. This generally is not necessary as if the whole data is cached (which is the default) the form parser will used the cached data to parse the form data. Please be generally aware of checking the content length first in any case before calling this method to avoid exhausting server memory.</p> <p>If <code>as_text</code> is set to <code>True</code> the return value will be a decoded string.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>cache</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – </li> <li>\n<strong>as_text</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – </li> <li>\n<strong>parse_form_data</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#bytes\" title=\"(in Python v3.9)\">bytes</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Request.get_json\">\n<code>get_json(force=False, silent=False, cache=True)</code> </dt> <dd>\n<p>Parse <a class=\"reference internal\" href=\"#flask.Request.data\" title=\"flask.Request.data\"><code>data</code></a> as JSON.</p> <p>If the mimetype does not indicate JSON (<em class=\"mimetype\">application/json</em>, see <a class=\"reference internal\" href=\"#flask.Request.is_json\" title=\"flask.Request.is_json\"><code>is_json()</code></a>), this returns <code>None</code>.</p> <p>If parsing fails, <a class=\"reference internal\" href=\"#flask.Request.on_json_loading_failed\" title=\"flask.Request.on_json_loading_failed\"><code>on_json_loading_failed()</code></a> is called and its return value is used as the return value.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>force</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – Ignore the mimetype and always try to parse JSON.</li> <li>\n<strong>silent</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – Silence parsing errors and return <code>None</code> instead.</li> <li>\n<strong>cache</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – Store the parsed JSON to return for subsequent calls.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Optional[Any]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.headers\">\n<code>headers</code> </dt> <dd>\n<p>The headers received with the request.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.host\">\n<code>property host: str</code> </dt> <dd>\n<p>The host name the request was made to, including the port if it’s non-standard. Validated with <code>trusted_hosts</code>.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.host_url\">\n<code>property host_url: str</code> </dt> <dd>\n<p>The request URL scheme and host only.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.if_match\">\n<code>property if_match: werkzeug.datastructures.ETags</code> </dt> <dd>\n<p>An object containing all the etags in the <code>If-Match</code> header.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.ETags\" title=\"(in Werkzeug v2.0.x)\"><code>ETags</code></a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.if_modified_since\">\n<code>property if_modified_since: Optional[datetime.datetime]</code> </dt> <dd>\n<p>The parsed <code>If-Modified-Since</code> header as a datetime object.</p> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span>The datetime object is timezone-aware.</p> </div> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.if_none_match\">\n<code>property if_none_match: werkzeug.datastructures.ETags</code> </dt> <dd>\n<p>An object containing all the etags in the <code>If-None-Match</code> header.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.ETags\" title=\"(in Werkzeug v2.0.x)\"><code>ETags</code></a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.if_range\">\n<code>property if_range: werkzeug.datastructures.IfRange</code> </dt> <dd>\n<p>The parsed <code>If-Range</code> header.</p> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span><code>IfRange.date</code> is timezone-aware.</p> </div> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.if_unmodified_since\">\n<code>property if_unmodified_since: Optional[datetime.datetime]</code> </dt> <dd>\n<p>The parsed <code>If-Unmodified-Since</code> header as a datetime object.</p> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span>The datetime object is timezone-aware.</p> </div> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.input_stream\">\n<code>input_stream</code> </dt> <dd>\n<p>The WSGI input stream.</p> <p>In general it’s a bad idea to use this one because you can easily read past the boundary. Use the <a class=\"reference internal\" href=\"#flask.Request.stream\" title=\"flask.Request.stream\"><code>stream</code></a> instead.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.is_json\">\n<code>property is_json: bool</code> </dt> <dd>\n<p>Check if the mimetype indicates JSON data, either <em class=\"mimetype\">application/json</em> or <em class=\"mimetype\">application/*+json</em>.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.is_multiprocess\">\n<code>is_multiprocess</code> </dt> <dd>\n<p>boolean that is <code>True</code> if the application is served by a WSGI server that spawns multiple processes.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.is_multithread\">\n<code>is_multithread</code> </dt> <dd>\n<p>boolean that is <code>True</code> if the application is served by a multithreaded WSGI server.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.is_run_once\">\n<code>is_run_once</code> </dt> <dd>\n<p>boolean that is <code>True</code> if the application will be executed only once in a process lifetime. This is the case for CGI for example, but it’s not guaranteed that the execution only happens one time.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.is_secure\">\n<code>property is_secure: bool</code> </dt> <dd>\n<p><code>True</code> if the request was made with a secure protocol (HTTPS or WSS).</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.json\">\n<code>property json: Optional[Any]</code> </dt> <dd>\n<p>The parsed JSON data if <a class=\"reference internal\" href=\"#flask.Request.mimetype\" title=\"flask.Request.mimetype\"><code>mimetype</code></a> indicates JSON (<em class=\"mimetype\">application/json</em>, see <a class=\"reference internal\" href=\"#flask.Request.is_json\" title=\"flask.Request.is_json\"><code>is_json()</code></a>).</p> <p>Calls <a class=\"reference internal\" href=\"#flask.Request.get_json\" title=\"flask.Request.get_json\"><code>get_json()</code></a> with default arguments.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.list_storage_class\">\n<code>list_storage_class</code> </dt> <dd>\n<p>alias of <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.ImmutableList\" title=\"(in Werkzeug v2.0.x)\"><code>werkzeug.datastructures.ImmutableList</code></a></p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Request.make_form_data_parser\">\n<code>make_form_data_parser()</code> </dt> <dd>\n<p>Creates the form data parser. Instantiates the <a class=\"reference internal\" href=\"#flask.Request.form_data_parser_class\" title=\"flask.Request.form_data_parser_class\"><code>form_data_parser_class</code></a> with some parameters.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.8.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/http/#werkzeug.formparser.FormDataParser\" title=\"(in Werkzeug v2.0.x)\">werkzeug.formparser.FormDataParser</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.max_content_length\">\n<code>property max_content_length: Optional[int]</code> </dt> <dd>\n<p>Read-only view of the <code>MAX_CONTENT_LENGTH</code> config key.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.max_forwards\">\n<code>max_forwards</code> </dt> <dd>\n<p>The Max-Forwards request-header field provides a mechanism with the TRACE and OPTIONS methods to limit the number of proxies or gateways that can forward the request to the next inbound server.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.method\">\n<code>method</code> </dt> <dd>\n<p>The method the request was made with, such as <code>GET</code>.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.mimetype\">\n<code>property mimetype: str</code> </dt> <dd>\n<p>Like <a class=\"reference internal\" href=\"#flask.Request.content_type\" title=\"flask.Request.content_type\"><code>content_type</code></a>, but without parameters (eg, without charset, type etc.) and always lowercase. For example if the content type is <code>text/HTML; charset=utf-8</code> the mimetype would be <code>'text/html'</code>.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.mimetype_params\">\n<code>property mimetype_params: Dict[str, str]</code> </dt> <dd>\n<p>The mimetype parameters as dict. For example if the content type is <code>text/html; charset=utf-8</code> the params would be <code>{'charset': 'utf-8'}</code>.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Request.on_json_loading_failed\">\n<code>on_json_loading_failed(e)</code> </dt> <dd>\n<p>Called if <a class=\"reference internal\" href=\"#flask.Request.get_json\" title=\"flask.Request.get_json\"><code>get_json()</code></a> parsing fails and isn’t silenced. If this method returns a value, it is used as the return value for <a class=\"reference internal\" href=\"#flask.Request.get_json\" title=\"flask.Request.get_json\"><code>get_json()</code></a>. The default implementation raises <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.BadRequest\" title=\"(in Werkzeug v2.0.x)\"><code>BadRequest</code></a>.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>e</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#Exception\" title=\"(in Python v3.9)\">Exception</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>NoReturn</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.origin\">\n<code>origin</code> </dt> <dd>\n<p>The host that the request originated from. Set <code>access_control_allow_origin</code> on the response to indicate which origins are allowed.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.parameter_storage_class\">\n<code>parameter_storage_class</code> </dt> <dd>\n<p>alias of <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.ImmutableMultiDict\" title=\"(in Werkzeug v2.0.x)\"><code>werkzeug.datastructures.ImmutableMultiDict</code></a></p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.path\">\n<code>path</code> </dt> <dd>\n<p>The path part of the URL after <a class=\"reference internal\" href=\"#flask.Request.root_path\" title=\"flask.Request.root_path\"><code>root_path</code></a>. This is the path used for routing within the application.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.pragma\">\n<code>property pragma: werkzeug.datastructures.HeaderSet</code> </dt> <dd>\n<p>The Pragma general-header field is used to include implementation-specific directives that might apply to any recipient along the request/response chain. All pragma directives specify optional behavior from the viewpoint of the protocol; however, some systems MAY require that behavior be consistent with the directives.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.query_string\">\n<code>query_string</code> </dt> <dd>\n<p>The part of the URL after the “?”. This is the raw value, use <a class=\"reference internal\" href=\"#flask.Request.args\" title=\"flask.Request.args\"><code>args</code></a> for the parsed values.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.range\">\n<code>property range: Optional[werkzeug.datastructures.Range]</code> </dt> <dd>\n<p>The parsed <code>Range</code> header.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.Range\" title=\"(in Werkzeug v2.0.x)\"><code>Range</code></a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.referrer\">\n<code>referrer</code> </dt> <dd>\n<p>The Referer[sic] request-header field allows the client to specify, for the server’s benefit, the address (URI) of the resource from which the Request-URI was obtained (the “referrer”, although the header field is misspelled).</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.remote_addr\">\n<code>remote_addr</code> </dt> <dd>\n<p>The address of the client sending the request.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.remote_user\">\n<code>remote_user</code> </dt> <dd>\n<p>If the server supports user authentication, and the script is protected, this attribute contains the username the user has authenticated as.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.root_path\">\n<code>root_path</code> </dt> <dd>\n<p>The prefix that the application is mounted under, without a trailing slash. <a class=\"reference internal\" href=\"#flask.Request.path\" title=\"flask.Request.path\"><code>path</code></a> comes after this.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.root_url\">\n<code>property root_url: str</code> </dt> <dd>\n<p>The request URL scheme, host, and root path. This is the root that the application is accessed from.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.routing_exception\">\n<code>routing_exception: Optional[Exception] = None</code> </dt> <dd>\n<p>If matching the URL failed, this is the exception that will be raised / was raised as part of the request handling. This is usually a <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.NotFound\" title=\"(in Werkzeug v2.0.x)\"><code>NotFound</code></a> exception or something similar.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.scheme\">\n<code>scheme</code> </dt> <dd>\n<p>The URL scheme of the protocol the request used, such as <code>https</code> or <code>wss</code>.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.script_root\">\n<code>property script_root: str</code> </dt> <dd>\n<p>Alias for <code>self.root_path</code>. <code>environ[\"SCRIPT_ROOT\"]</code> without a trailing slash.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.server\">\n<code>server</code> </dt> <dd>\n<p>The address of the server. <code>(host, port)</code>, <code>(path, None)</code> for unix sockets, or <code>None</code> if not known.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.shallow\">\n<code>shallow: bool</code> </dt> <dd>\n<p>Set when creating the request object. If <code>True</code>, reading from the request body will cause a <code>RuntimeException</code>. Useful to prevent modifying the stream from middleware.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.stream\">\n<code>property stream: BinaryIO</code> </dt> <dd>\n<p>If the incoming form data was not encoded with a known mimetype the data is stored unmodified in this stream for consumption. Most of the time it is a better idea to use <a class=\"reference internal\" href=\"#flask.Request.data\" title=\"flask.Request.data\"><code>data</code></a> which will give you that data as a string. The stream only returns the data once.</p> <p>Unlike <a class=\"reference internal\" href=\"#flask.Request.input_stream\" title=\"flask.Request.input_stream\"><code>input_stream</code></a> this stream is properly guarded that you can’t accidentally read past the length of the input. Werkzeug will internally always refer to this stream to read data which makes it possible to wrap this object with a stream that does filtering.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.9: </span>This stream is now always available but might be consumed by the form parser later on. Previously the stream was only set if no parsing happened.</p> </div> </details>\n</dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.url\">\n<code>property url: str</code> </dt> <dd>\n<p>The full request URL with the scheme, host, root path, path, and query string.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.url_charset\">\n<code>property url_charset: str</code> </dt> <dd>\n<p>The charset that is assumed for URLs. Defaults to the value of <code>charset</code>.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.6.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.url_root\">\n<code>property url_root: str</code> </dt> <dd>\n<p>Alias for <a class=\"reference internal\" href=\"#flask.Request.root_url\" title=\"flask.Request.root_url\"><code>root_url</code></a>. The URL with scheme, host, and root path. For example, <code>https://example.com/app/</code>.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.url_rule\">\n<code>url_rule: Optional[Rule] = None</code> </dt> <dd>\n<p>The internal URL rule that matched the request. This can be useful to inspect which methods are allowed for the URL from a before/after handler (<code>request.url_rule.methods</code>) etc. Though if the request’s method was invalid for the URL rule, the valid list is available in <code>routing_exception.valid_methods</code> instead (an attribute of the Werkzeug exception <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.MethodNotAllowed\" title=\"(in Werkzeug v2.0.x)\"><code>MethodNotAllowed</code></a>) because the request was never internally bound.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.6.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.user_agent\">\n<code>property user_agent: werkzeug.user_agent.UserAgent</code> </dt> <dd>\n<p>The user agent. Use <code>user_agent.string</code> to get the header value. Set <a class=\"reference internal\" href=\"#flask.Request.user_agent_class\" title=\"flask.Request.user_agent_class\"><code>user_agent_class</code></a> to a subclass of <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/utils/#werkzeug.user_agent.UserAgent\" title=\"(in Werkzeug v2.0.x)\"><code>UserAgent</code></a> to provide parsing for the other properties or other extended data.</p> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span>The built in parser is deprecated and will be removed in Werkzeug 2.1. A <code>UserAgent</code> subclass must be set to parse data from the string.</p> </div> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.user_agent_class\">\n<code>user_agent_class</code> </dt> <dd>\n<p>alias of <code>werkzeug.useragents._UserAgent</code></p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.values\">\n<code>property values: CombinedMultiDict[str, str]</code> </dt> <dd>\n<p>A <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.CombinedMultiDict\" title=\"(in Werkzeug v2.0.x)\"><code>werkzeug.datastructures.CombinedMultiDict</code></a> that combines <a class=\"reference internal\" href=\"#flask.Request.args\" title=\"flask.Request.args\"><code>args</code></a> and <a class=\"reference internal\" href=\"#flask.Request.form\" title=\"flask.Request.form\"><code>form</code></a>.</p> <p>For GET requests, only <code>args</code> are present, not <code>form</code>.</p> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span>For GET requests, only <code>args</code> are present, not <code>form</code>.</p> </div> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Request.view_args\">\n<code>view_args: Optional[Dict[str, Any]] = None</code> </dt> <dd>\n<p>A dict of view arguments that matched the request. If an exception happened when matching, this will be <code>None</code>.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Request.want_form_data_parsed\">\n<code>property want_form_data_parsed: bool</code> </dt> <dd>\n<p><code>True</code> if the request method carries content. By default this is true if a <code>Content-Type</code> is sent.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.8.</span></p> </div> </details>\n</dd>\n</dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.request\">\n<code>flask.request</code> </dt> <dd>\n<p>To access incoming request data, you can use the global <code>request</code> object. Flask parses incoming request data for you and gives you access to it through that global object. Internally Flask makes sure that you always get the correct data for the active thread if you are in a multithreaded environment.</p> <p>This is a proxy. See <a class=\"reference internal\" href=\"../reqcontext/index#notes-on-proxies\"><span class=\"std std-ref\">Notes On Proxies</span></a> for more information.</p> <p>The request object is an instance of a <a class=\"reference internal\" href=\"#flask.Request\" title=\"flask.Request\"><code>Request</code></a>.</p> </dd>\n</dl>   <h2 id=\"response-objects\">Response Objects</h2> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.Response\">\n<code>class flask.Response(response=None, status=None, headers=None, mimetype=None, content_type=None, direct_passthrough=False)</code> </dt> <dd>\n<p>The response object that is used by default in Flask. Works like the response object from Werkzeug but is set to have an HTML mimetype by default. Quite often you don’t have to create this object yourself because <a class=\"reference internal\" href=\"#flask.Flask.make_response\" title=\"flask.Flask.make_response\"><code>make_response()</code></a> will take care of that for you.</p> <p>If you want to replace the response object used you can subclass this and set <a class=\"reference internal\" href=\"#flask.Flask.response_class\" title=\"flask.Flask.response_class\"><code>response_class</code></a> to your subclass.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.0: </span>JSON support is added to the response, like the request. This is useful when testing to get the test client response data as JSON.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.0: </span>Added <a class=\"reference internal\" href=\"#flask.Response.max_cookie_size\" title=\"flask.Response.max_cookie_size\"><code>max_cookie_size</code></a>.</p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>response</strong> (<em>Union</em><em>[</em><em>Iterable</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em><em>, </em><em>Iterable</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#bytes\" title=\"(in Python v3.9)\">bytes</a><em>]</em><em>]</em>) – </li> <li>\n<strong>status</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/http.html#http.HTTPStatus\" title=\"(in Python v3.9)\">http.HTTPStatus</a><em>]</em><em>]</em>) – </li> <li>\n<strong>headers</strong> (<a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.Headers\" title=\"(in Werkzeug v2.0.x)\">werkzeug.datastructures.Headers</a>) – </li> <li>\n<strong>mimetype</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – </li> <li>\n<strong>content_type</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – </li> <li>\n<strong>direct_passthrough</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Response.accept_ranges\">\n<code>accept_ranges</code> </dt> <dd>\n<p>The <code>Accept-Ranges</code> header. Even though the name would indicate that multiple values are supported, it must be one string token only.</p> <p>The values <code>'bytes'</code> and <code>'none'</code> are common.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Response.access_control_allow_credentials\">\n<code>property access_control_allow_credentials: bool</code> </dt> <dd>\n<p>Whether credentials can be shared by the browser to JavaScript code. As part of the preflight request it indicates whether credentials can be used on the cross origin request.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Response.access_control_allow_headers\">\n<code>access_control_allow_headers</code> </dt> <dd>\n<p>Which headers can be sent with the cross origin request.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Response.access_control_allow_methods\">\n<code>access_control_allow_methods</code> </dt> <dd>\n<p>Which methods can be used for the cross origin request.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Response.access_control_allow_origin\">\n<code>access_control_allow_origin</code> </dt> <dd>\n<p>The origin or ‘*’ for any origin that may make cross origin requests.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Response.access_control_expose_headers\">\n<code>access_control_expose_headers</code> </dt> <dd>\n<p>Which headers can be shared by the browser to JavaScript code.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Response.access_control_max_age\">\n<code>access_control_max_age</code> </dt> <dd>\n<p>The maximum age in seconds the access control settings can be cached for.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Response.add_etag\">\n<code>add_etag(overwrite=False, weak=False)</code> </dt> <dd>\n<p>Add an etag for the current response if there is none yet.</p> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span>SHA-1 is used to generate the value. MD5 may not be available in some environments.</p> </div> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>overwrite</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – </li> <li>\n<strong>weak</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Response.age\">\n<code>age</code> </dt> <dd>\n<p>The Age response-header field conveys the sender’s estimate of the amount of time since the response (or its revalidation) was generated at the origin server.</p> <p>Age values are non-negative decimal integers, representing time in seconds.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Response.allow\">\n<code>property allow: werkzeug.datastructures.HeaderSet</code> </dt> <dd>\n<p>The Allow entity-header field lists the set of methods supported by the resource identified by the Request-URI. The purpose of this field is strictly to inform the recipient of valid methods associated with the resource. An Allow header field MUST be present in a 405 (Method Not Allowed) response.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Response.cache_control\">\n<code>property cache_control: werkzeug.datastructures.ResponseCacheControl</code> </dt> <dd>\n<p>The Cache-Control general-header field is used to specify directives that MUST be obeyed by all caching mechanisms along the request/response chain.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Response.calculate_content_length\">\n<code>calculate_content_length()</code> </dt> <dd>\n<p>Returns the content length if available or <code>None</code> otherwise.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p>Optional[<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Response.call_on_close\">\n<code>call_on_close(func)</code> </dt> <dd>\n<p>Adds a function to the internal list of functions that should be called as part of closing down the response. Since 0.7 this function also returns the function that was passed so that this can be used as a decorator.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.6.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>func</strong> (<em>Callable</em><em>[</em><em>[</em><em>]</em><em>, </em><em>Any</em><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[], Any]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Response.close\">\n<code>close()</code> </dt> <dd>\n<p>Close the wrapped response if possible. You can also use the object in a with statement which will automatically close it.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9: </span>Can now be used in a with statement.</p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Response.content_encoding\">\n<code>content_encoding</code> </dt> <dd>\n<p>The Content-Encoding entity-header field is used as a modifier to the media-type. When present, its value indicates what additional content codings have been applied to the entity-body, and thus what decoding mechanisms must be applied in order to obtain the media-type referenced by the Content-Type header field.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Response.content_language\">\n<code>property content_language: werkzeug.datastructures.HeaderSet</code> </dt> <dd>\n<p>The Content-Language entity-header field describes the natural language(s) of the intended audience for the enclosed entity. Note that this might not be equivalent to all the languages used within the entity-body.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Response.content_length\">\n<code>content_length</code> </dt> <dd>\n<p>The Content-Length entity-header field indicates the size of the entity-body, in decimal number of OCTETs, sent to the recipient or, in the case of the HEAD method, the size of the entity-body that would have been sent had the request been a GET.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Response.content_location\">\n<code>content_location</code> </dt> <dd>\n<p>The Content-Location entity-header field MAY be used to supply the resource location for the entity enclosed in the message when that entity is accessible from a location separate from the requested resource’s URI.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Response.content_md5\">\n<code>content_md5</code> </dt> <dd>\n<p>The Content-MD5 entity-header field, as defined in RFC 1864, is an MD5 digest of the entity-body for the purpose of providing an end-to-end message integrity check (MIC) of the entity-body. (Note: a MIC is good for detecting accidental modification of the entity-body in transit, but is not proof against malicious attacks.)</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Response.content_range\">\n<code>property content_range: werkzeug.datastructures.ContentRange</code> </dt> <dd>\n<p>The <code>Content-Range</code> header as a <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.ContentRange\" title=\"(in Werkzeug v2.0.x)\"><code>ContentRange</code></a> object. Available even if the header is not set.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Response.content_security_policy\">\n<code>content_security_policy</code> </dt> <dd>\n<p>The Content-Security-Policy header adds an additional layer of security to help detect and mitigate certain types of attacks.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Response.content_security_policy_report_only\">\n<code>content_security_policy_report_only</code> </dt> <dd>\n<p>The Content-Security-Policy-Report-Only header adds a csp policy that is not enforced but is reported thereby helping detect certain types of attacks.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Response.content_type\">\n<code>content_type</code> </dt> <dd>\n<p>The Content-Type entity-header field indicates the media type of the entity-body sent to the recipient or, in the case of the HEAD method, the media type that would have been sent had the request been a GET.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Response.cross_origin_embedder_policy\">\n<code>cross_origin_embedder_policy</code> </dt> <dd>\n<p>Prevents a document from loading any cross-origin resources that do not explicitly grant the document permission. Values must be a member of the <code>werkzeug.http.COEP</code> enum.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Response.cross_origin_opener_policy\">\n<code>cross_origin_opener_policy</code> </dt> <dd>\n<p>Allows control over sharing of browsing context group with cross-origin documents. Values must be a member of the <code>werkzeug.http.COOP</code> enum.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Response.data\">\n<code>property data: Union[bytes, str]</code> </dt> <dd>\n<p>A descriptor that calls <a class=\"reference internal\" href=\"#flask.Response.get_data\" title=\"flask.Response.get_data\"><code>get_data()</code></a> and <a class=\"reference internal\" href=\"#flask.Response.set_data\" title=\"flask.Response.set_data\"><code>set_data()</code></a>.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Response.date\">\n<code>date</code> </dt> <dd>\n<p>The Date general-header field represents the date and time at which the message was originated, having the same semantics as orig-date in RFC 822.</p> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span>The datetime object is timezone-aware.</p> </div> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Response.delete_cookie\">\n<code>delete_cookie(key, path='/', domain=None, secure=False, httponly=False, samesite=None)</code> </dt> <dd>\n<p>Delete a cookie. Fails silently if key doesn’t exist.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>key</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – the key (name) of the cookie to be deleted.</li> <li>\n<strong>path</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – if the cookie that should be deleted was limited to a path, the path has to be defined here.</li> <li>\n<strong>domain</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – if the cookie that should be deleted was limited to a domain, that domain has to be defined here.</li> <li>\n<strong>secure</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – If <code>True</code>, the cookie will only be available via HTTPS.</li> <li>\n<strong>httponly</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – Disallow JavaScript access to the cookie.</li> <li>\n<strong>samesite</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – Limit the scope of the cookie to only be attached to requests that are “same-site”.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Response.direct_passthrough\">\n<code>direct_passthrough</code> </dt> <dd>\n<p>Pass the response body directly through as the WSGI iterable. This can be used when the body is a binary file or other iterator of bytes, to skip some unnecessary checks. Use <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/utils/#werkzeug.utils.send_file\" title=\"(in Werkzeug v2.0.x)\"><code>send_file()</code></a> instead of setting this manually.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Response.expires\">\n<code>expires</code> </dt> <dd>\n<p>The Expires entity-header field gives the date/time after which the response is considered stale. A stale cache entry may not normally be returned by a cache.</p> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span>The datetime object is timezone-aware.</p> </div> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Response.force_type\">\n<code>classmethod force_type(response, environ=None)</code> </dt> <dd>\n<p>Enforce that the WSGI response is a response object of the current type. Werkzeug will use the <a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\"><code>Response</code></a> internally in many situations like the exceptions. If you call <code>get_response()</code> on an exception you will get back a regular <a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\"><code>Response</code></a> object, even if you are using a custom subclass.</p> <p>This method can enforce a given response type, and it will also convert arbitrary WSGI callables into response objects if an environ is provided:</p> <pre data-language=\"python\"># convert a Werkzeug response object into an instance of the\n# MyResponseClass subclass.\nresponse = MyResponseClass.force_type(response)\n\n# convert any WSGI application into a response object\nresponse = MyResponseClass.force_type(response, environ)\n</pre> <p>This is especially useful if you want to post-process responses in the main dispatcher and use functionality provided by your subclass.</p> <p>Keep in mind that this will modify response objects in place if possible!</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>response</strong> (<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>) – a response object or wsgi application.</li> <li>\n<strong>environ</strong> (<em>Optional</em><em>[</em><em>WSGIEnvironment</em><em>]</em>) – a WSGI environment object.</li> </ul> </dd> <dt class=\"field-even\">Returns</dt> <dd class=\"field-even\">\n<p>a response object.</p> </dd> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Response.freeze\">\n<code>freeze(no_etag=None)</code> </dt> <dd>\n<p>Make the response object ready to be pickled. Does the following:</p> <ul class=\"simple\"> <li>Buffer the response into a list, ignoring <code>implicity_sequence_conversion</code> and <a class=\"reference internal\" href=\"#flask.Response.direct_passthrough\" title=\"flask.Response.direct_passthrough\"><code>direct_passthrough</code></a>.</li> <li>Set the <code>Content-Length</code> header.</li> <li>Generate an <code>ETag</code> header if one is not already set.</li> </ul> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span>An <code>ETag</code> header is added, the <code>no_etag</code> parameter is deprecated and will be removed in Werkzeug 2.1.</p> </div> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.6: </span>The <code>Content-Length</code> header is set.</p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>no_etag</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Response.from_app\">\n<code>classmethod from_app(app, environ, buffered=False)</code> </dt> <dd>\n<p>Create a new response object from an application output. This works best if you pass it an application that returns a generator all the time. Sometimes applications may use the <code>write()</code> callable returned by the <code>start_response</code> function. This tries to resolve such edge cases automatically. But if you don’t get the expected output you should set <code>buffered</code> to <code>True</code> which enforces buffering.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>app</strong> (<em>WSGIApplication</em>) – the WSGI application to execute.</li> <li>\n<strong>environ</strong> (<em>WSGIEnvironment</em>) – the WSGI environment to execute against.</li> <li>\n<strong>buffered</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – set to <code>True</code> to enforce buffering.</li> </ul> </dd> <dt class=\"field-even\">Returns</dt> <dd class=\"field-even\">\n<p>a response object.</p> </dd> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Response.get_app_iter\">\n<code>get_app_iter(environ)</code> </dt> <dd>\n<p>Returns the application iterator for the given environ. Depending on the request method and the current status code the return value might be an empty response rather than the one from the response.</p> <p>If the request method is <code>HEAD</code> or the status code is in a range where the HTTP specification requires an empty response, an empty iterable is returned.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.6.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>environ</strong> (<em>WSGIEnvironment</em>) – the WSGI environment of the request.</p> </dd> <dt class=\"field-even\">Returns</dt> <dd class=\"field-even\">\n<p>a response iterable.</p> </dd> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p>Iterable[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#bytes\" title=\"(in Python v3.9)\">bytes</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Response.get_data\">\n<code>get_data(as_text=False)</code> </dt> <dd>\n<p>The string representation of the response body. Whenever you call this property the response iterable is encoded and flattened. This can lead to unwanted behavior if you stream big data.</p> <p>This behavior can be disabled by setting <code>implicit_sequence_conversion</code> to <code>False</code>.</p> <p>If <code>as_text</code> is set to <code>True</code> the return value will be a decoded string.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>as_text</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#bytes\" title=\"(in Python v3.9)\">bytes</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Response.get_etag\">\n<code>get_etag()</code> </dt> <dd>\n<p>Return a tuple in the form <code>(etag, is_weak)</code>. If there is no ETag the return value is <code>(None, None)</code>.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p>Union[Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Response.get_json\">\n<code>get_json(force=False, silent=False)</code> </dt> <dd>\n<p>Parse <a class=\"reference internal\" href=\"#flask.Response.data\" title=\"flask.Response.data\"><code>data</code></a> as JSON. Useful during testing.</p> <p>If the mimetype does not indicate JSON (<em class=\"mimetype\">application/json</em>, see <a class=\"reference internal\" href=\"#flask.Response.is_json\" title=\"flask.Response.is_json\"><code>is_json()</code></a>), this returns <code>None</code>.</p> <p>Unlike <a class=\"reference internal\" href=\"#flask.Request.get_json\" title=\"flask.Request.get_json\"><code>Request.get_json()</code></a>, the result is not cached.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>force</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – Ignore the mimetype and always try to parse JSON.</li> <li>\n<strong>silent</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – Silence parsing errors and return <code>None</code> instead.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Optional[Any]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Response.get_wsgi_headers\">\n<code>get_wsgi_headers(environ)</code> </dt> <dd>\n<p>This is automatically called right before the response is started and returns headers modified for the given environment. It returns a copy of the headers from the response with some modifications applied if necessary.</p> <p>For example the location header (if present) is joined with the root URL of the environment. Also the content length is automatically set to zero here for certain status codes.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.6: </span>Previously that function was called <code>fix_headers</code> and modified the response object in place. Also since 0.6, IRIs in location and content-location headers are handled properly.</p> <p>Also starting with 0.6, Werkzeug will attempt to set the content length if it is able to figure it out on its own. This is the case if all the strings in the response iterable are already encoded and the iterable is buffered.</p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>environ</strong> (<em>WSGIEnvironment</em>) – the WSGI environment of the request.</p> </dd> <dt class=\"field-even\">Returns</dt> <dd class=\"field-even\">\n<p>returns a new <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.Headers\" title=\"(in Werkzeug v2.0.x)\"><code>Headers</code></a> object.</p> </dd> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.Headers\" title=\"(in Werkzeug v2.0.x)\">werkzeug.datastructures.Headers</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Response.get_wsgi_response\">\n<code>get_wsgi_response(environ)</code> </dt> <dd>\n<p>Returns the final WSGI response as tuple. The first item in the tuple is the application iterator, the second the status and the third the list of headers. The response returned is created specially for the given environment. For example if the request method in the WSGI environment is <code>'HEAD'</code> the response will be empty and only the headers and status code will be present.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.6.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>environ</strong> (<em>WSGIEnvironment</em>) – the WSGI environment of the request.</p> </dd> <dt class=\"field-even\">Returns</dt> <dd class=\"field-even\">\n<p>an <code>(app_iter, status, headers)</code> tuple.</p> </dd> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p>Tuple[Iterable[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#bytes\" title=\"(in Python v3.9)\">bytes</a>], <a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>]]]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Response.is_json\">\n<code>property is_json: bool</code> </dt> <dd>\n<p>Check if the mimetype indicates JSON data, either <em class=\"mimetype\">application/json</em> or <em class=\"mimetype\">application/*+json</em>.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Response.is_sequence\">\n<code>property is_sequence: bool</code> </dt> <dd>\n<p>If the iterator is buffered, this property will be <code>True</code>. A response object will consider an iterator to be buffered if the response attribute is a list or tuple.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.6.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Response.is_streamed\">\n<code>property is_streamed: bool</code> </dt> <dd>\n<p>If the response is streamed (the response is not an iterable with a length information) this property is <code>True</code>. In this case streamed means that there is no information about the number of iterations. This is usually <code>True</code> if a generator is passed to the response object.</p> <p>This is useful for checking before applying some sort of post filtering that should not take place for streamed responses.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Response.iter_encoded\">\n<code>iter_encoded()</code> </dt> <dd>\n<p>Iter the response encoded with the encoding of the response. If the response object is invoked as WSGI application the return value of this method is used as application iterator unless <a class=\"reference internal\" href=\"#flask.Response.direct_passthrough\" title=\"flask.Response.direct_passthrough\"><code>direct_passthrough</code></a> was activated.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p>Iterator[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#bytes\" title=\"(in Python v3.9)\">bytes</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Response.json\">\n<code>property json: Optional[Any]</code> </dt> <dd>\n<p>The parsed JSON data if <a class=\"reference internal\" href=\"#flask.Response.mimetype\" title=\"flask.Response.mimetype\"><code>mimetype</code></a> indicates JSON (<em class=\"mimetype\">application/json</em>, see <a class=\"reference internal\" href=\"#flask.Response.is_json\" title=\"flask.Response.is_json\"><code>is_json()</code></a>).</p> <p>Calls <a class=\"reference internal\" href=\"#flask.Response.get_json\" title=\"flask.Response.get_json\"><code>get_json()</code></a> with default arguments.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Response.last_modified\">\n<code>last_modified</code> </dt> <dd>\n<p>The Last-Modified entity-header field indicates the date and time at which the origin server believes the variant was last modified.</p> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span>The datetime object is timezone-aware.</p> </div> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.Response.location\">\n<code>location</code> </dt> <dd>\n<p>The Location response-header field is used to redirect the recipient to a location other than the Request-URI for completion of the request or identification of a new resource.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Response.make_conditional\">\n<code>make_conditional(request_or_environ, accept_ranges=False, complete_length=None)</code> </dt> <dd>\n<p>Make the response conditional to the request. This method works best if an etag was defined for the response already. The <code>add_etag</code> method can be used to do that. If called without etag just the date header is set.</p> <p>This does nothing if the request method in the request or environ is anything but GET or HEAD.</p> <p>For optimal performance when handling range requests, it’s recommended that your response data object implements <code>seekable</code>, <code>seek</code> and <code>tell</code> methods as described by <a class=\"reference external\" href=\"https://docs.python.org/3/library/io.html#io.IOBase\" title=\"(in Python v3.9)\"><code>io.IOBase</code></a>. Objects returned by <code>wrap_file()</code> automatically implement those methods.</p> <p>It does not remove the body of the response because that’s something the <code>__call__()</code> function does for us automatically.</p> <p>Returns self so that you can do <code>return resp.make_conditional(req)</code> but modifies the object in-place.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>request_or_environ</strong> (<em>WSGIEnvironment</em>) – a request object or WSGI environment to be used to make the response conditional against.</li> <li>\n<strong>accept_ranges</strong> (<em>Union</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – This parameter dictates the value of <code>Accept-Ranges</code> header. If <code>False</code> (default), the header is not set. If <code>True</code>, it will be set to <code>\"bytes\"</code>. If <code>None</code>, it will be set to <code>\"none\"</code>. If it’s a string, it will use this value.</li> <li>\n<strong>complete_length</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a><em>]</em>) – Will be used only in valid Range Requests. It will set <code>Content-Range</code> complete length value and compute <code>Content-Length</code> real value. This parameter is mandatory for successful Range Requests completion.</li> </ul> </dd> <dt class=\"field-even\">Raises</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.RequestedRangeNotSatisfiable\" title=\"(in Werkzeug v2.0.x)\"><code>RequestedRangeNotSatisfiable</code></a> if <code>Range</code> header could not be parsed or satisfied.</p> </dd> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a></p> </dd> </dl> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span>Range processing is skipped if length is 0 instead of raising a 416 Range Not Satisfiable error.</p> </div> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Response.make_sequence\">\n<code>make_sequence()</code> </dt> <dd>\n<p>Converts the response iterator in a list. By default this happens automatically if required. If <code>implicit_sequence_conversion</code> is disabled, this method is not automatically called and some properties might raise exceptions. This also encodes all the items.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.6.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Response.max_cookie_size\">\n<code>property max_cookie_size: int</code> </dt> <dd>\n<p>Read-only view of the <a class=\"reference internal\" href=\"../config/index#MAX_COOKIE_SIZE\" title=\"MAX_COOKIE_SIZE\"><code>MAX_COOKIE_SIZE</code></a> config key.</p> <p>See <code>max_cookie_size</code> in Werkzeug’s docs.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Response.mimetype\">\n<code>property mimetype: Optional[str]</code> </dt> <dd>\n<p>The mimetype (content type without charset etc.)</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Response.mimetype_params\">\n<code>property mimetype_params: Dict[str, str]</code> </dt> <dd>\n<p>The mimetype parameters as dict. For example if the content type is <code>text/html; charset=utf-8</code> the params would be <code>{'charset': 'utf-8'}</code>.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.5.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Response.retry_after\">\n<code>property retry_after: Optional[datetime.datetime]</code> </dt> <dd>\n<p>The Retry-After response-header field can be used with a 503 (Service Unavailable) response to indicate how long the service is expected to be unavailable to the requesting client.</p> <p>Time in seconds until expiration or date.</p> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span>The datetime object is timezone-aware.</p> </div> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Response.set_cookie\">\n<code>set_cookie(key, value='', max_age=None, expires=None, path='/', domain=None, secure=False, httponly=False, samesite=None)</code> </dt> <dd>\n<p>Sets a cookie.</p> <p>A warning is raised if the size of the cookie header exceeds <a class=\"reference internal\" href=\"#flask.Response.max_cookie_size\" title=\"flask.Response.max_cookie_size\"><code>max_cookie_size</code></a>, but the header will still be set.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>key</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – the key (name) of the cookie to be set.</li> <li>\n<strong>value</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – the value of the cookie.</li> <li>\n<strong>max_age</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/datetime.html#datetime.timedelta\" title=\"(in Python v3.9)\">datetime.timedelta</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a><em>]</em><em>]</em>) – should be a number of seconds, or <code>None</code> (default) if the cookie should last only as long as the client’s browser session.</li> <li>\n<strong>expires</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/datetime.html#datetime.datetime\" title=\"(in Python v3.9)\">datetime.datetime</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#float\" title=\"(in Python v3.9)\">float</a><em>]</em><em>]</em>) – should be a <code>datetime</code> object or UNIX timestamp.</li> <li>\n<strong>path</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – limits the cookie to a given path, per default it will span the whole domain.</li> <li>\n<strong>domain</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – if you want to set a cross-domain cookie. For example, <code>domain=\".example.com\"</code> will set a cookie that is readable by the domain <code>www.example.com</code>, <code>foo.example.com</code> etc. Otherwise, a cookie will only be readable by the domain that set it.</li> <li>\n<strong>secure</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – If <code>True</code>, the cookie will only be available via HTTPS.</li> <li>\n<strong>httponly</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – Disallow JavaScript access to the cookie.</li> <li>\n<strong>samesite</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – Limit the scope of the cookie to only be attached to requests that are “same-site”.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Response.set_data\">\n<code>set_data(value)</code> </dt> <dd>\n<p>Sets a new string as response. The value must be a string or bytes. If a string is set it’s encoded to the charset of the response (utf-8 by default).</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>value</strong> (<em>Union</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#bytes\" title=\"(in Python v3.9)\">bytes</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Response.set_etag\">\n<code>set_etag(etag, weak=False)</code> </dt> <dd>\n<p>Set the etag, and override the old one if there was one.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>etag</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </li> <li>\n<strong>weak</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Response.status\">\n<code>property status: str</code> </dt> <dd>\n<p>The HTTP status code as a string.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Response.status_code\">\n<code>property status_code: int</code> </dt> <dd>\n<p>The HTTP status code as a number.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Response.stream\">\n<code>property stream: werkzeug.wrappers.response.ResponseStream</code> </dt> <dd>\n<p>The response iterable as write-only stream.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Response.vary\">\n<code>property vary: werkzeug.datastructures.HeaderSet</code> </dt> <dd>\n<p>The Vary field value indicates the set of request-header fields that fully determines, while the response is fresh, whether a cache is permitted to use the response to reply to a subsequent request without revalidation.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.Response.www_authenticate\">\n<code>property www_authenticate: werkzeug.datastructures.WWWAuthenticate</code> </dt> <dd>\n<p>The <code>WWW-Authenticate</code> header in a parsed form.</p> </dd>\n</dl> </dd>\n</dl>   <h2 id=\"sessions\">Sessions</h2> <p>If you have set <a class=\"reference internal\" href=\"#flask.Flask.secret_key\" title=\"flask.Flask.secret_key\"><code>Flask.secret_key</code></a> (or configured it from <a class=\"reference internal\" href=\"../config/index#SECRET_KEY\" title=\"SECRET_KEY\"><code>SECRET_KEY</code></a>) you can use sessions in Flask applications. A session makes it possible to remember information from one request to another. The way Flask does this is by using a signed cookie. The user can look at the session contents, but can’t modify it unless they know the secret key, so make sure to set that to something complex and unguessable.</p> <p>To access the current session you can use the <a class=\"reference internal\" href=\"#flask.session\" title=\"flask.session\"><code>session</code></a> object:</p> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.session\">\n<code>class flask.session</code> </dt> <dd>\n<p>The session object works pretty much like an ordinary dict, with the difference that it keeps track of modifications.</p> <p>This is a proxy. See <a class=\"reference internal\" href=\"../reqcontext/index#notes-on-proxies\"><span class=\"std std-ref\">Notes On Proxies</span></a> for more information.</p> <p>The following attributes are interesting:</p> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.session.new\">\n<code>new</code> </dt> <dd>\n<p><code>True</code> if the session is new, <code>False</code> otherwise.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.session.modified\">\n<code>modified</code> </dt> <dd>\n<p><code>True</code> if the session object detected a modification. Be advised that modifications on mutable structures are not picked up automatically, in that situation you have to explicitly set the attribute to <code>True</code> yourself. Here an example:</p> <pre data-language=\"python\"># this change is not picked up because a mutable object (here\n# a list) is changed.\nsession['objects'].append(42)\n# so mark it as modified yourself\nsession.modified = True\n</pre> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.session.permanent\">\n<code>permanent</code> </dt> <dd>\n<p>If set to <code>True</code> the session lives for <a class=\"reference internal\" href=\"#flask.Flask.permanent_session_lifetime\" title=\"flask.Flask.permanent_session_lifetime\"><code>permanent_session_lifetime</code></a> seconds. The default is 31 days. If set to <code>False</code> (which is the default) the session will be deleted when the user closes the browser.</p> </dd>\n</dl> </dd>\n</dl>   <h2 id=\"session-interface\">Session Interface</h2> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.8.</span></p> </div> </details><p>The session interface provides a simple way to replace the session implementation that Flask is using.</p> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SessionInterface\">\n<code>class flask.sessions.SessionInterface</code> </dt> <dd>\n<p>The basic interface you have to implement in order to replace the default session interface which uses werkzeug’s securecookie implementation. The only methods you have to implement are <a class=\"reference internal\" href=\"#flask.sessions.SessionInterface.open_session\" title=\"flask.sessions.SessionInterface.open_session\"><code>open_session()</code></a> and <a class=\"reference internal\" href=\"#flask.sessions.SessionInterface.save_session\" title=\"flask.sessions.SessionInterface.save_session\"><code>save_session()</code></a>, the others have useful defaults which you don’t need to change.</p> <p>The session object returned by the <a class=\"reference internal\" href=\"#flask.sessions.SessionInterface.open_session\" title=\"flask.sessions.SessionInterface.open_session\"><code>open_session()</code></a> method has to provide a dictionary like interface plus the properties and methods from the <a class=\"reference internal\" href=\"#flask.sessions.SessionMixin\" title=\"flask.sessions.SessionMixin\"><code>SessionMixin</code></a>. We recommend just subclassing a dict and adding that mixin:</p> <pre data-language=\"python\">class Session(dict, SessionMixin):\n    pass\n</pre> <p>If <a class=\"reference internal\" href=\"#flask.sessions.SessionInterface.open_session\" title=\"flask.sessions.SessionInterface.open_session\"><code>open_session()</code></a> returns <code>None</code> Flask will call into <a class=\"reference internal\" href=\"#flask.sessions.SessionInterface.make_null_session\" title=\"flask.sessions.SessionInterface.make_null_session\"><code>make_null_session()</code></a> to create a session that acts as replacement if the session support cannot work because some requirement is not fulfilled. The default <a class=\"reference internal\" href=\"#flask.sessions.NullSession\" title=\"flask.sessions.NullSession\"><code>NullSession</code></a> class that is created will complain that the secret key was not set.</p> <p>To replace the session interface on an application all you have to do is to assign <a class=\"reference internal\" href=\"#flask.Flask.session_interface\" title=\"flask.Flask.session_interface\"><code>flask.Flask.session_interface</code></a>:</p> <pre data-language=\"python\">app = Flask(__name__)\napp.session_interface = MySessionInterface()\n</pre> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.8.</span></p> </div> </details><dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SessionInterface.get_cookie_domain\">\n<code>get_cookie_domain(app)</code> </dt> <dd>\n<p>Returns the domain that should be set for the session cookie.</p> <p>Uses <code>SESSION_COOKIE_DOMAIN</code> if it is configured, otherwise falls back to detecting the domain based on <code>SERVER_NAME</code>.</p> <p>Once detected (or if not set at all), <code>SESSION_COOKIE_DOMAIN</code> is updated to avoid re-running the logic.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>app</strong> (<a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Optional[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SessionInterface.get_cookie_httponly\">\n<code>get_cookie_httponly(app)</code> </dt> <dd>\n<p>Returns True if the session cookie should be httponly. This currently just returns the value of the <code>SESSION_COOKIE_HTTPONLY</code> config var.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>app</strong> (<a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SessionInterface.get_cookie_name\">\n<code>get_cookie_name(app)</code> </dt> <dd>\n<p>Returns the name of the session cookie.</p> <p>Uses <code>app.session_cookie_name</code> which is set to <code>SESSION_COOKIE_NAME</code></p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>app</strong> (<a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SessionInterface.get_cookie_path\">\n<code>get_cookie_path(app)</code> </dt> <dd>\n<p>Returns the path for which the cookie should be valid. The default implementation uses the value from the <code>SESSION_COOKIE_PATH</code> config var if it’s set, and falls back to <code>APPLICATION_ROOT</code> or uses <code>/</code> if it’s <code>None</code>.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>app</strong> (<a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SessionInterface.get_cookie_samesite\">\n<code>get_cookie_samesite(app)</code> </dt> <dd>\n<p>Return <code>'Strict'</code> or <code>'Lax'</code> if the cookie should use the <code>SameSite</code> attribute. This currently just returns the value of the <a class=\"reference internal\" href=\"../config/index#SESSION_COOKIE_SAMESITE\" title=\"SESSION_COOKIE_SAMESITE\"><code>SESSION_COOKIE_SAMESITE</code></a> setting.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>app</strong> (<a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SessionInterface.get_cookie_secure\">\n<code>get_cookie_secure(app)</code> </dt> <dd>\n<p>Returns True if the cookie should be secure. This currently just returns the value of the <code>SESSION_COOKIE_SECURE</code> setting.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>app</strong> (<a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SessionInterface.get_expiration_time\">\n<code>get_expiration_time(app, session)</code> </dt> <dd>\n<p>A helper method that returns an expiration date for the session or <code>None</code> if the session is linked to the browser session. The default implementation returns now + the permanent session lifetime configured on the application.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>app</strong> (<a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a>) – </li> <li>\n<strong>session</strong> (<a class=\"reference internal\" href=\"#flask.sessions.SessionMixin\" title=\"flask.sessions.SessionMixin\">flask.sessions.SessionMixin</a>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Optional[<a class=\"reference external\" href=\"https://docs.python.org/3/library/datetime.html#datetime.datetime\" title=\"(in Python v3.9)\">datetime.datetime</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SessionInterface.is_null_session\">\n<code>is_null_session(obj)</code> </dt> <dd>\n<p>Checks if a given object is a null session. Null sessions are not asked to be saved.</p> <p>This checks if the object is an instance of <a class=\"reference internal\" href=\"#flask.sessions.SessionInterface.null_session_class\" title=\"flask.sessions.SessionInterface.null_session_class\"><code>null_session_class</code></a> by default.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>obj</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.9)\">object</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SessionInterface.make_null_session\">\n<code>make_null_session(app)</code> </dt> <dd>\n<p>Creates a null session which acts as a replacement object if the real session support could not be loaded due to a configuration error. This mainly aids the user experience because the job of the null session is to still support lookup without complaining but modifications are answered with a helpful error message of what failed.</p> <p>This creates an instance of <a class=\"reference internal\" href=\"#flask.sessions.SessionInterface.null_session_class\" title=\"flask.sessions.SessionInterface.null_session_class\"><code>null_session_class</code></a> by default.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>app</strong> (<a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference internal\" href=\"#flask.sessions.NullSession\" title=\"flask.sessions.NullSession\">flask.sessions.NullSession</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SessionInterface.null_session_class\">\n<code>null_session_class</code> </dt> <dd>\n<p><a class=\"reference internal\" href=\"#flask.sessions.SessionInterface.make_null_session\" title=\"flask.sessions.SessionInterface.make_null_session\"><code>make_null_session()</code></a> will look here for the class that should be created when a null session is requested. Likewise the <a class=\"reference internal\" href=\"#flask.sessions.SessionInterface.is_null_session\" title=\"flask.sessions.SessionInterface.is_null_session\"><code>is_null_session()</code></a> method will perform a typecheck against this type.</p> <p>alias of <a class=\"reference internal\" href=\"#flask.sessions.NullSession\" title=\"flask.sessions.NullSession\"><code>flask.sessions.NullSession</code></a></p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SessionInterface.open_session\">\n<code>open_session(app, request)</code> </dt> <dd>\n<p>This method has to be implemented and must either return <code>None</code> in case the loading failed because of a configuration error or an instance of a session object which implements a dictionary like interface + the methods and attributes on <a class=\"reference internal\" href=\"#flask.sessions.SessionMixin\" title=\"flask.sessions.SessionMixin\"><code>SessionMixin</code></a>.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>app</strong> (<a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a>) – </li> <li>\n<strong>request</strong> (<a class=\"reference internal\" href=\"#flask.Request\" title=\"flask.Request\">Request</a>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Optional[<a class=\"reference internal\" href=\"#flask.sessions.SessionMixin\" title=\"flask.sessions.SessionMixin\">flask.sessions.SessionMixin</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SessionInterface.pickle_based\">\n<code>pickle_based = False</code> </dt> <dd>\n<p>A flag that indicates if the session interface is pickle based. This can be used by Flask extensions to make a decision in regards to how to deal with the session object.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SessionInterface.save_session\">\n<code>save_session(app, session, response)</code> </dt> <dd>\n<p>This is called for actual sessions returned by <a class=\"reference internal\" href=\"#flask.sessions.SessionInterface.open_session\" title=\"flask.sessions.SessionInterface.open_session\"><code>open_session()</code></a> at the end of the request. This is still called during a request context so if you absolutely need access to the request you can do that.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>app</strong> (<a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a>) – </li> <li>\n<strong>session</strong> (<a class=\"reference internal\" href=\"#flask.sessions.SessionMixin\" title=\"flask.sessions.SessionMixin\">flask.sessions.SessionMixin</a>) – </li> <li>\n<strong>response</strong> (<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SessionInterface.should_set_cookie\">\n<code>should_set_cookie(app, session)</code> </dt> <dd>\n<p>Used by session backends to determine if a <code>Set-Cookie</code> header should be set for this session cookie for this response. If the session has been modified, the cookie is set. If the session is permanent and the <code>SESSION_REFRESH_EACH_REQUEST</code> config is true, the cookie is always set.</p> <p>This check is usually skipped if the session was deleted.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.11.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>app</strong> (<a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a>) – </li> <li>\n<strong>session</strong> (<a class=\"reference internal\" href=\"#flask.sessions.SessionMixin\" title=\"flask.sessions.SessionMixin\">flask.sessions.SessionMixin</a>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a></p> </dd> </dl> </dd>\n</dl> </dd>\n</dl> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SecureCookieSessionInterface\">\n<code>class flask.sessions.SecureCookieSessionInterface</code> </dt> <dd>\n<p>The default session interface that stores sessions in signed cookies through the <code>itsdangerous</code> module.</p> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SecureCookieSessionInterface.digest_method\">\n<code>static digest_method()</code> </dt> <dd>\n<p>the hash function to use for the signature. The default is sha1</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SecureCookieSessionInterface.key_derivation\">\n<code>key_derivation = 'hmac'</code> </dt> <dd>\n<p>the name of the itsdangerous supported key derivation. The default is hmac.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SecureCookieSessionInterface.open_session\">\n<code>open_session(app, request)</code> </dt> <dd>\n<p>This method has to be implemented and must either return <code>None</code> in case the loading failed because of a configuration error or an instance of a session object which implements a dictionary like interface + the methods and attributes on <a class=\"reference internal\" href=\"#flask.sessions.SessionMixin\" title=\"flask.sessions.SessionMixin\"><code>SessionMixin</code></a>.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>app</strong> (<a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a>) – </li> <li>\n<strong>request</strong> (<a class=\"reference internal\" href=\"#flask.Request\" title=\"flask.Request\">Request</a>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Optional[<a class=\"reference internal\" href=\"#flask.sessions.SecureCookieSession\" title=\"flask.sessions.SecureCookieSession\">flask.sessions.SecureCookieSession</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SecureCookieSessionInterface.salt\">\n<code>salt = 'cookie-session'</code> </dt> <dd>\n<p>the salt that should be applied on top of the secret key for the signing of cookie based sessions.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SecureCookieSessionInterface.save_session\">\n<code>save_session(app, session, response)</code> </dt> <dd>\n<p>This is called for actual sessions returned by <a class=\"reference internal\" href=\"#flask.sessions.SecureCookieSessionInterface.open_session\" title=\"flask.sessions.SecureCookieSessionInterface.open_session\"><code>open_session()</code></a> at the end of the request. This is still called during a request context so if you absolutely need access to the request you can do that.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>app</strong> (<a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a>) – </li> <li>\n<strong>session</strong> (<a class=\"reference internal\" href=\"#flask.sessions.SessionMixin\" title=\"flask.sessions.SessionMixin\">flask.sessions.SessionMixin</a>) – </li> <li>\n<strong>response</strong> (<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SecureCookieSessionInterface.serializer\">\n<code>serializer = &lt;flask.json.tag.TaggedJSONSerializer object&gt;</code> </dt> <dd>\n<p>A python serializer for the payload. The default is a compact JSON derived serializer with support for some extra Python types such as datetime objects or tuples.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SecureCookieSessionInterface.session_class\">\n<code>session_class</code> </dt> <dd>\n<p>alias of <a class=\"reference internal\" href=\"#flask.sessions.SecureCookieSession\" title=\"flask.sessions.SecureCookieSession\"><code>flask.sessions.SecureCookieSession</code></a></p> </dd>\n</dl> </dd>\n</dl> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SecureCookieSession\">\n<code>class flask.sessions.SecureCookieSession(initial=None)</code> </dt> <dd>\n<p>Base class for sessions based on signed cookies.</p> <p>This session backend will set the <a class=\"reference internal\" href=\"#flask.sessions.SecureCookieSession.modified\" title=\"flask.sessions.SecureCookieSession.modified\"><code>modified</code></a> and <a class=\"reference internal\" href=\"#flask.sessions.SecureCookieSession.accessed\" title=\"flask.sessions.SecureCookieSession.accessed\"><code>accessed</code></a> attributes. It cannot reliably track whether a session is new (vs. empty), so <code>new</code> remains hard coded to <code>False</code>.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>initial</strong> (<em>Any</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SecureCookieSession.accessed\">\n<code>accessed = False</code> </dt> <dd>\n<p>header, which allows caching proxies to cache different pages for different users.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SecureCookieSession.get\">\n<code>get(key, default=None)</code> </dt> <dd>\n<p>Return the value for key if key is in the dictionary, else default.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>key</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </li> <li>\n<strong>default</strong> (<em>Optional</em><em>[</em><em>Any</em><em>]</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Any</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SecureCookieSession.modified\">\n<code>modified = False</code> </dt> <dd>\n<p>When data is changed, this is set to <code>True</code>. Only the session dictionary itself is tracked; if the session contains mutable data (for example a nested dict) then this must be set to <code>True</code> manually when modifying that data. The session cookie will only be written to the response if this is <code>True</code>.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SecureCookieSession.setdefault\">\n<code>setdefault(key, default=None)</code> </dt> <dd>\n<p>Insert key with a value of default if key is not in the dictionary.</p> <p>Return the value for key if key is in the dictionary, else default.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>key</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </li> <li>\n<strong>default</strong> (<em>Optional</em><em>[</em><em>Any</em><em>]</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Any</p> </dd> </dl> </dd>\n</dl> </dd>\n</dl> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.NullSession\">\n<code>class flask.sessions.NullSession(initial=None)</code> </dt> <dd>\n<p>Class used to generate nicer error messages if sessions are not available. Will still allow read-only access to the empty session but fail on setting.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>initial</strong> (<em>Any</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SessionMixin\">\n<code>class flask.sessions.SessionMixin</code> </dt> <dd>\n<p>Expands a basic dictionary with session attributes.</p> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SessionMixin.accessed\">\n<code>accessed = True</code> </dt> <dd>\n<p>Some implementations can detect when session data is read or written and set this when that happens. The mixin default is hard coded to <code>True</code>.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SessionMixin.modified\">\n<code>modified = True</code> </dt> <dd>\n<p>Some implementations can detect changes to the session and set this when that happens. The mixin default is hard coded to <code>True</code>.</p> </dd>\n</dl> <dl class=\"py property\"> <dt class=\"sig sig-object py\" id=\"flask.sessions.SessionMixin.permanent\">\n<code>property permanent: bool</code> </dt> <dd>\n<p>This reflects the <code>'_permanent'</code> key in the dict.</p> </dd>\n</dl> </dd>\n</dl> <div class=\"admonition-notice admonition\"> <p class=\"admonition-title\">Notice</p> <p>The <code>PERMANENT_SESSION_LIFETIME</code> config key can also be an integer starting with Flask 0.8. Either catch this down yourself or use the <a class=\"reference internal\" href=\"#flask.Flask.permanent_session_lifetime\" title=\"flask.Flask.permanent_session_lifetime\"><code>permanent_session_lifetime</code></a> attribute on the app which converts the result to an integer automatically.</p> </div>   <h2 id=\"test-client\">Test Client</h2> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.testing.FlaskClient\">\n<code>class flask.testing.FlaskClient(*args, **kwargs)</code> </dt> <dd>\n<p>Works like a regular Werkzeug test client but has some knowledge about how Flask works to defer the cleanup of the request context stack to the end of a <code>with</code> body when used in a <code>with</code> statement. For general information about how to use this class refer to <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/test/#werkzeug.test.Client\" title=\"(in Werkzeug v2.0.x)\"><code>werkzeug.test.Client</code></a>.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.12: </span><code>app.test_client()</code> includes preset default environment, which can be set after instantiation of the <code>app.test_client()</code> object in <code>client.environ_base</code>.</p> </div> </details><p>Basic usage is outlined in the <a class=\"reference internal\" href=\"../testing/index\"><span class=\"doc\">Testing Flask Applications</span></a> chapter.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>args</strong> (<em>Any</em>) – </li> <li>\n<strong>kwargs</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.testing.FlaskClient.open\">\n<code>open(*args, as_tuple=False, buffered=False, follow_redirects=False, **kwargs)</code> </dt> <dd>\n<p>Generate an environ dict from the given arguments, make a request to the application using it, and return the response.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>args</strong> (<em>Any</em>) – Passed to <code>EnvironBuilder</code> to create the environ for the request. If a single arg is passed, it can be an existing <code>EnvironBuilder</code> or an environ dict.</li> <li>\n<strong>buffered</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – Convert the iterator returned by the app into a list. If the iterator has a <code>close()</code> method, it is called automatically.</li> <li>\n<strong>follow_redirects</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – Make additional requests to follow HTTP redirects until a non-redirect status is returned. <code>TestResponse.history</code> lists the intermediate responses.</li> <li>\n<strong>as_tuple</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – </li> <li>\n<strong>kwargs</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a></p> </dd> </dl> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span><code>as_tuple</code> is deprecated and will be removed in Werkzeug 2.1. Use <code>TestResponse.request</code> and <code>request.environ</code> instead.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span>The request input stream is closed when calling <code>response.close()</code>. Input streams for redirects are automatically closed.</p> </div> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.5: </span>If a dict is provided as file in the dict for the <code>data</code> parameter the content type has to be called <code>content_type</code> instead of <code>mimetype</code>. This change was made for consistency with <code>werkzeug.FileWrapper</code>.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.5: </span>Added the <code>follow_redirects</code> parameter.</p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.testing.FlaskClient.session_transaction\">\n<code>session_transaction(*args, **kwargs)</code> </dt> <dd>\n<p>When used in combination with a <code>with</code> statement this opens a session transaction. This can be used to modify the session that the test client uses. Once the <code>with</code> block is left the session is stored back.</p> <pre data-language=\"python\">with client.session_transaction() as session:\n    session['value'] = 42\n</pre> <p>Internally this is implemented by going through a temporary test request context and since session handling could depend on request variables this function accepts the same arguments as <a class=\"reference internal\" href=\"#flask.Flask.test_request_context\" title=\"flask.Flask.test_request_context\"><code>test_request_context()</code></a> which are directly passed through.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>args</strong> (<em>Any</em>) – </li> <li>\n<strong>kwargs</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Generator[<a class=\"reference internal\" href=\"#flask.sessions.SessionMixin\" title=\"flask.sessions.SessionMixin\">flask.sessions.SessionMixin</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]</p> </dd> </dl> </dd>\n</dl> </dd>\n</dl>   <h2 id=\"test-cli-runner\">Test CLI Runner</h2> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.testing.FlaskCliRunner\">\n<code>class flask.testing.FlaskCliRunner(app, **kwargs)</code> </dt> <dd>\n<p>A <a class=\"reference external\" href=\"https://click.palletsprojects.com/en/8.0.x/api/#click.testing.CliRunner\" title=\"(in Click v8.0.x)\"><code>CliRunner</code></a> for testing a Flask app’s CLI commands. Typically created using <a class=\"reference internal\" href=\"#flask.Flask.test_cli_runner\" title=\"flask.Flask.test_cli_runner\"><code>test_cli_runner()</code></a>. See <a class=\"reference internal\" href=\"../testing/index#testing-cli\"><span class=\"std std-ref\">Testing CLI Commands</span></a>.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>app</strong> (<a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a>) – </li> <li>\n<strong>kwargs</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.testing.FlaskCliRunner.invoke\">\n<code>invoke(cli=None, args=None, **kwargs)</code> </dt> <dd>\n<p>Invokes a CLI command in an isolated environment. See <a class=\"reference external\" href=\"https://click.palletsprojects.com/en/8.0.x/api/#click.testing.CliRunner.invoke\" title=\"(in Click v8.0.x)\"><code>CliRunner.invoke</code></a> for full method documentation. See <a class=\"reference internal\" href=\"../testing/index#testing-cli\"><span class=\"std std-ref\">Testing CLI Commands</span></a> for examples.</p> <p>If the <code>obj</code> argument is not given, passes an instance of <a class=\"reference internal\" href=\"#flask.cli.ScriptInfo\" title=\"flask.cli.ScriptInfo\"><code>ScriptInfo</code></a> that knows how to load the Flask app being tested.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>cli</strong> (<em>Optional</em><em>[</em><em>Any</em><em>]</em>) – Command object to invoke. Default is the app’s <code>cli</code> group.</li> <li>\n<strong>args</strong> (<em>Optional</em><em>[</em><em>Any</em><em>]</em>) – List of strings to invoke the command with.</li> <li>\n<strong>kwargs</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Returns</dt> <dd class=\"field-even\">\n<p>a <a class=\"reference external\" href=\"https://click.palletsprojects.com/en/8.0.x/api/#click.testing.Result\" title=\"(in Click v8.0.x)\"><code>Result</code></a> object.</p> </dd> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p>Any</p> </dd> </dl> </dd>\n</dl> </dd>\n</dl>   <h2 id=\"application-globals\">Application Globals</h2> <p>To share data that is valid for one request only from one function to another, a global variable is not good enough because it would break in threaded environments. Flask provides you with a special object that ensures it is only valid for the active request and that will return different values for each request. In a nutshell: it does the right thing, like it does for <a class=\"reference internal\" href=\"#flask.request\" title=\"flask.request\"><code>request</code></a> and <a class=\"reference internal\" href=\"#flask.session\" title=\"flask.session\"><code>session</code></a>.</p> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"flask.g\">\n<code>flask.g</code> </dt> <dd>\n<p>A namespace object that can store data during an <a class=\"reference internal\" href=\"../appcontext/index\"><span class=\"doc\">application context</span></a>. This is an instance of <a class=\"reference internal\" href=\"#flask.Flask.app_ctx_globals_class\" title=\"flask.Flask.app_ctx_globals_class\"><code>Flask.app_ctx_globals_class</code></a>, which defaults to <a class=\"reference internal\" href=\"#flask.ctx._AppCtxGlobals\" title=\"flask.ctx._AppCtxGlobals\"><code>ctx._AppCtxGlobals</code></a>.</p> <p>This is a good place to store resources during a request. During testing, you can use the <a class=\"reference internal\" href=\"../testing/index#faking-resources\"><span class=\"std std-ref\">Faking Resources and Context</span></a> pattern to pre-configure such resources.</p> <p>This is a proxy. See <a class=\"reference internal\" href=\"../reqcontext/index#notes-on-proxies\"><span class=\"std std-ref\">Notes On Proxies</span></a> for more information.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.10: </span>Bound to the application context instead of the request context.</p> </div> </details>\n</dd>\n</dl> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.ctx._AppCtxGlobals\">\n<code>class flask.ctx._AppCtxGlobals</code> </dt> <dd>\n<p>A plain object. Used as a namespace for storing data during an application context.</p> <p>Creating an app context automatically creates this object, which is made available as the <code>g</code> proxy.</p> <dl class=\"describe\"> <dt class=\"sig sig-object\"> <span class=\"sig-name descname\">'key' in g</span>\n</dt> <dd>\n<p>Check whether an attribute is present.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"describe\"> <dt class=\"sig sig-object\"> <span class=\"sig-name descname\">iter(g)</span>\n</dt> <dd>\n<p>Return an iterator over the attribute names.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.ctx._AppCtxGlobals.get\">\n<code>get(name, default=None)</code> </dt> <dd>\n<p>Get an attribute by name, or a default value. Like <a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict.get\" title=\"(in Python v3.9)\"><code>dict.get()</code></a>.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>name</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – Name of attribute to get.</li> <li>\n<strong>default</strong> (<em>Optional</em><em>[</em><em>Any</em><em>]</em>) – Value to return if the attribute is not present.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Any</p> </dd> </dl> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.ctx._AppCtxGlobals.pop\">\n<code>pop(name, default=&lt;object object&gt;)</code> </dt> <dd>\n<p>Get and remove an attribute by name. Like <a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict.pop\" title=\"(in Python v3.9)\"><code>dict.pop()</code></a>.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>name</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – Name of attribute to pop.</li> <li>\n<strong>default</strong> (<em>Any</em>) – Value to return if the attribute is not present, instead of raising a <code>KeyError</code>.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Any</p> </dd> </dl> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.11.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.ctx._AppCtxGlobals.setdefault\">\n<code>setdefault(name, default=None)</code> </dt> <dd>\n<p>Get the value of an attribute if it is present, otherwise set and return a default value. Like <a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict.setdefault\" title=\"(in Python v3.9)\"><code>dict.setdefault()</code></a>.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>name</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – Name of attribute to get.</li> <li>\n<strong>default</strong> (<em>Optional</em><em>[</em><em>Any</em><em>]</em>) – Value to set and return if the attribute is not present.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Any</p> </dd> </dl> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.11.</span></p> </div> </details>\n</dd>\n</dl> </dd>\n</dl>   <h2 id=\"useful-functions-and-classes\">Useful Functions and Classes</h2> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"flask.current_app\">\n<code>flask.current_app</code> </dt> <dd>\n<p>A proxy to the application handling the current request. This is useful to access the application without needing to import it, or if it can’t be imported, such as when using the application factory pattern or in blueprints and extensions.</p> <p>This is only available when an <a class=\"reference internal\" href=\"../appcontext/index\"><span class=\"doc\">application context</span></a> is pushed. This happens automatically during requests and CLI commands. It can be controlled manually with <a class=\"reference internal\" href=\"#flask.Flask.app_context\" title=\"flask.Flask.app_context\"><code>app_context()</code></a>.</p> <p>This is a proxy. See <a class=\"reference internal\" href=\"../reqcontext/index#notes-on-proxies\"><span class=\"std std-ref\">Notes On Proxies</span></a> for more information.</p> </dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.has_request_context\">\n<code>flask.has_request_context()</code> </dt> <dd>\n<p>If you have code that wants to test if a request context is there or not this function can be used. For instance, you may want to take advantage of request information if the request object is available, but fail silently if it is unavailable.</p> <pre data-language=\"python\">class User(db.Model):\n\n    def __init__(self, username, remote_addr=None):\n        self.username = username\n        if remote_addr is None and has_request_context():\n            remote_addr = request.remote_addr\n        self.remote_addr = remote_addr\n</pre> <p>Alternatively you can also just test any of the context bound objects (such as <a class=\"reference internal\" href=\"#flask.request\" title=\"flask.request\"><code>request</code></a> or <a class=\"reference internal\" href=\"#flask.g\" title=\"flask.g\"><code>g</code></a>) for truthness:</p> <pre data-language=\"python\">class User(db.Model):\n\n    def __init__(self, username, remote_addr=None):\n        self.username = username\n        if remote_addr is None and request:\n            remote_addr = request.remote_addr\n        self.remote_addr = remote_addr\n</pre> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.copy_current_request_context\">\n<code>flask.copy_current_request_context(f)</code> </dt> <dd>\n<p>A helper function that decorates a function to retain the current request context. This is useful when working with greenlets. The moment the function is decorated a copy of the request context is created and then pushed when the function is called. The current session is also included in the copied request context.</p> <p>Example:</p> <pre data-language=\"python\">import gevent\nfrom flask import copy_current_request_context\n\n@app.route('/')\ndef index():\n    @copy_current_request_context\n    def do_some_work():\n        # do some work here, it can access flask.request or\n        # flask.session like you would otherwise in the view function.\n        ...\n    gevent.spawn(do_some_work)\n    return 'Regular response'\n</pre> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.has_app_context\">\n<code>flask.has_app_context()</code> </dt> <dd>\n<p>Works like <a class=\"reference internal\" href=\"#flask.has_request_context\" title=\"flask.has_request_context\"><code>has_request_context()</code></a> but for the application context. You can also just do a boolean check on the <a class=\"reference internal\" href=\"#flask.current_app\" title=\"flask.current_app\"><code>current_app</code></a> object instead.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.url_for\">\n<code>flask.url_for(endpoint, **values)</code> </dt> <dd>\n<p>Generates a URL to the given endpoint with the method provided.</p> <p>Variable arguments that are unknown to the target endpoint are appended to the generated URL as query arguments. If the value of a query argument is <code>None</code>, the whole pair is skipped. In case blueprints are active you can shortcut references to the same blueprint by prefixing the local endpoint with a dot (<code>.</code>).</p> <p>This will reference the index function local to the current blueprint:</p> <pre data-language=\"python\">url_for('.index')\n</pre> <p>See <a class=\"reference internal\" href=\"../quickstart/index#url-building\"><span class=\"std std-ref\">URL Building</span></a>.</p> <p>Configuration values <code>APPLICATION_ROOT</code> and <code>SERVER_NAME</code> are only used when generating URLs outside of a request context.</p> <p>To integrate applications, <a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\"><code>Flask</code></a> has a hook to intercept URL build errors through <a class=\"reference internal\" href=\"#flask.Flask.url_build_error_handlers\" title=\"flask.Flask.url_build_error_handlers\"><code>Flask.url_build_error_handlers</code></a>. The <code>url_for</code> function results in a <code>BuildError</code> when the current app does not have a URL for the given endpoint and values. When it does, the <a class=\"reference internal\" href=\"#flask.current_app\" title=\"flask.current_app\"><code>current_app</code></a> calls its <a class=\"reference internal\" href=\"#flask.Flask.url_build_error_handlers\" title=\"flask.Flask.url_build_error_handlers\"><code>url_build_error_handlers</code></a> if it is not <code>None</code>, which can return a string to use as the result of <code>url_for</code> (instead of <code>url_for</code>’s default to raise the <code>BuildError</code> exception) or re-raise the exception. An example:</p> <pre data-language=\"python\">def external_url_handler(error, endpoint, values):\n    \"Looks up an external URL when `url_for` cannot build a URL.\"\n    # This is an example of hooking the build_error_handler.\n    # Here, lookup_url is some utility function you've built\n    # which looks up the endpoint in some external URL registry.\n    url = lookup_url(endpoint, **values)\n    if url is None:\n        # External lookup did not have a URL.\n        # Re-raise the BuildError, in context of original traceback.\n        exc_type, exc_value, tb = sys.exc_info()\n        if exc_value is error:\n            raise exc_type(exc_value).with_traceback(tb)\n        else:\n            raise error\n    # url_for will use this result, instead of raising BuildError.\n    return url\n\napp.url_build_error_handlers.append(external_url_handler)\n</pre> <p>Here, <code>error</code> is the instance of <code>BuildError</code>, and <code>endpoint</code> and <code>values</code> are the arguments passed into <code>url_for</code>. Note that this is for building URLs outside the current application, and not for handling 404 NotFound errors.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10: </span>The <code>_scheme</code> parameter was added.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9: </span>The <code>_anchor</code> and <code>_method</code> parameters were added.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9: </span>Calls <code>Flask.handle_build_error()</code> on <code>BuildError</code>.</p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>endpoint</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – the endpoint of the URL (name of the function)</li> <li>\n<strong>values</strong> (<em>Any</em>) – the variable arguments of the URL rule</li> <li>\n<strong>_external</strong> – if set to <code>True</code>, an absolute URL is generated. Server address can be changed via <code>SERVER_NAME</code> configuration variable which falls back to the <code>Host</code> header, then to the IP and port of the request.</li> <li>\n<strong>_scheme</strong> – a string specifying the desired URL scheme. The <code>_external</code> parameter must be set to <code>True</code> or a <a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#ValueError\" title=\"(in Python v3.9)\"><code>ValueError</code></a> is raised. The default behavior uses the same scheme as the current request, or <a class=\"reference internal\" href=\"../config/index#PREFERRED_URL_SCHEME\" title=\"PREFERRED_URL_SCHEME\"><code>PREFERRED_URL_SCHEME</code></a> if no request context is available. This also can be set to an empty string to build protocol-relative URLs.</li> <li>\n<strong>_anchor</strong> – if provided this is added as anchor to the URL.</li> <li>\n<strong>_method</strong> – if provided this explicitly specifies an HTTP method.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.abort\">\n<code>flask.abort(status, *args, **kwargs)</code> </dt> <dd>\n<p>Raises an <code>HTTPException</code> for the given status code or WSGI application.</p> <p>If a status code is given, it will be looked up in the list of exceptions and will raise that exception. If passed a WSGI application, it will wrap it in a proxy WSGI exception and raise that:</p> <pre data-language=\"python\">abort(404)  # 404 Not Found\nabort(Response('Hello World'))\n</pre> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>status</strong> (<em>Union</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a><em>, </em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>]</em>) – </li> <li>\n<strong>args</strong> (<em>Any</em>) – </li> <li>\n<strong>kwargs</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>NoReturn</p> </dd> </dl> </dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.redirect\">\n<code>flask.redirect(location, code=302, Response=None)</code> </dt> <dd>\n<p>Returns a response object (a WSGI application) that, if called, redirects the client to the target location. Supported codes are 301, 302, 303, 305, 307, and 308. 300 is not supported because it’s not a real redirect and 304 because it’s the answer for a request with a request with defined If-Modified-Since headers.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10: </span>The class used for the Response object can now be passed in.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.6: </span>The location can now be a unicode string that is encoded using the <code>iri_to_uri()</code> function.</p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>location</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – the location the response should redirect to.</li> <li>\n<strong>code</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a>) – the redirect status code. defaults to 302.</li> <li>\n<strong>Response</strong> (<em>class</em>) – a Response class to use when instantiating a response. The default is <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/wrappers/#werkzeug.wrappers.Response\" title=\"(in Werkzeug v2.0.x)\"><code>werkzeug.wrappers.Response</code></a> if unspecified.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.make_response\">\n<code>flask.make_response(*args)</code> </dt> <dd>\n<p>Sometimes it is necessary to set additional headers in a view. Because views do not have to return response objects but can return a value that is converted into a response object by Flask itself, it becomes tricky to add headers to it. This function can be called instead of using a return and you will get a response object which you can use to attach headers.</p> <p>If view looked like this and you want to add a new header:</p> <pre data-language=\"python\">def index():\n    return render_template('index.html', foo=42)\n</pre> <p>You can now do something like this:</p> <pre data-language=\"python\">def index():\n    response = make_response(render_template('index.html', foo=42))\n    response.headers['X-Parachutes'] = 'parachutes are cool'\n    return response\n</pre> <p>This function accepts the very same arguments you can return from a view function. This for example creates a response with a 404 error code:</p> <pre data-language=\"python\">response = make_response(render_template('not_found.html'), 404)\n</pre> <p>The other use case of this function is to force the return value of a view function into a response which is helpful with view decorators:</p> <pre data-language=\"python\">response = make_response(view_function())\nresponse.headers['X-Parachutes'] = 'parachutes are cool'\n</pre> <p>Internally this function does the following things:</p> <ul class=\"simple\"> <li>if no arguments are passed, it creates a new response argument</li> <li>if one argument is passed, <a class=\"reference internal\" href=\"#flask.Flask.make_response\" title=\"flask.Flask.make_response\"><code>flask.Flask.make_response()</code></a> is invoked with it.</li> <li>if more than one argument is passed, the arguments are passed to the <a class=\"reference internal\" href=\"#flask.Flask.make_response\" title=\"flask.Flask.make_response\"><code>flask.Flask.make_response()</code></a> function as tuple.</li> </ul> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.6.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>args</strong> (<em>Any</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.after_this_request\">\n<code>flask.after_this_request(f)</code> </dt> <dd>\n<p>Executes a function after this request. This is useful to modify response objects. The function is passed the response object and has to return the same or a new one.</p> <p>Example:</p> <pre data-language=\"python\">@app.route('/')\ndef index():\n    @after_this_request\n    def add_header(response):\n        response.headers['X-Foo'] = 'Parachute'\n        return response\n    return 'Hello World!'\n</pre> <p>This is more useful if a function other than the view function wants to modify a response. For instance think of a decorator that wants to add some headers without converting the return value into a response object.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>Callable</em><em>[</em><em>[</em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>]</em><em>, </em><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable[[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>], <a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.send_file\">\n<code>flask.send_file(path_or_file, mimetype=None, as_attachment=False, download_name=None, attachment_filename=None, conditional=True, etag=True, add_etags=None, last_modified=None, max_age=None, cache_timeout=None)</code> </dt> <dd>\n<p>Send the contents of a file to the client.</p> <p>The first argument can be a file path or a file-like object. Paths are preferred in most cases because Werkzeug can manage the file and get extra information from the path. Passing a file-like object requires that the file is opened in binary mode, and is mostly useful when building a file in memory with <a class=\"reference external\" href=\"https://docs.python.org/3/library/io.html#io.BytesIO\" title=\"(in Python v3.9)\"><code>io.BytesIO</code></a>.</p> <p>Never pass file paths provided by a user. The path is assumed to be trusted, so a user could craft a path to access a file you didn’t intend. Use <a class=\"reference internal\" href=\"#flask.send_from_directory\" title=\"flask.send_from_directory\"><code>send_from_directory()</code></a> to safely serve user-requested paths from within a directory.</p> <p>If the WSGI server sets a <code>file_wrapper</code> in <code>environ</code>, it is used, otherwise Werkzeug’s built-in wrapper is used. Alternatively, if the HTTP server supports <code>X-Sendfile</code>, configuring Flask with <code>USE_X_SENDFILE = True</code> will tell the server to send the given path, which is much more efficient than reading it in Python.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>path_or_file</strong> – The path to the file to send, relative to the current working directory if a relative path is given. Alternatively, a file-like object opened in binary mode. Make sure the file pointer is seeked to the start of the data.</li> <li>\n<strong>mimetype</strong> – The MIME type to send for the file. If not provided, it will try to detect it from the file name.</li> <li>\n<strong>as_attachment</strong> – Indicate to a browser that it should offer to save the file instead of displaying it.</li> <li>\n<strong>download_name</strong> – The default name browsers will use when saving the file. Defaults to the passed file name.</li> <li>\n<strong>conditional</strong> – Enable conditional and range responses based on request headers. Requires passing a file path and <code>environ</code>.</li> <li>\n<strong>etag</strong> – Calculate an ETag for the file, which requires passing a file path. Can also be a string to use instead.</li> <li>\n<strong>last_modified</strong> – The last modified time to send for the file, in seconds. If not provided, it will try to detect it from the file path.</li> <li>\n<strong>max_age</strong> – How long the client should cache the file, in seconds. If set, <code>Cache-Control</code> will be <code>public</code>, otherwise it will be <code>no-cache</code> to prefer conditional caching.</li> </ul> </dd> </dl> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span><code>download_name</code> replaces the <code>attachment_filename</code> parameter. If <code>as_attachment=False</code>, it is passed with <code>Content-Disposition: inline</code> instead.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span><code>max_age</code> replaces the <code>cache_timeout</code> parameter. <code>conditional</code> is enabled and <code>max_age</code> is not set by default.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span><code>etag</code> replaces the <code>add_etags</code> parameter. It can be a string to use instead of generating one.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span>Passing a file-like object that inherits from <a class=\"reference external\" href=\"https://docs.python.org/3/library/io.html#io.TextIOBase\" title=\"(in Python v3.9)\"><code>TextIOBase</code></a> will raise a <a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#ValueError\" title=\"(in Python v3.9)\"><code>ValueError</code></a> rather than sending an empty file.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 2.0: </span>Moved the implementation to Werkzeug. This is now a wrapper to pass some Flask-specific arguments.</p> </div> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.1: </span><code>filename</code> may be a <a class=\"reference external\" href=\"https://docs.python.org/3/library/os.html#os.PathLike\" title=\"(in Python v3.9)\"><code>PathLike</code></a> object.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.1: </span>Passing a <a class=\"reference external\" href=\"https://docs.python.org/3/library/io.html#io.BytesIO\" title=\"(in Python v3.9)\"><code>BytesIO</code></a> object supports range requests.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.0.3: </span>Filenames are encoded with ASCII instead of Latin-1 for broader compatibility with WSGI servers.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.0: </span>UTF-8 filenames as specified in <a class=\"rfc reference external\" href=\"https://tools.ietf.org/html/rfc2231.html\" id=\"index-3\"><strong>RFC 2231</strong></a> are supported.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.12: </span>The filename is no longer automatically inferred from file objects. If you want to use automatic MIME and etag support, pass a filename via <code>filename_or_fp</code> or <code>attachment_filename</code>.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.12: </span><code>attachment_filename</code> is preferred over <code>filename</code> for MIME detection.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.9: </span><code>cache_timeout</code> defaults to <a class=\"reference internal\" href=\"#flask.Flask.get_send_file_max_age\" title=\"flask.Flask.get_send_file_max_age\"><code>Flask.get_send_file_max_age()</code></a>.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.7: </span>MIME guessing and etag support for file-like objects was deprecated because it was unreliable. Pass a filename if you are able to, otherwise attach an etag yourself.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.5: </span>The <code>add_etags</code>, <code>cache_timeout</code> and <code>conditional</code> parameters were added. The default behavior is to add etags.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.2.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.send_from_directory\">\n<code>flask.send_from_directory(directory, path, filename=None, **kwargs)</code> </dt> <dd>\n<p>Send a file from within a directory using <a class=\"reference internal\" href=\"#flask.send_file\" title=\"flask.send_file\"><code>send_file()</code></a>.</p> <pre data-language=\"python\">@app.route(\"/uploads/&lt;path:name&gt;\")\ndef download_file(name):\n    return send_from_directory(\n        app.config['UPLOAD_FOLDER'], name, as_attachment=True\n    )\n</pre> <p>This is a secure way to serve files from a folder, such as static files or uploads. Uses <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/utils/#werkzeug.security.safe_join\" title=\"(in Werkzeug v2.0.x)\"><code>safe_join()</code></a> to ensure the path coming from the client is not maliciously crafted to point outside the specified directory.</p> <p>If the final path does not point to an existing regular file, raises a 404 <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.NotFound\" title=\"(in Werkzeug v2.0.x)\"><code>NotFound</code></a> error.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>directory</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – The directory that <code>path</code> must be located under.</li> <li>\n<strong>path</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – The path to the file to send, relative to <code>directory</code>.</li> <li>\n<strong>kwargs</strong> (<em>Any</em>) – Arguments to pass to <a class=\"reference internal\" href=\"#flask.send_file\" title=\"flask.send_file\"><code>send_file()</code></a>.</li> <li>\n<strong>filename</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a></p> </dd> </dl> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span><code>path</code> replaces the <code>filename</code> parameter.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 2.0: </span>Moved the implementation to Werkzeug. This is now a wrapper to pass some Flask-specific arguments.</p> </div> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.5.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.safe_join\">\n<code>flask.safe_join(directory, *pathnames)</code> </dt> <dd>\n<p>Safely join zero or more untrusted path components to a base directory to avoid escaping the base directory.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>directory</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – The trusted base directory.</li> <li>\n<strong>pathnames</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – The untrusted path components relative to the base directory.</li> </ul> </dd> <dt class=\"field-even\">Returns</dt> <dd class=\"field-even\">\n<p>A safe path, otherwise <code>None</code>.</p> </dd> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.escape\">\n<code>flask.escape()</code> </dt> <dd>\n<p>Replace the characters <code>&amp;</code>, <code>&lt;</code>, <code>&gt;</code>, <code>'</code>, and <code>\"</code> in the string with HTML-safe sequences. Use this if you need to display text that might contain such characters in HTML.</p> <p>If the object has an <code>__html__</code> method, it is called and the return value is assumed to already be safe for HTML.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>s</strong> – An object to be converted to a string and escaped.</p> </dd> <dt class=\"field-even\">Returns</dt> <dd class=\"field-even\">\n<p>A <a class=\"reference internal\" href=\"#flask.Markup\" title=\"flask.Markup\"><code>Markup</code></a> string with the escaped text.</p> </dd> </dl> </dd>\n</dl> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.Markup\">\n<code>class flask.Markup(base='', encoding=None, errors='strict')</code> </dt> <dd>\n<p>A string that is ready to be safely inserted into an HTML or XML document, either because it was escaped or because it was marked safe.</p> <p>Passing an object to the constructor converts it to text and wraps it to mark it safe without escaping. To escape the text, use the <a class=\"reference internal\" href=\"#flask.escape\" title=\"flask.escape\"><code>escape()</code></a> class method instead.</p> <pre data-language=\"python\">&gt;&gt;&gt; Markup(\"Hello, &lt;em&gt;World&lt;/em&gt;!\")\nMarkup('Hello, &lt;em&gt;World&lt;/em&gt;!')\n&gt;&gt;&gt; Markup(42)\nMarkup('42')\n&gt;&gt;&gt; Markup.escape(\"Hello, &lt;em&gt;World&lt;/em&gt;!\")\nMarkup('Hello &amp;lt;em&amp;gt;World&amp;lt;/em&amp;gt;!')\n</pre> <p>This implements the <code>__html__()</code> interface that some frameworks use. Passing an object that implements <code>__html__()</code> will wrap the output of that method, marking it safe.</p> <pre data-language=\"python\">&gt;&gt;&gt; class Foo:\n...     def __html__(self):\n...         return '&lt;a href=\"/foo\"&gt;foo&lt;/a&gt;'\n...\n&gt;&gt;&gt; Markup(Foo())\nMarkup('&lt;a href=\"/foo\"&gt;foo&lt;/a&gt;')\n</pre> <p>This is a subclass of <a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\"><code>str</code></a>. It has the same methods, but escapes their arguments and returns a <code>Markup</code> instance.</p> <pre data-language=\"python\">&gt;&gt;&gt; Markup(\"&lt;em&gt;%s&lt;/em&gt;\") % (\"foo &amp; bar\",)\nMarkup('&lt;em&gt;foo &amp;amp; bar&lt;/em&gt;')\n&gt;&gt;&gt; Markup(\"&lt;em&gt;Hello&lt;/em&gt; \") + \"&lt;foo&gt;\"\nMarkup('&lt;em&gt;Hello&lt;/em&gt; &amp;lt;foo&amp;gt;')\n</pre> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>base</strong> (<em>Any</em>) – </li> <li>\n<strong>encoding</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – </li> <li>\n<strong>errors</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference internal\" href=\"#flask.Markup\" title=\"flask.Markup\">Markup</a></p> </dd> </dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Markup.escape\">\n<code>classmethod escape(s)</code> </dt> <dd>\n<p>Escape a string. Calls <a class=\"reference internal\" href=\"#flask.escape\" title=\"flask.escape\"><code>escape()</code></a> and ensures that for subclasses the correct type is returned.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>s</strong> (<em>Any</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference internal\" href=\"#flask.Markup\" title=\"markupsafe.Markup\">markupsafe.Markup</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Markup.striptags\">\n<code>striptags()</code> </dt> <dd>\n<p><a class=\"reference internal\" href=\"#flask.Markup.unescape\" title=\"flask.Markup.unescape\"><code>unescape()</code></a> the markup, remove tags, and normalize whitespace to single spaces.</p> <pre data-language=\"python\">&gt;&gt;&gt; Markup(\"Main &amp;raquo;        &lt;em&gt;About&lt;/em&gt;\").striptags()\n'Main » About'\n</pre> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Markup.unescape\">\n<code>unescape()</code> </dt> <dd>\n<p>Convert escaped markup back into a text string. This replaces HTML entities with the characters they represent.</p> <pre data-language=\"python\">&gt;&gt;&gt; Markup(\"Main &amp;raquo; &lt;em&gt;About&lt;/em&gt;\").unescape()\n'Main » &lt;em&gt;About&lt;/em&gt;'\n</pre> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a></p> </dd> </dl> </dd>\n</dl> </dd>\n</dl>   <h2 id=\"message-flashing\">Message Flashing</h2> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.flash\">\n<code>flask.flash(message, category='message')</code> </dt> <dd>\n<p>Flashes a message to the next request. In order to remove the flashed message from the session and to display it to the user, the template has to call <a class=\"reference internal\" href=\"#flask.get_flashed_messages\" title=\"flask.get_flashed_messages\"><code>get_flashed_messages()</code></a>.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.3: </span><code>category</code> parameter added.</p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>message</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – the message to be flashed.</li> <li>\n<strong>category</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – the category for the message. The following values are recommended: <code>'message'</code> for any kind of message, <code>'error'</code> for errors, <code>'info'</code> for information messages and <code>'warning'</code> for warnings. However any kind of string can be used as category.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.get_flashed_messages\">\n<code>flask.get_flashed_messages(with_categories=False, category_filter=())</code> </dt> <dd>\n<p>Pulls all flashed messages from the session and returns them. Further calls in the same request to the function will return the same messages. By default just the messages are returned, but when <code>with_categories</code> is set to <code>True</code>, the return value will be a list of tuples in the form <code>(category, message)</code> instead.</p> <p>Filter the flashed messages to one or more categories by providing those categories in <code>category_filter</code>. This allows rendering categories in separate html blocks. The <code>with_categories</code> and <code>category_filter</code> arguments are distinct:</p> <ul class=\"simple\"> <li>\n<code>with_categories</code> controls whether categories are returned with message text (<code>True</code> gives a tuple, where <code>False</code> gives just the message text).</li> <li>\n<code>category_filter</code> filters the messages down to only those matching the provided categories.</li> </ul> <p>See <a class=\"reference internal\" href=\"../patterns/flashing/index\"><span class=\"doc\">Message Flashing</span></a> for examples.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.9: </span><code>category_filter</code> parameter added.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.3: </span><code>with_categories</code> parameter added.</p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>with_categories</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – set to <code>True</code> to also receive categories.</li> <li>\n<strong>category_filter</strong> (<em>Iterable</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – filter of categories to limit return values. Only categories in the list will be returned.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Union[List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], List[Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>]]]</p> </dd> </dl> </dd>\n</dl>   <h2 id=\"json-support\">JSON Support</h2> <p id=\"module-flask.json\">Flask uses the built-in <a class=\"reference external\" href=\"https://docs.python.org/3/library/json.html#module-json\" title=\"(in Python v3.9)\"><code>json</code></a> module for handling JSON. It will use the current blueprint’s or application’s JSON encoder and decoder for easier customization. By default it handles some extra data types:</p> <ul class=\"simple\"> <li>\n<a class=\"reference external\" href=\"https://docs.python.org/3/library/datetime.html#datetime.datetime\" title=\"(in Python v3.9)\"><code>datetime.datetime</code></a> and <a class=\"reference external\" href=\"https://docs.python.org/3/library/datetime.html#datetime.date\" title=\"(in Python v3.9)\"><code>datetime.date</code></a> are serialized to <a class=\"rfc reference external\" href=\"https://tools.ietf.org/html/rfc822.html\" id=\"index-4\"><strong>RFC 822</strong></a> strings. This is the same as the HTTP date format.</li> <li>\n<a class=\"reference external\" href=\"https://docs.python.org/3/library/uuid.html#uuid.UUID\" title=\"(in Python v3.9)\"><code>uuid.UUID</code></a> is serialized to a string.</li> <li>\n<code>dataclasses.dataclass</code> is passed to <a class=\"reference external\" href=\"https://docs.python.org/3/library/dataclasses.html#dataclasses.asdict\" title=\"(in Python v3.9)\"><code>dataclasses.asdict()</code></a>.</li> <li>\n<a class=\"reference internal\" href=\"#flask.Markup\" title=\"markupsafe.Markup\"><code>Markup</code></a> (or any object with a <code>__html__</code> method) will call the <code>__html__</code> method to get a string.</li> </ul> <p>Jinja’s <code>|tojson</code> filter is configured to use Flask’s <a class=\"reference internal\" href=\"#flask.json.dumps\" title=\"flask.json.dumps\"><code>dumps()</code></a> function. The filter marks the output with <code>|safe</code> automatically. Use the filter to render data inside <code>&lt;script&gt;</code> tags.</p> <pre data-language=\"html+jinja\">&lt;script type=text/javascript&gt;\n    const names = {{ names|tosjon }};\n    renderChart(names, {{ axis_data|tojson }});\n&lt;/script&gt;\n</pre> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.json.jsonify\">\n<code>flask.json.jsonify(*args, **kwargs)</code> </dt> <dd>\n<p>Serialize data to JSON and wrap it in a <a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\"><code>Response</code></a> with the <em class=\"mimetype\">application/json</em> mimetype.</p> <p>Uses <a class=\"reference internal\" href=\"#flask.json.dumps\" title=\"flask.json.dumps\"><code>dumps()</code></a> to serialize the data, but <code>args</code> and <code>kwargs</code> are treated as data rather than arguments to <a class=\"reference external\" href=\"https://docs.python.org/3/library/json.html#json.dumps\" title=\"(in Python v3.9)\"><code>json.dumps()</code></a>.</p> <ol class=\"arabic simple\"> <li>Single argument: Treated as a single value.</li> <li>Multiple arguments: Treated as a list of values. <code>jsonify(1, 2, 3)</code> is the same as <code>jsonify([1, 2, 3])</code>.</li> <li>Keyword arguments: Treated as a dict of values. <code>jsonify(data=data, errors=errors)</code> is the same as <code>jsonify({\"data\": data, \"errors\": errors})</code>.</li> <li>Passing both arguments and keyword arguments is not allowed as it’s not clear what should happen.</li> </ol> <pre data-language=\"python\">from flask import jsonify\n\n@app.route(\"/users/me\")\ndef get_current_user():\n    return jsonify(\n        username=g.user.username,\n        email=g.user.email,\n        id=g.user.id,\n    )\n</pre> <p>Will return a JSON response like this:</p> <pre data-language=\"javascript\">{\n  \"username\": \"admin\",\n  \"email\": \"admin@localhost\",\n  \"id\": 42\n}\n</pre> <p>The default output omits indents and spaces after separators. In debug mode or if <a class=\"reference internal\" href=\"../config/index#JSONIFY_PRETTYPRINT_REGULAR\" title=\"JSONIFY_PRETTYPRINT_REGULAR\"><code>JSONIFY_PRETTYPRINT_REGULAR</code></a> is <code>True</code>, the output will be formatted to be easier to read.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.11: </span>Added support for serializing top-level arrays. This introduces a security risk in ancient browsers. See <a class=\"reference internal\" href=\"../security/index#security-json\"><span class=\"std std-ref\">JSON Security</span></a>.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.2.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>args</strong> (<em>Any</em>) – </li> <li>\n<strong>kwargs</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.json.dumps\">\n<code>flask.json.dumps(obj, app=None, **kwargs)</code> </dt> <dd>\n<p>Serialize an object to a string of JSON.</p> <p>Takes the same arguments as the built-in <a class=\"reference external\" href=\"https://docs.python.org/3/library/json.html#json.dumps\" title=\"(in Python v3.9)\"><code>json.dumps()</code></a>, with some defaults from application configuration.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>obj</strong> (<em>Any</em>) – Object to serialize to JSON.</li> <li>\n<strong>app</strong> (<em>Optional</em><em>[</em><a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a><em>]</em>) – Use this app’s config instead of the active app context or defaults.</li> <li>\n<strong>kwargs</strong> (<em>Any</em>) – Extra arguments passed to <a class=\"reference external\" href=\"https://docs.python.org/3/library/json.html#json.dumps\" title=\"(in Python v3.9)\"><code>json.dumps()</code></a>.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a></p> </dd> </dl> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span><code>encoding</code> is deprecated and will be removed in Flask 2.1.</p> </div> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.0.3: </span><code>app</code> can be passed directly, rather than requiring an app context for configuration.</p> </div> </details>\n</dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.json.dump\">\n<code>flask.json.dump(obj, fp, app=None, **kwargs)</code> </dt> <dd>\n<p>Serialize an object to JSON written to a file object.</p> <p>Takes the same arguments as the built-in <a class=\"reference external\" href=\"https://docs.python.org/3/library/json.html#json.dump\" title=\"(in Python v3.9)\"><code>json.dump()</code></a>, with some defaults from application configuration.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>obj</strong> (<em>Any</em>) – Object to serialize to JSON.</li> <li>\n<strong>fp</strong> (<em>IO</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – File object to write JSON to.</li> <li>\n<strong>app</strong> (<em>Optional</em><em>[</em><a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a><em>]</em>) – Use this app’s config instead of the active app context or defaults.</li> <li>\n<strong>kwargs</strong> (<em>Any</em>) – Extra arguments passed to <a class=\"reference external\" href=\"https://docs.python.org/3/library/json.html#json.dump\" title=\"(in Python v3.9)\"><code>json.dump()</code></a>.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span>Writing to a binary file, and the <code>encoding</code> argument, is deprecated and will be removed in Flask 2.1.</p> </div> </dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.json.loads\">\n<code>flask.json.loads(s, app=None, **kwargs)</code> </dt> <dd>\n<p>Deserialize an object from a string of JSON.</p> <p>Takes the same arguments as the built-in <a class=\"reference external\" href=\"https://docs.python.org/3/library/json.html#json.loads\" title=\"(in Python v3.9)\"><code>json.loads()</code></a>, with some defaults from application configuration.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>s</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – JSON string to deserialize.</li> <li>\n<strong>app</strong> (<em>Optional</em><em>[</em><a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a><em>]</em>) – Use this app’s config instead of the active app context or defaults.</li> <li>\n<strong>kwargs</strong> (<em>Any</em>) – Extra arguments passed to <a class=\"reference external\" href=\"https://docs.python.org/3/library/json.html#json.loads\" title=\"(in Python v3.9)\"><code>json.loads()</code></a>.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Any</p> </dd> </dl> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span><code>encoding</code> is deprecated and will be removed in Flask 2.1. The data must be a string or UTF-8 bytes.</p> </div> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.0.3: </span><code>app</code> can be passed directly, rather than requiring an app context for configuration.</p> </div> </details>\n</dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.json.load\">\n<code>flask.json.load(fp, app=None, **kwargs)</code> </dt> <dd>\n<p>Deserialize an object from JSON read from a file object.</p> <p>Takes the same arguments as the built-in <a class=\"reference external\" href=\"https://docs.python.org/3/library/json.html#json.load\" title=\"(in Python v3.9)\"><code>json.load()</code></a>, with some defaults from application configuration.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>fp</strong> (<em>IO</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – File object to read JSON from.</li> <li>\n<strong>app</strong> (<em>Optional</em><em>[</em><a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a><em>]</em>) – Use this app’s config instead of the active app context or defaults.</li> <li>\n<strong>kwargs</strong> (<em>Any</em>) – Extra arguments passed to <a class=\"reference external\" href=\"https://docs.python.org/3/library/json.html#json.load\" title=\"(in Python v3.9)\"><code>json.load()</code></a>.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Any</p> </dd> </dl> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span><code>encoding</code> is deprecated and will be removed in Flask 2.1. The file must be text mode, or binary mode with UTF-8 bytes.</p> </div> </dd>\n</dl> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.json.JSONEncoder\">\n<code>class flask.json.JSONEncoder(*, skipkeys=False, ensure_ascii=True, check_circular=True, allow_nan=True, sort_keys=False, indent=None, separators=None, default=None)</code> </dt> <dd>\n<p>The default JSON encoder. Handles extra types compared to the built-in <a class=\"reference external\" href=\"https://docs.python.org/3/library/json.html#json.JSONEncoder\" title=\"(in Python v3.9)\"><code>json.JSONEncoder</code></a>.</p> <ul class=\"simple\"> <li>\n<a class=\"reference external\" href=\"https://docs.python.org/3/library/datetime.html#datetime.datetime\" title=\"(in Python v3.9)\"><code>datetime.datetime</code></a> and <a class=\"reference external\" href=\"https://docs.python.org/3/library/datetime.html#datetime.date\" title=\"(in Python v3.9)\"><code>datetime.date</code></a> are serialized to <a class=\"rfc reference external\" href=\"https://tools.ietf.org/html/rfc822.html\" id=\"index-5\"><strong>RFC 822</strong></a> strings. This is the same as the HTTP date format.</li> <li>\n<a class=\"reference external\" href=\"https://docs.python.org/3/library/uuid.html#uuid.UUID\" title=\"(in Python v3.9)\"><code>uuid.UUID</code></a> is serialized to a string.</li> <li>\n<code>dataclasses.dataclass</code> is passed to <a class=\"reference external\" href=\"https://docs.python.org/3/library/dataclasses.html#dataclasses.asdict\" title=\"(in Python v3.9)\"><code>dataclasses.asdict()</code></a>.</li> <li>\n<a class=\"reference internal\" href=\"#flask.Markup\" title=\"markupsafe.Markup\"><code>Markup</code></a> (or any object with a <code>__html__</code> method) will call the <code>__html__</code> method to get a string.</li> </ul> <p>Assign a subclass of this to <a class=\"reference internal\" href=\"#flask.Flask.json_encoder\" title=\"flask.Flask.json_encoder\"><code>flask.Flask.json_encoder</code></a> or <a class=\"reference internal\" href=\"#flask.Blueprint.json_encoder\" title=\"flask.Blueprint.json_encoder\"><code>flask.Blueprint.json_encoder</code></a> to override the default.</p> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.json.JSONEncoder.default\">\n<code>default(o)</code> </dt> <dd>\n<p>Convert <code>o</code> to a JSON serializable type. See <a class=\"reference external\" href=\"https://docs.python.org/3/library/json.html#json.JSONEncoder.default\" title=\"(in Python v3.9)\"><code>json.JSONEncoder.default()</code></a>. Python does not support overriding how basic types like <code>str</code> or <code>list</code> are serialized, they are handled before this method.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>o</strong> (<em>Any</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Any</p> </dd> </dl> </dd>\n</dl> </dd>\n</dl> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.json.JSONDecoder\">\n<code>class flask.json.JSONDecoder(*, object_hook=None, parse_float=None, parse_int=None, parse_constant=None, strict=True, object_pairs_hook=None)</code> </dt> <dd>\n<p>The default JSON decoder.</p> <p>This does not change any behavior from the built-in <a class=\"reference external\" href=\"https://docs.python.org/3/library/json.html#json.JSONDecoder\" title=\"(in Python v3.9)\"><code>json.JSONDecoder</code></a>.</p> <p>Assign a subclass of this to <a class=\"reference internal\" href=\"#flask.Flask.json_decoder\" title=\"flask.Flask.json_decoder\"><code>flask.Flask.json_decoder</code></a> or <a class=\"reference internal\" href=\"#flask.Blueprint.json_decoder\" title=\"flask.Blueprint.json_decoder\"><code>flask.Blueprint.json_decoder</code></a> to override the default.</p> </dd>\n</dl>  <h3 id=\"tagged-json\">Tagged JSON</h3> <p>A compact representation for lossless serialization of non-standard JSON types. <a class=\"reference internal\" href=\"#flask.sessions.SecureCookieSessionInterface\" title=\"flask.sessions.SecureCookieSessionInterface\"><code>SecureCookieSessionInterface</code></a> uses this to serialize the session data, but it may be useful in other places. It can be extended to support other types.</p> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.json.tag.TaggedJSONSerializer\">\n<code>class flask.json.tag.TaggedJSONSerializer</code> </dt> <dd>\n<p>Serializer that uses a tag system to compactly represent objects that are not JSON types. Passed as the intermediate serializer to <code>itsdangerous.Serializer</code>.</p> <p>The following extra types are supported:</p> <ul class=\"simple\"> <li><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\"><code>dict</code></a></li> <li><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#tuple\" title=\"(in Python v3.9)\"><code>tuple</code></a></li> <li><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#bytes\" title=\"(in Python v3.9)\"><code>bytes</code></a></li> <li><a class=\"reference internal\" href=\"#flask.Markup\" title=\"markupsafe.Markup\"><code>Markup</code></a></li> <li><a class=\"reference external\" href=\"https://docs.python.org/3/library/uuid.html#uuid.UUID\" title=\"(in Python v3.9)\"><code>UUID</code></a></li> <li><a class=\"reference external\" href=\"https://docs.python.org/3/library/datetime.html#datetime.datetime\" title=\"(in Python v3.9)\"><code>datetime</code></a></li> </ul> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.json.tag.TaggedJSONSerializer.default_tags\">\n<code>default_tags = [&lt;class 'flask.json.tag.TagDict'&gt;, &lt;class 'flask.json.tag.PassDict'&gt;, &lt;class 'flask.json.tag.TagTuple'&gt;, &lt;class 'flask.json.tag.PassList'&gt;, &lt;class 'flask.json.tag.TagBytes'&gt;, &lt;class 'flask.json.tag.TagMarkup'&gt;, &lt;class 'flask.json.tag.TagUUID'&gt;, &lt;class 'flask.json.tag.TagDateTime'&gt;]</code> </dt> <dd>\n<p>Tag classes to bind when creating the serializer. Other tags can be added later using <a class=\"reference internal\" href=\"#flask.json.tag.TaggedJSONSerializer.register\" title=\"flask.json.tag.TaggedJSONSerializer.register\"><code>register()</code></a>.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.json.tag.TaggedJSONSerializer.dumps\">\n<code>dumps(value)</code> </dt> <dd>\n<p>Tag the value and dump it to a compact JSON string.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>value</strong> (<em>Any</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.json.tag.TaggedJSONSerializer.loads\">\n<code>loads(value)</code> </dt> <dd>\n<p>Load data from a JSON string and deserialized any tagged objects.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>value</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Any</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.json.tag.TaggedJSONSerializer.register\">\n<code>register(tag_class, force=False, index=None)</code> </dt> <dd>\n<p>Register a new tag with this serializer.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>tag_class</strong> (<em>Type</em><em>[</em><a class=\"reference internal\" href=\"#flask.json.tag.JSONTag\" title=\"flask.json.tag.JSONTag\">flask.json.tag.JSONTag</a><em>]</em>) – tag class to register. Will be instantiated with this serializer instance.</li> <li>\n<strong>force</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – overwrite an existing tag. If false (default), a <a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#KeyError\" title=\"(in Python v3.9)\"><code>KeyError</code></a> is raised.</li> <li>\n<strong>index</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a><em>]</em>) – index to insert the new tag in the tag order. Useful when the new tag is a special case of an existing tag. If <code>None</code> (default), the tag is appended to the end of the order.</li> </ul> </dd> <dt class=\"field-even\">Raises</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#KeyError\" title=\"(in Python v3.9)\"><strong>KeyError</strong></a> – if the tag key is already registered and <code>force</code> is not true.</p> </dd> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.json.tag.TaggedJSONSerializer.tag\">\n<code>tag(value)</code> </dt> <dd>\n<p>Convert a value to a tagged representation if necessary.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>value</strong> (<em>Any</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.json.tag.TaggedJSONSerializer.untag\">\n<code>untag(value)</code> </dt> <dd>\n<p>Convert a tagged representation back to the original type.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>value</strong> (<em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Any</em><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Any</p> </dd> </dl> </dd>\n</dl> </dd>\n</dl> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.json.tag.JSONTag\">\n<code>class flask.json.tag.JSONTag(serializer)</code> </dt> <dd>\n<p>Base class for defining type tags for <a class=\"reference internal\" href=\"#flask.json.tag.TaggedJSONSerializer\" title=\"flask.json.tag.TaggedJSONSerializer\"><code>TaggedJSONSerializer</code></a>.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>serializer</strong> (<a class=\"reference internal\" href=\"#flask.json.tag.TaggedJSONSerializer\" title=\"flask.json.tag.TaggedJSONSerializer\">TaggedJSONSerializer</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.json.tag.JSONTag.check\">\n<code>check(value)</code> </dt> <dd>\n<p>Check if the given value should be tagged by this tag.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>value</strong> (<em>Any</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.json.tag.JSONTag.key\">\n<code>key: Optional[str] = None</code> </dt> <dd>\n<p>The tag to mark the serialized object with. If <code>None</code>, this tag is only used as an intermediate step during tagging.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.json.tag.JSONTag.tag\">\n<code>tag(value)</code> </dt> <dd>\n<p>Convert the value to a valid JSON type and add the tag structure around it.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>value</strong> (<em>Any</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Any</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.json.tag.JSONTag.to_json\">\n<code>to_json(value)</code> </dt> <dd>\n<p>Convert the Python object to an object that is a valid JSON type. The tag will be added later.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>value</strong> (<em>Any</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Any</p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.json.tag.JSONTag.to_python\">\n<code>to_python(value)</code> </dt> <dd>\n<p>Convert the JSON representation back to the correct type. The tag will already be removed.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>value</strong> (<em>Any</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Any</p> </dd> </dl> </dd>\n</dl> </dd>\n</dl> <p>Let’s see an example that adds support for <a class=\"reference external\" href=\"https://docs.python.org/3/library/collections.html#collections.OrderedDict\" title=\"(in Python v3.9)\"><code>OrderedDict</code></a>. Dicts don’t have an order in JSON, so to handle this we will dump the items as a list of <code>[key, value]</code> pairs. Subclass <a class=\"reference internal\" href=\"#flask.json.tag.JSONTag\" title=\"flask.json.tag.JSONTag\"><code>JSONTag</code></a> and give it the new key <code>' od'</code> to identify the type. The session serializer processes dicts first, so insert the new tag at the front of the order since <code>OrderedDict</code> must be processed before <code>dict</code>.</p> <pre data-language=\"python\">from flask.json.tag import JSONTag\n\nclass TagOrderedDict(JSONTag):\n    __slots__ = ('serializer',)\n    key = ' od'\n\n    def check(self, value):\n        return isinstance(value, OrderedDict)\n\n    def to_json(self, value):\n        return [[k, self.serializer.tag(v)] for k, v in iteritems(value)]\n\n    def to_python(self, value):\n        return OrderedDict(value)\n\napp.session_interface.serializer.register(TagOrderedDict, index=0)\n</pre>    <h2 id=\"template-rendering\">Template Rendering</h2> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.render_template\">\n<code>flask.render_template(template_name_or_list, **context)</code> </dt> <dd>\n<p>Renders a template from the template folder with the given context.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>template_name_or_list</strong> (<em>Union</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>List</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em><em>]</em>) – the name of the template to be rendered, or an iterable with template names the first one existing will be rendered</li> <li>\n<strong>context</strong> (<em>Any</em>) – the variables that should be available in the context of the template.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.render_template_string\">\n<code>flask.render_template_string(source, **context)</code> </dt> <dd>\n<p>Renders a template from the given template source string with the given context. Template variables will be autoescaped.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>source</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – the source code of the template to be rendered</li> <li>\n<strong>context</strong> (<em>Any</em>) – the variables that should be available in the context of the template.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.get_template_attribute\">\n<code>flask.get_template_attribute(template_name, attribute)</code> </dt> <dd>\n<p>Loads a macro (or variable) a template exports. This can be used to invoke a macro from within Python code. If you for example have a template named <code>_cider.html</code> with the following contents:</p> <pre data-language=\"html+jinja\">{% macro hello(name) %}Hello {{ name }}!{% endmacro %}\n</pre> <p>You can access this from Python code like this:</p> <pre data-language=\"python\">hello = get_template_attribute('_cider.html', 'hello')\nreturn hello('World')\n</pre> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.2.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>template_name</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – the name of the template</li> <li>\n<strong>attribute</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – the name of the variable of macro to access</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Any</p> </dd> </dl> </dd>\n</dl>   <h2 id=\"configuration\">Configuration</h2> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.Config\">\n<code>class flask.Config(root_path, defaults=None)</code> </dt> <dd>\n<p>Works exactly like a dict but provides ways to fill it from files or special dictionaries. There are two common patterns to populate the config.</p> <p>Either you can fill the config from a config file:</p> <pre data-language=\"python\">app.config.from_pyfile('yourconfig.cfg')\n</pre> <p>Or alternatively you can define the configuration options in the module that calls <a class=\"reference internal\" href=\"#flask.Config.from_object\" title=\"flask.Config.from_object\"><code>from_object()</code></a> or provide an import path to a module that should be loaded. It is also possible to tell it to use the same module and with that provide the configuration values just before the call:</p> <pre data-language=\"python\">DEBUG = True\nSECRET_KEY = 'development key'\napp.config.from_object(__name__)\n</pre> <p>In both cases (loading from any Python file or loading from modules), only uppercase keys are added to the config. This makes it possible to use lowercase values in the config file for temporary values that are not added to the config or to define the config keys in the same file that implements the application.</p> <p>Probably the most interesting way to load configurations is from an environment variable pointing to a file:</p> <pre data-language=\"python\">app.config.from_envvar('YOURAPPLICATION_SETTINGS')\n</pre> <p>In this case before launching the application you have to set this environment variable to the file you want to use. On Linux and OS X use the export statement:</p> <pre data-language=\"python\">export YOURAPPLICATION_SETTINGS='/path/to/config/file'\n</pre> <p>On windows use <code>set</code> instead.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>root_path</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – path to which files are read relative from. When the config object is created by the application, this is the application’s <a class=\"reference internal\" href=\"#flask.Flask.root_path\" title=\"flask.Flask.root_path\"><code>root_path</code></a>.</li> <li>\n<strong>defaults</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a><em>]</em>) – an optional dictionary of default values</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Config.from_envvar\">\n<code>from_envvar(variable_name, silent=False)</code> </dt> <dd>\n<p>Loads a configuration from an environment variable pointing to a configuration file. This is basically just a shortcut with nicer error messages for this line of code:</p> <pre data-language=\"python\">app.config.from_pyfile(os.environ['YOURAPPLICATION_SETTINGS'])\n</pre> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>variable_name</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – name of the environment variable</li> <li>\n<strong>silent</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – set to <code>True</code> if you want silent failure for missing files.</li> </ul> </dd> <dt class=\"field-even\">Returns</dt> <dd class=\"field-even\">\n<p>bool. <code>True</code> if able to load config, <code>False</code> otherwise.</p> </dd> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Config.from_file\">\n<code>from_file(filename, load, silent=False)</code> </dt> <dd>\n<p>Update the values in the config from a file that is loaded using the <code>load</code> parameter. The loaded data is passed to the <a class=\"reference internal\" href=\"#flask.Config.from_mapping\" title=\"flask.Config.from_mapping\"><code>from_mapping()</code></a> method.</p> <pre data-language=\"python\">import toml\napp.config.from_file(\"config.toml\", load=toml.load)\n</pre> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>filename</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – The path to the data file. This can be an absolute path or relative to the config root path.</li> <li>\n<strong>load</strong> (<code>Callable[[Reader], Mapping]</code> where <code>Reader</code> implements a <code>read</code> method.) – A callable that takes a file handle and returns a mapping of loaded data from the file.</li> <li>\n<strong>silent</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – Ignore the file if it doesn’t exist.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a></p> </dd> </dl> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 2.0.</span></p> </div> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Config.from_mapping\">\n<code>from_mapping(mapping=None, **kwargs)</code> </dt> <dd>\n<p>Updates the config like <code>update()</code> ignoring items with non-upper keys.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.11.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>mapping</strong> (<em>Optional</em><em>[</em><em>Mapping</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>Any</em><em>]</em><em>]</em>) – </li> <li>\n<strong>kwargs</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Config.from_object\">\n<code>from_object(obj)</code> </dt> <dd>\n<p>Updates the values from the given object. An object can be of one of the following two types:</p> <ul class=\"simple\"> <li>a string: in this case the object with that name will be imported</li> <li>an actual object reference: that object is used directly</li> </ul> <p>Objects are usually either modules or classes. <a class=\"reference internal\" href=\"#flask.Config.from_object\" title=\"flask.Config.from_object\"><code>from_object()</code></a> loads only the uppercase attributes of the module/class. A <code>dict</code> object will not work with <a class=\"reference internal\" href=\"#flask.Config.from_object\" title=\"flask.Config.from_object\"><code>from_object()</code></a> because the keys of a <code>dict</code> are not attributes of the <code>dict</code> class.</p> <p>Example of module-based configuration:</p> <pre data-language=\"python\">app.config.from_object('yourapplication.default_config')\nfrom yourapplication import default_config\napp.config.from_object(default_config)\n</pre> <p>Nothing is done to the object before loading. If the object is a class and has <code>@property</code> attributes, it needs to be instantiated before being passed to this method.</p> <p>You should not use this function to load the actual configuration but rather configuration defaults. The actual config should be loaded with <a class=\"reference internal\" href=\"#flask.Config.from_pyfile\" title=\"flask.Config.from_pyfile\"><code>from_pyfile()</code></a> and ideally from a location not within the package because the package might be installed system wide.</p> <p>See <a class=\"reference internal\" href=\"../config/index#config-dev-prod\"><span class=\"std std-ref\">Development / Production</span></a> for an example of class-based configuration using <a class=\"reference internal\" href=\"#flask.Config.from_object\" title=\"flask.Config.from_object\"><code>from_object()</code></a>.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>obj</strong> (<em>Union</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.9)\">object</a><em>, </em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – an import name or object</p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Config.from_pyfile\">\n<code>from_pyfile(filename, silent=False)</code> </dt> <dd>\n<p>Updates the values in the config from a Python file. This function behaves as if the file was imported as module with the <a class=\"reference internal\" href=\"#flask.Config.from_object\" title=\"flask.Config.from_object\"><code>from_object()</code></a> function.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>filename</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – the filename of the config. This can either be an absolute filename or a filename relative to the root path.</li> <li>\n<strong>silent</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – set to <code>True</code> if you want silent failure for missing files.</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a></p> </dd> </dl> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7: </span><code>silent</code> parameter.</p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.Config.get_namespace\">\n<code>get_namespace(namespace, lowercase=True, trim_namespace=True)</code> </dt> <dd>\n<p>Returns a dictionary containing a subset of configuration options that match the specified namespace/prefix. Example usage:</p> <pre data-language=\"python\">app.config['IMAGE_STORE_TYPE'] = 'fs'\napp.config['IMAGE_STORE_PATH'] = '/var/app/images'\napp.config['IMAGE_STORE_BASE_URL'] = 'http://img.website.com'\nimage_store_config = app.config.get_namespace('IMAGE_STORE_')\n</pre> <p>The resulting dictionary <code>image_store_config</code> would look like:</p> <pre data-language=\"python\">{\n    'type': 'fs',\n    'path': '/var/app/images',\n    'base_url': 'http://img.website.com'\n}\n</pre> <p>This is often useful when configuration options map directly to keyword arguments in functions or class constructors.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>namespace</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – a configuration namespace</li> <li>\n<strong>lowercase</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – a flag indicating if the keys of the resulting dictionary should be lowercase</li> <li>\n<strong>trim_namespace</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – a flag indicating if the keys of the resulting dictionary should not include the namespace</li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any]</p> </dd> </dl> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.11.</span></p> </div> </details>\n</dd>\n</dl> </dd>\n</dl>   <h2 id=\"stream-helpers\">Stream Helpers</h2> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.stream_with_context\">\n<code>flask.stream_with_context(generator_or_function)</code> </dt> <dd>\n<p>Request contexts disappear when the response is started on the server. This is done for efficiency reasons and to make it less likely to encounter memory leaks with badly written WSGI middlewares. The downside is that if you are using streamed responses, the generator cannot access request bound information any more.</p> <p>This function however can help you keep the context around for longer:</p> <pre data-language=\"python\">from flask import stream_with_context, request, Response\n\n@app.route('/stream')\ndef streamed_response():\n    @stream_with_context\n    def generate():\n        yield 'Hello '\n        yield request.args['name']\n        yield '!'\n    return Response(generate())\n</pre> <p>Alternatively it can also be used around a specific generator:</p> <pre data-language=\"python\">from flask import stream_with_context, request, Response\n\n@app.route('/stream')\ndef streamed_response():\n    def generate():\n        yield 'Hello '\n        yield request.args['name']\n        yield '!'\n    return Response(stream_with_context(generate()))\n</pre> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>generator_or_function</strong> (<em>Union</em><em>[</em><em>Generator</em><em>, </em><em>Callable</em><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Generator</p> </dd> </dl> </dd>\n</dl>   <h2 id=\"useful-internals\">Useful Internals</h2> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.ctx.RequestContext\">\n<code>class flask.ctx.RequestContext(app, environ, request=None, session=None)</code> </dt> <dd>\n<p>The request context contains all request relevant information. It is created at the beginning of the request and pushed to the <code>_request_ctx_stack</code> and removed at the end of it. It will create the URL adapter and request object for the WSGI environment provided.</p> <p>Do not attempt to use this class directly, instead use <a class=\"reference internal\" href=\"#flask.Flask.test_request_context\" title=\"flask.Flask.test_request_context\"><code>test_request_context()</code></a> and <a class=\"reference internal\" href=\"#flask.Flask.request_context\" title=\"flask.Flask.request_context\"><code>request_context()</code></a> to create this object.</p> <p>When the request context is popped, it will evaluate all the functions registered on the application for teardown execution (<a class=\"reference internal\" href=\"#flask.Flask.teardown_request\" title=\"flask.Flask.teardown_request\"><code>teardown_request()</code></a>).</p> <p>The request context is automatically popped at the end of the request for you. In debug mode the request context is kept around if exceptions happen so that interactive debuggers have a chance to introspect the data. With 0.4 this can also be forced for requests that did not fail and outside of <code>DEBUG</code> mode. By setting <code>'flask._preserve_context'</code> to <code>True</code> on the WSGI environment the context will not pop itself at the end of the request. This is used by the <a class=\"reference internal\" href=\"#flask.Flask.test_client\" title=\"flask.Flask.test_client\"><code>test_client()</code></a> for example to implement the deferred cleanup functionality.</p> <p>You might find this helpful for unittests where you need the information from the context local around for a little longer. Make sure to properly <code>pop()</code> the stack yourself in that situation, otherwise your unittests will leak memory.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>app</strong> (<a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a>) – </li> <li>\n<strong>environ</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.9)\">dict</a>) – </li> <li>\n<strong>request</strong> (<em>Optional</em><em>[</em><a class=\"reference internal\" href=\"#flask.Request\" title=\"flask.Request\">Request</a><em>]</em>) – </li> <li>\n<strong>session</strong> (<em>Optional</em><em>[</em><a class=\"reference internal\" href=\"#flask.sessions.SessionMixin\" title=\"flask.sessions.SessionMixin\">SessionMixin</a><em>]</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.ctx.RequestContext.copy\">\n<code>copy()</code> </dt> <dd>\n<p>Creates a copy of this request context with the same request object. This can be used to move a request context to a different greenlet. Because the actual request object is the same this cannot be used to move a request context to a different thread unless access to the request object is locked.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.1: </span>The current session object is used instead of reloading the original data. This prevents <code>flask.session</code> pointing to an out-of-date object.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10.</span></p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference internal\" href=\"#flask.ctx.RequestContext\" title=\"flask.ctx.RequestContext\">flask.ctx.RequestContext</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.ctx.RequestContext.match_request\">\n<code>match_request()</code> </dt> <dd>\n<p>Can be overridden by a subclass to hook into the matching of the request.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.ctx.RequestContext.pop\">\n<code>pop(exc=&lt;object object&gt;)</code> </dt> <dd>\n<p>Pops the request context and unbinds it by doing that. This will also trigger the execution of functions registered by the <a class=\"reference internal\" href=\"#flask.Flask.teardown_request\" title=\"flask.Flask.teardown_request\"><code>teardown_request()</code></a> decorator.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.9: </span>Added the <code>exc</code> argument.</p> </div> </details><dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>exc</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#BaseException\" title=\"(in Python v3.9)\">BaseException</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.ctx.RequestContext.push\">\n<code>push()</code> </dt> <dd>\n<p>Binds the request context to the current context.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"flask._request_ctx_stack\">\n<code>flask._request_ctx_stack</code> </dt> <dd>\n<p>The internal <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/local/#werkzeug.local.LocalStack\" title=\"(in Werkzeug v2.0.x)\"><code>LocalStack</code></a> that holds <a class=\"reference internal\" href=\"#flask.ctx.RequestContext\" title=\"flask.ctx.RequestContext\"><code>RequestContext</code></a> instances. Typically, the <a class=\"reference internal\" href=\"#flask.request\" title=\"flask.request\"><code>request</code></a> and <a class=\"reference internal\" href=\"#flask.session\" title=\"flask.session\"><code>session</code></a> proxies should be accessed instead of the stack. It may be useful to access the stack in extension code.</p> <p>The following attributes are always present on each layer of the stack:</p> <dl class=\"simple\"> <dt>\n<code>app</code> </dt>\n<dd>\n<p>the active Flask application.</p> </dd> <dt>\n<code>url_adapter</code> </dt>\n<dd>\n<p>the URL adapter that was used to match the request.</p> </dd> <dt>\n<code>request</code> </dt>\n<dd>\n<p>the current request object.</p> </dd> <dt>\n<code>session</code> </dt>\n<dd>\n<p>the active session object.</p> </dd> <dt>\n<code>g</code> </dt>\n<dd>\n<p>an object with all the attributes of the <a class=\"reference internal\" href=\"#flask.g\" title=\"flask.g\"><code>flask.g</code></a> object.</p> </dd> <dt>\n<code>flashes</code> </dt>\n<dd>\n<p>an internal cache for the flashed messages.</p> </dd> </dl> <p>Example usage:</p> <pre data-language=\"python\">from flask import _request_ctx_stack\n\ndef get_session():\n    ctx = _request_ctx_stack.top\n    if ctx is not None:\n        return ctx.session\n</pre> </dd>\n</dl> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.ctx.AppContext\">\n<code>class flask.ctx.AppContext(app)</code> </dt> <dd>\n<p>The application context binds an application object implicitly to the current thread or greenlet, similar to how the <a class=\"reference internal\" href=\"#flask.ctx.RequestContext\" title=\"flask.ctx.RequestContext\"><code>RequestContext</code></a> binds request information. The application context is also implicitly created if a request context is created but the application is not on top of the individual application context.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>app</strong> (<a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.ctx.AppContext.pop\">\n<code>pop(exc=&lt;object object&gt;)</code> </dt> <dd>\n<p>Pops the app context.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>exc</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#BaseException\" title=\"(in Python v3.9)\">BaseException</a><em>]</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.ctx.AppContext.push\">\n<code>push()</code> </dt> <dd>\n<p>Binds the app context to the current context.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"flask._app_ctx_stack\">\n<code>flask._app_ctx_stack</code> </dt> <dd>\n<p>The internal <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/local/#werkzeug.local.LocalStack\" title=\"(in Werkzeug v2.0.x)\"><code>LocalStack</code></a> that holds <a class=\"reference internal\" href=\"#flask.ctx.AppContext\" title=\"flask.ctx.AppContext\"><code>AppContext</code></a> instances. Typically, the <a class=\"reference internal\" href=\"#flask.current_app\" title=\"flask.current_app\"><code>current_app</code></a> and <a class=\"reference internal\" href=\"#flask.g\" title=\"flask.g\"><code>g</code></a> proxies should be accessed instead of the stack. Extensions can access the contexts on the stack as a namespace to store data.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.blueprints.BlueprintSetupState\">\n<code>class flask.blueprints.BlueprintSetupState(blueprint, app, options, first_registration)</code> </dt> <dd>\n<p>Temporary holder object for registering a blueprint with the application. An instance of this class is created by the <a class=\"reference internal\" href=\"#flask.Blueprint.make_setup_state\" title=\"flask.Blueprint.make_setup_state\"><code>make_setup_state()</code></a> method and later passed to all register callback functions.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>blueprint</strong> (<a class=\"reference internal\" href=\"#flask.Blueprint\" title=\"flask.blueprints.Blueprint\">Blueprint</a>) – </li> <li>\n<strong>app</strong> (<a class=\"reference internal\" href=\"#flask.Flask\" title=\"flask.Flask\">Flask</a>) – </li> <li>\n<strong>options</strong> (<em>Any</em>) – </li> <li>\n<strong>first_registration</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.9)\">bool</a>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.blueprints.BlueprintSetupState.add_url_rule\">\n<code>add_url_rule(rule, endpoint=None, view_func=None, **options)</code> </dt> <dd>\n<p>A helper method to register a rule (and optionally a view function) to the application. The endpoint is automatically prefixed with the blueprint’s name.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>rule</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </li> <li>\n<strong>endpoint</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – </li> <li>\n<strong>view_func</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>]</em>) – </li> <li>\n<strong>options</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.blueprints.BlueprintSetupState.app\">\n<code>app</code> </dt> <dd>\n<p>a reference to the current application</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.blueprints.BlueprintSetupState.blueprint\">\n<code>blueprint</code> </dt> <dd>\n<p>a reference to the blueprint that created this setup state.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.blueprints.BlueprintSetupState.first_registration\">\n<code>first_registration</code> </dt> <dd>\n<p>as blueprints can be registered multiple times with the application and not everything wants to be registered multiple times on it, this attribute can be used to figure out if the blueprint was registered in the past already.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.blueprints.BlueprintSetupState.options\">\n<code>options</code> </dt> <dd>\n<p>a dictionary with all options that were passed to the <a class=\"reference internal\" href=\"#flask.Flask.register_blueprint\" title=\"flask.Flask.register_blueprint\"><code>register_blueprint()</code></a> method.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.blueprints.BlueprintSetupState.subdomain\">\n<code>subdomain</code> </dt> <dd>\n<p>The subdomain that the blueprint should be active for, <code>None</code> otherwise.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.blueprints.BlueprintSetupState.url_defaults\">\n<code>url_defaults</code> </dt> <dd>\n<p>A dictionary with URL defaults that is added to each and every URL that was defined with the blueprint.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.blueprints.BlueprintSetupState.url_prefix\">\n<code>url_prefix</code> </dt> <dd>\n<p>The prefix that should be used for all URLs defined on the blueprint.</p> </dd>\n</dl> </dd>\n</dl>   <h2 id=\"core-signals-list\">Signals</h2> <details class=\"changelog\" id=\"signals\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.6.</span></p> </div> </details><dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"flask.signals.signals_available\">\n<code>signals.signals_available</code> </dt> <dd>\n<p><code>True</code> if the signaling system is available. This is the case when <a class=\"reference external\" href=\"https://pypi.org/project/blinker/\">blinker</a> is installed.</p> </dd>\n</dl> <p>The following signals exist in Flask:</p> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"flask.template_rendered\">\n<code>flask.template_rendered</code> </dt> <dd>\n<p>This signal is sent when a template was successfully rendered. The signal is invoked with the instance of the template as <code>template</code> and the context as dictionary (named <code>context</code>).</p> <p>Example subscriber:</p> <pre data-language=\"python\">def log_template_renders(sender, template, context, **extra):\n    sender.logger.debug('Rendering template \"%s\" with context %s',\n                        template.name or 'string template',\n                        context)\n\nfrom flask import template_rendered\ntemplate_rendered.connect(log_template_renders, app)\n</pre> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\"> <span class=\"sig-prename descclassname\">flask.</span><span class=\"sig-name descname\">before_render_template</span>\n</dt> <dd>\n<p>This signal is sent before template rendering process. The signal is invoked with the instance of the template as <code>template</code> and the context as dictionary (named <code>context</code>).</p> <p>Example subscriber:</p> <pre data-language=\"python\">def log_template_renders(sender, template, context, **extra):\n    sender.logger.debug('Rendering template \"%s\" with context %s',\n                        template.name or 'string template',\n                        context)\n\nfrom flask import before_render_template\nbefore_render_template.connect(log_template_renders, app)\n</pre> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"flask.request_started\">\n<code>flask.request_started</code> </dt> <dd>\n<p>This signal is sent when the request context is set up, before any request processing happens. Because the request context is already bound, the subscriber can access the request with the standard global proxies such as <a class=\"reference internal\" href=\"#flask.request\" title=\"flask.request\"><code>request</code></a>.</p> <p>Example subscriber:</p> <pre data-language=\"python\">def log_request(sender, **extra):\n    sender.logger.debug('Request context is set up')\n\nfrom flask import request_started\nrequest_started.connect(log_request, app)\n</pre> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"flask.request_finished\">\n<code>flask.request_finished</code> </dt> <dd>\n<p>This signal is sent right before the response is sent to the client. It is passed the response to be sent named <code>response</code>.</p> <p>Example subscriber:</p> <pre data-language=\"python\">def log_response(sender, response, **extra):\n    sender.logger.debug('Request context is about to close down.  '\n                        'Response: %s', response)\n\nfrom flask import request_finished\nrequest_finished.connect(log_response, app)\n</pre> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"flask.got_request_exception\">\n<code>flask.got_request_exception</code> </dt> <dd>\n<p>This signal is sent when an unhandled exception happens during request processing, including when debugging. The exception is passed to the subscriber as <code>exception</code>.</p> <p>This signal is not sent for <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.HTTPException\" title=\"(in Werkzeug v2.0.x)\"><code>HTTPException</code></a>, or other exceptions that have error handlers registered, unless the exception was raised from an error handler.</p> <p>This example shows how to do some extra logging if a theoretical <code>SecurityException</code> was raised:</p> <pre data-language=\"python\">from flask import got_request_exception\n\ndef log_security_exception(sender, exception, **extra):\n    if not isinstance(exception, SecurityException):\n        return\n\n    security_logger.exception(\n        f\"SecurityException at {request.url!r}\",\n        exc_info=exception,\n    )\n\ngot_request_exception.connect(log_security_exception, app)\n</pre> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"flask.request_tearing_down\">\n<code>flask.request_tearing_down</code> </dt> <dd>\n<p>This signal is sent when the request is tearing down. This is always called, even if an exception is caused. Currently functions listening to this signal are called after the regular teardown handlers, but this is not something you can rely on.</p> <p>Example subscriber:</p> <pre data-language=\"python\">def close_db_connection(sender, **extra):\n    session.close()\n\nfrom flask import request_tearing_down\nrequest_tearing_down.connect(close_db_connection, app)\n</pre> <p>As of Flask 0.9, this will also be passed an <code>exc</code> keyword argument that has a reference to the exception that caused the teardown if there was one.</p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"flask.appcontext_tearing_down\">\n<code>flask.appcontext_tearing_down</code> </dt> <dd>\n<p>This signal is sent when the app context is tearing down. This is always called, even if an exception is caused. Currently functions listening to this signal are called after the regular teardown handlers, but this is not something you can rely on.</p> <p>Example subscriber:</p> <pre data-language=\"python\">def close_db_connection(sender, **extra):\n    session.close()\n\nfrom flask import appcontext_tearing_down\nappcontext_tearing_down.connect(close_db_connection, app)\n</pre> <p>This will also be passed an <code>exc</code> keyword argument that has a reference to the exception that caused the teardown if there was one.</p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"flask.appcontext_pushed\">\n<code>flask.appcontext_pushed</code> </dt> <dd>\n<p>This signal is sent when an application context is pushed. The sender is the application. This is usually useful for unittests in order to temporarily hook in information. For instance it can be used to set a resource early onto the <code>g</code> object.</p> <p>Example usage:</p> <pre data-language=\"python\">from contextlib import contextmanager\nfrom flask import appcontext_pushed\n\n@contextmanager\ndef user_set(app, user):\n    def handler(sender, **kwargs):\n        g.user = user\n    with appcontext_pushed.connected_to(handler, app):\n        yield\n</pre> <p>And in the testcode:</p> <pre data-language=\"python\">def test_user_me(self):\n    with user_set(app, 'john'):\n        c = app.test_client()\n        resp = c.get('/users/me')\n        assert resp.data == 'username=john'\n</pre> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"flask.appcontext_popped\">\n<code>flask.appcontext_popped</code> </dt> <dd>\n<p>This signal is sent when an application context is popped. The sender is the application. This usually falls in line with the <a class=\"reference internal\" href=\"#flask.appcontext_tearing_down\" title=\"flask.appcontext_tearing_down\"><code>appcontext_tearing_down</code></a> signal.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"flask.message_flashed\">\n<code>flask.message_flashed</code> </dt> <dd>\n<p>This signal is sent when the application is flashing a message. The messages is sent as <code>message</code> keyword argument and the category as <code>category</code>.</p> <p>Example subscriber:</p> <pre data-language=\"python\">recorded = []\ndef record(sender, message, category, **extra):\n    recorded.append((message, category))\n\nfrom flask import message_flashed\nmessage_flashed.connect(record, app)\n</pre> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.signals.Namespace\">\n<code>class signals.Namespace</code> </dt> <dd>\n<p>An alias for <a class=\"reference external\" href=\"https://pythonhosted.org/blinker/index.html#blinker.base.Namespace\" title=\"(in Blinker v1.4)\"><code>blinker.base.Namespace</code></a> if blinker is available, otherwise a dummy class that creates fake signals. This class is available for Flask extensions that want to provide the same fallback system as Flask itself.</p> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.signals.Namespace.signal\">\n<code>signal(name, doc=None)</code> </dt> <dd>\n<p>Creates a new signal for this namespace if blinker is available, otherwise returns a fake signal that has a send method that will do nothing but will fail with a <a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#RuntimeError\" title=\"(in Python v3.9)\"><code>RuntimeError</code></a> for all other operations, including connecting.</p> </dd>\n</dl> </dd>\n</dl>   <h2 id=\"class-based-views\">Class-Based Views</h2> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details><dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.views.View\">\n<code>class flask.views.View</code> </dt> <dd>\n<p>Alternative way to use view functions. A subclass has to implement <a class=\"reference internal\" href=\"#flask.views.View.dispatch_request\" title=\"flask.views.View.dispatch_request\"><code>dispatch_request()</code></a> which is called with the view arguments from the URL routing system. If <a class=\"reference internal\" href=\"#flask.views.View.methods\" title=\"flask.views.View.methods\"><code>methods</code></a> is provided the methods do not have to be passed to the <a class=\"reference internal\" href=\"#flask.Flask.add_url_rule\" title=\"flask.Flask.add_url_rule\"><code>add_url_rule()</code></a> method explicitly:</p> <pre data-language=\"python\">class MyView(View):\n    methods = ['GET']\n\n    def dispatch_request(self, name):\n        return f\"Hello {name}!\"\n\napp.add_url_rule('/hello/&lt;name&gt;', view_func=MyView.as_view('myview'))\n</pre> <p>When you want to decorate a pluggable view you will have to either do that when the view function is created (by wrapping the return value of <a class=\"reference internal\" href=\"#flask.views.View.as_view\" title=\"flask.views.View.as_view\"><code>as_view()</code></a>) or you can use the <a class=\"reference internal\" href=\"#flask.views.View.decorators\" title=\"flask.views.View.decorators\"><code>decorators</code></a> attribute:</p> <pre data-language=\"python\">class SecretView(View):\n    methods = ['GET']\n    decorators = [superuser_required]\n\n    def dispatch_request(self):\n        ...\n</pre> <p>The decorators stored in the decorators list are applied one after another when the view function is created. Note that you can <em>not</em> use the class based decorators since those would decorate the view class and not the generated view function!</p> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.views.View.as_view\">\n<code>classmethod as_view(name, *class_args, **class_kwargs)</code> </dt> <dd>\n<p>Converts the class into an actual view function that can be used with the routing system. Internally this generates a function on the fly which will instantiate the <a class=\"reference internal\" href=\"#flask.views.View\" title=\"flask.views.View\"><code>View</code></a> on each request and call the <a class=\"reference internal\" href=\"#flask.views.View.dispatch_request\" title=\"flask.views.View.dispatch_request\"><code>dispatch_request()</code></a> method on it.</p> <p>The arguments passed to <a class=\"reference internal\" href=\"#flask.views.View.as_view\" title=\"flask.views.View.as_view\"><code>as_view()</code></a> are forwarded to the constructor of the class.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>name</strong> (<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>) – </li> <li>\n<strong>class_args</strong> (<em>Any</em>) – </li> <li>\n<strong>class_kwargs</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Callable</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.views.View.decorators\">\n<code>decorators: List[Callable] = []</code> </dt> <dd>\n<p>The canonical way to decorate class-based views is to decorate the return value of as_view(). However since this moves parts of the logic from the class declaration to the place where it’s hooked into the routing system.</p> <p>You can place one or more decorators in this list and whenever the view function is created the result is automatically decorated.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.8.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.views.View.dispatch_request\">\n<code>dispatch_request()</code> </dt> <dd>\n<p>Subclasses have to override this method to implement the actual view function code. This method is called with all the arguments from the URL rule.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Return type</dt> <dd class=\"field-odd\">\n<p>Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>], Tuple[Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]], Union[Headers, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]], List[Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]]]]], Tuple[Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]], <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a>], Tuple[Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]], <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a>, Union[Headers, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]], List[Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]]]]], WSGIApplication]</p> </dd> </dl> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.views.View.methods\">\n<code>methods: Optional[List[str]] = None</code> </dt> <dd>\n<p>A list of methods this view can handle.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.views.View.provide_automatic_options\">\n<code>provide_automatic_options: Optional[bool] = None</code> </dt> <dd>\n<p>Setting this disables or force-enables the automatic options handling.</p> </dd>\n</dl> </dd>\n</dl> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.views.MethodView\">\n<code>class flask.views.MethodView</code> </dt> <dd>\n<p>A class-based view that dispatches request methods to the corresponding class methods. For example, if you implement a <code>get</code> method, it will be used to handle <code>GET</code> requests.</p> <pre data-language=\"python\">class CounterAPI(MethodView):\n    def get(self):\n        return session.get('counter', 0)\n\n    def post(self):\n        session['counter'] = session.get('counter', 0) + 1\n        return 'OK'\n\napp.add_url_rule('/counter', view_func=CounterAPI.as_view('counter'))\n</pre> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.views.MethodView.dispatch_request\">\n<code>dispatch_request(*args, **kwargs)</code> </dt> <dd>\n<p>Subclasses have to override this method to implement the actual view function code. This method is called with all the arguments from the URL rule.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>args</strong> (<em>Any</em>) – </li> <li>\n<strong>kwargs</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>], Tuple[Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]], Union[Headers, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]], List[Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]]]]], Tuple[Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]], <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a>], Tuple[Union[<a class=\"reference internal\" href=\"#flask.Response\" title=\"flask.Response\">Response</a>, AnyStr, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Any], Generator[AnyStr, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a>]], <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.9)\">int</a>, Union[Headers, Dict[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]], List[Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, Union[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, List[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>], Tuple[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a>, …]]]]]], WSGIApplication]</p> </dd> </dl> </dd>\n</dl> </dd>\n</dl>   <h2 id=\"id1\">URL Route Registrations</h2> <p id=\"url-route-registrations\">Generally there are three ways to define rules for the routing system:</p> <ol class=\"arabic simple\"> <li>You can use the <a class=\"reference internal\" href=\"#flask.Flask.route\" title=\"flask.Flask.route\"><code>flask.Flask.route()</code></a> decorator.</li> <li>You can use the <a class=\"reference internal\" href=\"#flask.Flask.add_url_rule\" title=\"flask.Flask.add_url_rule\"><code>flask.Flask.add_url_rule()</code></a> function.</li> <li>You can directly access the underlying Werkzeug routing system which is exposed as <a class=\"reference internal\" href=\"#flask.Flask.url_map\" title=\"flask.Flask.url_map\"><code>flask.Flask.url_map</code></a>.</li> </ol> <p>Variable parts in the route can be specified with angular brackets (<code>/user/&lt;username&gt;</code>). By default a variable part in the URL accepts any string without a slash however a different converter can be specified as well by using <code>&lt;converter:name&gt;</code>.</p> <p>Variable parts are passed to the view function as keyword arguments.</p> <p>The following converters are available:</p> <table class=\"docutils align-default\">   <tr>\n<td><p><code>string</code></p></td> <td><p>accepts any text without a slash (the default)</p></td> </tr> <tr>\n<td><p><code>int</code></p></td> <td><p>accepts integers</p></td> </tr> <tr>\n<td><p><code>float</code></p></td> <td><p>like <code>int</code> but for floating point values</p></td> </tr> <tr>\n<td><p><code>path</code></p></td> <td><p>like the default but also accepts slashes</p></td> </tr> <tr>\n<td><p><code>any</code></p></td> <td><p>matches one of the items provided</p></td> </tr> <tr>\n<td><p><code>uuid</code></p></td> <td><p>accepts UUID strings</p></td> </tr>  </table> <p>Custom converters can be defined using <a class=\"reference internal\" href=\"#flask.Flask.url_map\" title=\"flask.Flask.url_map\"><code>flask.Flask.url_map</code></a>.</p> <p>Here are some examples:</p> <pre data-language=\"python\">@app.route('/')\ndef index():\n    pass\n\n@app.route('/&lt;username&gt;')\ndef show_user(username):\n    pass\n\n@app.route('/post/&lt;int:post_id&gt;')\ndef show_post(post_id):\n    pass\n</pre> <p>An important detail to keep in mind is how Flask deals with trailing slashes. The idea is to keep each URL unique so the following rules apply:</p> <ol class=\"arabic simple\"> <li>If a rule ends with a slash and is requested without a slash by the user, the user is automatically redirected to the same page with a trailing slash attached.</li> <li>If a rule does not end with a trailing slash and the user requests the page with a trailing slash, a 404 not found is raised.</li> </ol> <p>This is consistent with how web servers deal with static files. This also makes it possible to use relative link targets safely.</p> <p>You can also define multiple rules for the same function. They have to be unique however. Defaults can also be specified. Here for example is a definition for a URL that accepts an optional page:</p> <pre data-language=\"python\">@app.route('/users/', defaults={'page': 1})\n@app.route('/users/page/&lt;int:page&gt;')\ndef show_users(page):\n    pass\n</pre> <p>This specifies that <code>/users/</code> will be the URL for page one and <code>/users/page/N</code> will be the URL for page <code>N</code>.</p> <p>If a URL contains a default value, it will be redirected to its simpler form with a 301 redirect. In the above example, <code>/users/page/1</code> will be redirected to <code>/users/</code>. If your route handles <code>GET</code> and <code>POST</code> requests, make sure the default route only handles <code>GET</code>, as redirects can’t preserve form data.</p> <pre data-language=\"python\">@app.route('/region/', defaults={'id': 1})\n@app.route('/region/&lt;int:id&gt;', methods=['GET', 'POST'])\ndef region(id):\n   pass\n</pre> <p>Here are the parameters that <a class=\"reference internal\" href=\"#flask.Flask.route\" title=\"flask.Flask.route\"><code>route()</code></a> and <a class=\"reference internal\" href=\"#flask.Flask.add_url_rule\" title=\"flask.Flask.add_url_rule\"><code>add_url_rule()</code></a> accept. The only difference is that with the route parameter the view function is defined with the decorator instead of the <code>view_func</code> parameter.</p> <table class=\"docutils align-default\">   <tr>\n<td><p><code>rule</code></p></td> <td><p>the URL rule as string</p></td> </tr> <tr>\n<td><p><code>endpoint</code></p></td> <td><p>the endpoint for the registered URL rule. Flask itself assumes that the name of the view function is the name of the endpoint if not explicitly stated.</p></td> </tr> <tr>\n<td><p><code>view_func</code></p></td> <td><p>the function to call when serving a request to the provided endpoint. If this is not provided one can specify the function later by storing it in the <a class=\"reference internal\" href=\"#flask.Flask.view_functions\" title=\"flask.Flask.view_functions\"><code>view_functions</code></a> dictionary with the endpoint as key.</p></td> </tr> <tr>\n<td><p><code>defaults</code></p></td> <td><p>A dictionary with defaults for this rule. See the example above for how defaults work.</p></td> </tr> <tr>\n<td><p><code>subdomain</code></p></td> <td><p>specifies the rule for the subdomain in case subdomain matching is in use. If not specified the default subdomain is assumed.</p></td> </tr> <tr>\n<td><p><code>**options</code></p></td> <td><p>the options to be forwarded to the underlying <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/routing/#werkzeug.routing.Rule\" title=\"(in Werkzeug v2.0.x)\"><code>Rule</code></a> object. A change to Werkzeug is handling of method options. methods is a list of methods this rule should be limited to (<code>GET</code>, <code>POST</code> etc.). By default a rule just listens for <code>GET</code> (and implicitly <code>HEAD</code>). Starting with Flask 0.6, <code>OPTIONS</code> is implicitly added and handled by the standard request handling. They have to be specified as keyword arguments.</p></td> </tr>  </table>   <h2 id=\"view-function-options\">View Function Options</h2> <p>For internal usage the view functions can have some attributes attached to customize behavior the view function would normally not have control over. The following attributes can be provided optionally to either override some defaults to <a class=\"reference internal\" href=\"#flask.Flask.add_url_rule\" title=\"flask.Flask.add_url_rule\"><code>add_url_rule()</code></a> or general behavior:</p> <ul class=\"simple\"> <li>\n<code>__name__</code>: The name of a function is by default used as endpoint. If endpoint is provided explicitly this value is used. Additionally this will be prefixed with the name of the blueprint by default which cannot be customized from the function itself.</li> <li>\n<code>methods</code>: If methods are not provided when the URL rule is added, Flask will look on the view function object itself if a <code>methods</code> attribute exists. If it does, it will pull the information for the methods from there.</li> <li>\n<code>provide_automatic_options</code>: if this attribute is set Flask will either force enable or disable the automatic implementation of the HTTP <code>OPTIONS</code> response. This can be useful when working with decorators that want to customize the <code>OPTIONS</code> response on a per-view basis.</li> <li>\n<code>required_methods</code>: if this attribute is set, Flask will always add these methods when registering a URL rule even if the methods were explicitly overridden in the <code>route()</code> call.</li> </ul> <p>Full example:</p> <pre data-language=\"python\">def index():\n    if request.method == 'OPTIONS':\n        # custom options handling here\n        ...\n    return 'Hello World!'\nindex.provide_automatic_options = False\nindex.methods = ['GET', 'OPTIONS']\n\napp.add_url_rule('/', index)\n</pre> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.8: </span>The <code>provide_automatic_options</code> functionality was added.</p> </div> </details>  <h2 id=\"command-line-interface\">Command Line Interface</h2> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.cli.FlaskGroup\">\n<code>class flask.cli.FlaskGroup(add_default_commands=True, create_app=None, add_version_option=True, load_dotenv=True, set_debug_flag=True, **extra)</code> </dt> <dd>\n<p>Special subclass of the <a class=\"reference internal\" href=\"#flask.cli.AppGroup\" title=\"flask.cli.AppGroup\"><code>AppGroup</code></a> group that supports loading more commands from the configured Flask app. Normally a developer does not have to interface with this class but there are some very advanced use cases for which it makes sense to create an instance of this. see <a class=\"reference internal\" href=\"../cli/index#custom-scripts\"><span class=\"std std-ref\">Custom Scripts</span></a>.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>add_default_commands</strong> – if this is True then the default run and shell commands will be added.</li> <li>\n<strong>add_version_option</strong> – adds the <code>--version</code> option.</li> <li>\n<strong>create_app</strong> – an optional callback that is passed the script info and returns the loaded app.</li> <li>\n<strong>load_dotenv</strong> – Load the nearest <code>.env</code> and <code>.flaskenv</code> files to set environment variables. Will also change the working directory to the directory containing the first file found.</li> <li>\n<strong>set_debug_flag</strong> – Set the app’s debug flag based on the active environment</li> </ul> </dd> </dl> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.0: </span>If installed, python-dotenv will be used to load environment variables from <code>.env</code> and <code>.flaskenv</code> files.</p> </div> </details><dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.cli.FlaskGroup.get_command\">\n<code>get_command(ctx, name)</code> </dt> <dd>\n<p>Given a context and a command name, this returns a <code>Command</code> object if it exists or returns <code>None</code>.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.cli.FlaskGroup.list_commands\">\n<code>list_commands(ctx)</code> </dt> <dd>\n<p>Returns a list of subcommand names in the order they should appear.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.cli.FlaskGroup.main\">\n<code>main(*args, **kwargs)</code> </dt> <dd>\n<p>This is the way to invoke a script with all the bells and whistles as a command line application. This will always terminate the application after a call. If this is not wanted, <code>SystemExit</code> needs to be caught.</p> <p>This method is also available by directly calling the instance of a <code>Command</code>.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>args</strong> – the arguments that should be used for parsing. If not provided, <code>sys.argv[1:]</code> is used.</li> <li>\n<strong>prog_name</strong> – the program name that should be used. By default the program name is constructed by taking the file name from <code>sys.argv[0]</code>.</li> <li>\n<strong>complete_var</strong> – the environment variable that controls the bash completion support. The default is <code>\"_&lt;prog_name&gt;_COMPLETE\"</code> with prog_name in uppercase.</li> <li>\n<strong>standalone_mode</strong> – the default behavior is to invoke the script in standalone mode. Click will then handle exceptions and convert them into error messages and the function will never return but shut down the interpreter. If this is set to <code>False</code> they will be propagated to the caller and the return value of this function is the return value of <code>invoke()</code>.</li> <li>\n<strong>extra</strong> – extra keyword arguments are forwarded to the context constructor. See <code>Context</code> for more information.</li> </ul> </dd> </dl> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 8.0: </span>When taking arguments from <code>sys.argv</code> on Windows, glob patterns, user dir, and env vars are expanded.</p> </div> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 3.0: </span>Added the <code>standalone_mode</code> parameter.</p> </div> </dd>\n</dl> </dd>\n</dl> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.cli.AppGroup\">\n<code>class flask.cli.AppGroup(name=None, commands=None, **attrs)</code> </dt> <dd>\n<p>This works similar to a regular click <a class=\"reference external\" href=\"https://click.palletsprojects.com/en/8.0.x/api/#click.Group\" title=\"(in Click v8.0.x)\"><code>Group</code></a> but it changes the behavior of the <a class=\"reference internal\" href=\"#flask.cli.AppGroup.command\" title=\"flask.cli.AppGroup.command\"><code>command()</code></a> decorator so that it automatically wraps the functions in <a class=\"reference internal\" href=\"#flask.cli.with_appcontext\" title=\"flask.cli.with_appcontext\"><code>with_appcontext()</code></a>.</p> <p>Not to be confused with <a class=\"reference internal\" href=\"#flask.cli.FlaskGroup\" title=\"flask.cli.FlaskGroup\"><code>FlaskGroup</code></a>.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>name</strong> (<em>Optional</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>]</em>) – </li> <li>\n<strong>commands</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><em>Dict</em><em>[</em><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.9)\">str</a><em>, </em><em>click.core.Command</em><em>]</em><em>, </em><em>Sequence</em><em>[</em><em>click.core.Command</em><em>]</em><em>]</em><em>]</em>) – </li> <li>\n<strong>attrs</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.9)\">None</a></p> </dd> </dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.cli.AppGroup.command\">\n<code>command(*args, **kwargs)</code> </dt> <dd>\n<p>This works exactly like the method of the same name on a regular <a class=\"reference external\" href=\"https://click.palletsprojects.com/en/8.0.x/api/#click.Group\" title=\"(in Click v8.0.x)\"><code>click.Group</code></a> but it wraps callbacks in <a class=\"reference internal\" href=\"#flask.cli.with_appcontext\" title=\"flask.cli.with_appcontext\"><code>with_appcontext()</code></a> unless it’s disabled by passing <code>with_appcontext=False</code>.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.cli.AppGroup.group\">\n<code>group(*args, **kwargs)</code> </dt> <dd>\n<p>This works exactly like the method of the same name on a regular <a class=\"reference external\" href=\"https://click.palletsprojects.com/en/8.0.x/api/#click.Group\" title=\"(in Click v8.0.x)\"><code>click.Group</code></a> but it defaults the group class to <a class=\"reference internal\" href=\"#flask.cli.AppGroup\" title=\"flask.cli.AppGroup\"><code>AppGroup</code></a>.</p> </dd>\n</dl> </dd>\n</dl> <dl class=\"py class\"> <dt class=\"sig sig-object py\" id=\"flask.cli.ScriptInfo\">\n<code>class flask.cli.ScriptInfo(app_import_path=None, create_app=None, set_debug_flag=True)</code> </dt> <dd>\n<p>Helper object to deal with Flask applications. This is usually not necessary to interface with as it’s used internally in the dispatching to click. In future versions of Flask this object will most likely play a bigger role. Typically it’s created automatically by the <a class=\"reference internal\" href=\"#flask.cli.FlaskGroup\" title=\"flask.cli.FlaskGroup\"><code>FlaskGroup</code></a> but you can also manually create it and pass it onwards as click object.</p> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.cli.ScriptInfo.app_import_path\">\n<code>app_import_path</code> </dt> <dd>\n<p>Optionally the import path for the Flask application.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.cli.ScriptInfo.create_app\">\n<code>create_app</code> </dt> <dd>\n<p>Optionally a function that is passed the script info to create the instance of the application.</p> </dd>\n</dl> <dl class=\"py attribute\"> <dt class=\"sig sig-object py\" id=\"flask.cli.ScriptInfo.data\">\n<code>data</code> </dt> <dd>\n<p>A dictionary with arbitrary data that can be associated with this script info.</p> </dd>\n</dl> <dl class=\"py method\"> <dt class=\"sig sig-object py\" id=\"flask.cli.ScriptInfo.load_app\">\n<code>load_app()</code> </dt> <dd>\n<p>Loads the Flask app (if not yet loaded) and returns it. Calling this multiple times will just result in the already loaded app to be returned.</p> </dd>\n</dl> </dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.cli.load_dotenv\">\n<code>flask.cli.load_dotenv(path=None)</code> </dt> <dd>\n<p>Load “dotenv” files in order of precedence to set environment variables.</p> <p>If an env var is already set it is not overwritten, so earlier files in the list are preferred over later files.</p> <p>This is a no-op if <a class=\"reference external\" href=\"https://github.com/theskumar/python-dotenv#readme\">python-dotenv</a> is not installed.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>path</strong> – Load the file at this location instead of searching.</p> </dd> <dt class=\"field-even\">Returns</dt> <dd class=\"field-even\">\n<p><code>True</code> if a file was loaded.</p> </dd> </dl> <div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 2.0: </span>When loading the env files, set the default encoding to UTF-8.</p> </div> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.1.0: </span>Returns <code>False</code> when python-dotenv is not installed, or when the given path isn’t a file.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 1.0.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.cli.with_appcontext\">\n<code>flask.cli.with_appcontext(f)</code> </dt> <dd>\n<p>Wraps a callback so that it’s guaranteed to be executed with the script’s application context. If callbacks are registered directly to the <code>app.cli</code> object then they are wrapped with this function by default unless it’s disabled.</p> </dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\" id=\"flask.cli.pass_script_info\">\n<code>flask.cli.pass_script_info(f)</code> </dt> <dd>\n<p>Marks a function so that an instance of <a class=\"reference internal\" href=\"#flask.cli.ScriptInfo\" title=\"flask.cli.ScriptInfo\"><code>ScriptInfo</code></a> is passed as first argument to the click callback.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<p><strong>f</strong> (<em>click.decorators.F</em>) – </p> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>click.decorators.F</p> </dd> </dl> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"flask.cli.run_command\">\n<code>flask.cli.run_command = &lt;Command run&gt;</code> </dt> <dd>\n<p>Run a local development server.</p> <p>This server is for development purposes only. It does not provide the stability, security, or performance of production WSGI servers.</p> <p>The reloader and debugger are enabled by default if FLASK_ENV=development or FLASK_DEBUG=1.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>args</strong> (<em>Any</em>) – </li> <li>\n<strong>kwargs</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Any</p> </dd> </dl> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"flask.cli.shell_command\">\n<code>flask.cli.shell_command = &lt;Command shell&gt;</code> </dt> <dd>\n<p>Run an interactive Python shell in the context of a given Flask application. The application will populate the default namespace of this shell according to its configuration.</p> <p>This is useful for executing small snippets of management code without having to manually configure the application.</p> <dl class=\"field-list simple\"> <dt class=\"field-odd\">Parameters</dt> <dd class=\"field-odd\">\n<ul class=\"simple\"> <li>\n<strong>args</strong> (<em>Any</em>) – </li> <li>\n<strong>kwargs</strong> (<em>Any</em>) – </li> </ul> </dd> <dt class=\"field-even\">Return type</dt> <dd class=\"field-even\">\n<p>Any</p> </dd> </dl> </dd>\n</dl><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/api/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/api/</a>\n  </p>\n</div>\n","installation/index":"<h1>Installation</h1>  <h2 id=\"python-version\">Python Version</h2> <p>We recommend using the latest version of Python. Flask supports Python 3.6 and newer.</p>   <h2 id=\"dependencies\">Dependencies</h2> <p>These distributions will be installed automatically when installing Flask.</p> <ul class=\"simple\"> <li>\n<a class=\"reference external\" href=\"https://palletsprojects.com/p/werkzeug/\">Werkzeug</a> implements WSGI, the standard Python interface between applications and servers.</li> <li>\n<a class=\"reference external\" href=\"https://palletsprojects.com/p/jinja/\">Jinja</a> is a template language that renders the pages your application serves.</li> <li>\n<a class=\"reference external\" href=\"https://palletsprojects.com/p/markupsafe/\">MarkupSafe</a> comes with Jinja. It escapes untrusted input when rendering templates to avoid injection attacks.</li> <li>\n<a class=\"reference external\" href=\"https://palletsprojects.com/p/itsdangerous/\">ItsDangerous</a> securely signs data to ensure its integrity. This is used to protect Flask’s session cookie.</li> <li>\n<a class=\"reference external\" href=\"https://palletsprojects.com/p/click/\">Click</a> is a framework for writing command line applications. It provides the <code>flask</code> command and allows adding custom management commands.</li> </ul>  <h3 id=\"optional-dependencies\">Optional dependencies</h3> <p>These distributions will not be installed automatically. Flask will detect and use them if you install them.</p> <ul class=\"simple\"> <li>\n<a class=\"reference external\" href=\"https://pythonhosted.org/blinker/\">Blinker</a> provides support for <a class=\"reference internal\" href=\"../signals/index\"><span class=\"doc\">Signals</span></a>.</li> <li>\n<a class=\"reference external\" href=\"https://github.com/theskumar/python-dotenv#readme\">python-dotenv</a> enables support for <a class=\"reference internal\" href=\"../cli/index#dotenv\"><span class=\"std std-ref\">Environment Variables From dotenv</span></a> when running <code>flask</code> commands.</li> <li>\n<a class=\"reference external\" href=\"https://pythonhosted.org/watchdog/\">Watchdog</a> provides a faster, more efficient reloader for the development server.</li> </ul>    <h2 id=\"virtual-environments\">Virtual environments</h2> <p>Use a virtual environment to manage the dependencies for your project, both in development and in production.</p> <p>What problem does a virtual environment solve? The more Python projects you have, the more likely it is that you need to work with different versions of Python libraries, or even Python itself. Newer versions of libraries for one project can break compatibility in another project.</p> <p>Virtual environments are independent groups of Python libraries, one for each project. Packages installed for one project will not affect other projects or the operating system’s packages.</p> <p>Python comes bundled with the <a class=\"reference external\" href=\"https://docs.python.org/3/library/venv.html#module-venv\" title=\"(in Python v3.9)\"><code>venv</code></a> module to create virtual environments.</p>  <h3 id=\"install-create-env\">Create an environment</h3> <p id=\"create-an-environment\">Create a project folder and a <code>venv</code> folder within:</p> <div class=\"sphinx-tabs docutils container\"> <div aria-label=\"Tabbed content\" class=\"closeable\" role=\"tablist\">\n<button aria-controls=\"panel-0-bWFjT1MvTGludXg=\" aria-selected=\"true\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-bWFjT1MvTGludXg=\" name=\"bWFjT1MvTGludXg=\" role=\"tab\" tabindex=\"0\">macOS/Linux</button><button aria-controls=\"panel-0-V2luZG93cw==\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-V2luZG93cw==\" name=\"V2luZG93cw==\" role=\"tab\" tabindex=\"-1\">Windows</button>\n</div>\n<div aria-labelledby=\"tab-0-bWFjT1MvTGludXg=\" class=\"sphinx-tabs-panel group-tab\" id=\"panel-0-bWFjT1MvTGludXg=\" name=\"bWFjT1MvTGludXg=\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">$ mkdir myproject\n$ cd myproject\n$ python3 -m venv venv\n</pre> </div>\n<div aria-labelledby=\"tab-0-V2luZG93cw==\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-0-V2luZG93cw==\" name=\"V2luZG93cw==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; mkdir myproject\n&gt; cd myproject\n&gt; py -3 -m venv venv\n</pre> </div>\n</div>   <h3 id=\"install-activate-env\">Activate the environment</h3> <p id=\"activate-the-environment\">Before you work on your project, activate the corresponding environment:</p> <div class=\"sphinx-tabs docutils container\"> <div aria-label=\"Tabbed content\" class=\"closeable\" role=\"tablist\">\n<button aria-controls=\"panel-1-bWFjT1MvTGludXg=\" aria-selected=\"true\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-1-bWFjT1MvTGludXg=\" name=\"bWFjT1MvTGludXg=\" role=\"tab\" tabindex=\"0\">macOS/Linux</button><button aria-controls=\"panel-1-V2luZG93cw==\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-1-V2luZG93cw==\" name=\"V2luZG93cw==\" role=\"tab\" tabindex=\"-1\">Windows</button>\n</div>\n<div aria-labelledby=\"tab-1-bWFjT1MvTGludXg=\" class=\"sphinx-tabs-panel group-tab\" id=\"panel-1-bWFjT1MvTGludXg=\" name=\"bWFjT1MvTGludXg=\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">$ . venv/bin/activate\n</pre> </div>\n<div aria-labelledby=\"tab-1-V2luZG93cw==\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-1-V2luZG93cw==\" name=\"V2luZG93cw==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; venv\\Scripts\\activate\n</pre> </div>\n</div> <p>Your shell prompt will change to show the name of the activated environment.</p>    <h2 id=\"install-flask\">Install Flask</h2> <p>Within the activated environment, use the following command to install Flask:</p> <pre data-language=\"sh\">$ pip install Flask\n</pre> <p>Flask is now installed. Check out the <a class=\"reference internal\" href=\"../quickstart/index\"><span class=\"doc\">Quickstart</span></a> or go to the <a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/\"><span class=\"doc\">Documentation Overview</span></a>.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/installation/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/installation/</a>\n  </p>\n</div>\n","quickstart/index":"<h1>Quickstart</h1> <p>Eager to get started? This page gives a good introduction to Flask. Follow <a class=\"reference internal\" href=\"../installation/index\"><span class=\"doc\">Installation</span></a> to set up a project and install Flask first.</p>  <h2 id=\"a-minimal-application\">A Minimal Application</h2> <p>A minimal Flask application looks something like this:</p> <pre data-language=\"python\">from flask import Flask\n\napp = Flask(__name__)\n\n@app.route(\"/\")\ndef hello_world():\n    return \"&lt;p&gt;Hello, World!&lt;/p&gt;\"\n</pre> <p>So what did that code do?</p> <ol class=\"arabic simple\"> <li>First we imported the <a class=\"reference internal\" href=\"../api/index#flask.Flask\" title=\"flask.Flask\"><code>Flask</code></a> class. An instance of this class will be our WSGI application.</li> <li>Next we create an instance of this class. The first argument is the name of the application’s module or package. <code>__name__</code> is a convenient shortcut for this that is appropriate for most cases. This is needed so that Flask knows where to look for resources such as templates and static files.</li> <li>We then use the <a class=\"reference internal\" href=\"../api/index#flask.Flask.route\" title=\"flask.Flask.route\"><code>route()</code></a> decorator to tell Flask what URL should trigger our function.</li> <li>The function returns the message we want to display in the user’s browser. The default content type is HTML, so HTML in the string will be rendered by the browser.</li> </ol> <p>Save it as <code>hello.py</code> or something similar. Make sure to not call your application <code>flask.py</code> because this would conflict with Flask itself.</p> <p>To run the application, use the <strong class=\"command\">flask</strong> command or <strong class=\"command\">python -m flask</strong>. Before you can do that you need to tell your terminal the application to work with by exporting the <code>FLASK_APP</code> environment variable:</p> <div class=\"sphinx-tabs docutils container\"> <div aria-label=\"Tabbed content\" class=\"closeable\" role=\"tablist\">\n<button aria-controls=\"panel-0-QmFzaA==\" aria-selected=\"true\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-QmFzaA==\" name=\"QmFzaA==\" role=\"tab\" tabindex=\"0\">Bash</button><button aria-controls=\"panel-0-Q01E\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-Q01E\" name=\"Q01E\" role=\"tab\" tabindex=\"-1\">CMD</button><button aria-controls=\"panel-0-UG93ZXJzaGVsbA==\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tab\" tabindex=\"-1\">Powershell</button>\n</div>\n<div aria-labelledby=\"tab-0-QmFzaA==\" class=\"sphinx-tabs-panel group-tab\" id=\"panel-0-QmFzaA==\" name=\"QmFzaA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">$ export FLASK_APP=hello\n$ flask run\n * Running on http://127.0.0.1:5000/\n</pre> </div>\n<div aria-labelledby=\"tab-0-Q01E\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-0-Q01E\" name=\"Q01E\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; set FLASK_APP=hello\n&gt; flask run\n * Running on http://127.0.0.1:5000/\n</pre> </div>\n<div aria-labelledby=\"tab-0-UG93ZXJzaGVsbA==\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-0-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; $env:FLASK_APP = \"hello\"\n&gt; flask run\n * Running on http://127.0.0.1:5000/\n</pre> </div>\n</div> <div class=\"admonition-application-discovery-behavior admonition\"> <p class=\"admonition-title\">Application Discovery Behavior</p> <p>As a shortcut, if the file is named <code>app.py</code> or <code>wsgi.py</code>, you don’t have to set the <code>FLASK_APP</code> environment variable. See <a class=\"reference internal\" href=\"../cli/index\"><span class=\"doc\">Command Line Interface</span></a> for more details.</p> </div> <p>This launches a very simple builtin server, which is good enough for testing but probably not what you want to use in production. For deployment options see <a class=\"reference internal\" href=\"../deploying/index\"><span class=\"doc\">Deployment Options</span></a>.</p> <p>Now head over to <a class=\"reference external\" href=\"http://127.0.0.1:5000/\">http://127.0.0.1:5000/</a>, and you should see your hello world greeting.</p> <div class=\"admonition-externally-visible-server admonition\" id=\"public-server\"> <p class=\"admonition-title\">Externally Visible Server</p> <p>If you run the server you will notice that the server is only accessible from your own computer, not from any other in the network. This is the default because in debugging mode a user of the application can execute arbitrary Python code on your computer.</p> <p>If you have the debugger disabled or trust the users on your network, you can make the server publicly available simply by adding <code>--host=0.0.0.0</code> to the command line:</p> <pre data-language=\"python\">$ flask run --host=0.0.0.0\n</pre> <p>This tells your operating system to listen on all public IPs.</p> </div>   <h2 id=\"what-to-do-if-the-server-does-not-start\">What to do if the Server does not Start</h2> <p>In case the <strong class=\"command\">python -m flask</strong> fails or <strong class=\"command\">flask</strong> does not exist, there are multiple reasons this might be the case. First of all you need to look at the error message.</p>  <h3 id=\"old-version-of-flask\">Old Version of Flask</h3> <p>Versions of Flask older than 0.11 used to have different ways to start the application. In short, the <strong class=\"command\">flask</strong> command did not exist, and neither did <strong class=\"command\">python -m flask</strong>. In that case you have two options: either upgrade to newer Flask versions or have a look at <a class=\"reference internal\" href=\"../server/index\"><span class=\"doc\">Development Server</span></a> to see the alternative method for running a server.</p>   <h3 id=\"invalid-import-name\">Invalid Import Name</h3> <p>The <code>FLASK_APP</code> environment variable is the name of the module to import at <strong class=\"command\">flask run</strong>. In case that module is incorrectly named you will get an import error upon start (or if debug is enabled when you navigate to the application). It will tell you what it tried to import and why it failed.</p> <p>The most common reason is a typo or because you did not actually create an <code>app</code> object.</p>    <h2 id=\"debug-mode\">Debug Mode</h2> <p>The <code>flask run</code> command can do more than just start the development server. By enabling debug mode, the server will automatically reload if code changes, and will show an interactive debugger in the browser if an error occurs during a request.</p> <img alt=\"The interactive debugger in action.\" class=\"screenshot align-center\" src=\"data:image/png;base64,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\"> <div class=\"admonition warning\"> <p class=\"admonition-title\">Warning</p> <p>The debugger allows executing arbitrary Python code from the browser. It is protected by a pin, but still represents a major security risk. Do not run the development server or debugger in a production environment.</p> </div> <p>To enable all development features, set the <code>FLASK_ENV</code> environment variable to <code>development</code> before calling <code>flask run</code>.</p> <div class=\"sphinx-tabs docutils container\"> <div aria-label=\"Tabbed content\" class=\"closeable\" role=\"tablist\">\n<button aria-controls=\"panel-1-QmFzaA==\" aria-selected=\"true\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-1-QmFzaA==\" name=\"QmFzaA==\" role=\"tab\" tabindex=\"0\">Bash</button><button aria-controls=\"panel-1-Q01E\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-1-Q01E\" name=\"Q01E\" role=\"tab\" tabindex=\"-1\">CMD</button><button aria-controls=\"panel-1-UG93ZXJzaGVsbA==\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-1-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tab\" tabindex=\"-1\">Powershell</button>\n</div>\n<div aria-labelledby=\"tab-1-QmFzaA==\" class=\"sphinx-tabs-panel group-tab\" id=\"panel-1-QmFzaA==\" name=\"QmFzaA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">$ export FLASK_ENV=development\n$ flask run\n</pre> </div>\n<div aria-labelledby=\"tab-1-Q01E\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-1-Q01E\" name=\"Q01E\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; set FLASK_ENV=development\n&gt; flask run\n</pre> </div>\n<div aria-labelledby=\"tab-1-UG93ZXJzaGVsbA==\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-1-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; $env:FLASK_ENV = \"development\"\n&gt; flask run\n</pre> </div>\n</div> <p>See also:</p> <ul class=\"simple\"> <li>\n<a class=\"reference internal\" href=\"../server/index\"><span class=\"doc\">Development Server</span></a> and <a class=\"reference internal\" href=\"../cli/index\"><span class=\"doc\">Command Line Interface</span></a> for information about running in development mode.</li> <li>\n<a class=\"reference internal\" href=\"../debugging/index\"><span class=\"doc\">Debugging Application Errors</span></a> for information about using the built-in debugger and other debuggers.</li> <li>\n<a class=\"reference internal\" href=\"../logging/index\"><span class=\"doc\">Logging</span></a> and <a class=\"reference internal\" href=\"../errorhandling/index\"><span class=\"doc\">Handling Application Errors</span></a> to log errors and display nice error pages.</li> </ul>   <h2 id=\"html-escaping\">HTML Escaping</h2> <p>When returning HTML (the default response type in Flask), any user-provided values rendered in the output must be escaped to protect from injection attacks. HTML templates rendered with Jinja, introduced later, will do this automatically.</p> <p><code>escape()</code>, shown here, can be used manually. It is omitted in most examples for brevity, but you should always be aware of how you’re using untrusted data.</p> <pre data-language=\"python\">from markupsafe import escape\n\n@app.route(\"/&lt;name&gt;\")\ndef hello(name):\n    return f\"Hello, {escape(name)}!\"\n</pre> <p>If a user managed to submit the name <code>&lt;script&gt;alert(\"bad\")&lt;/script&gt;</code>, escaping causes it to be rendered as text, rather than running the script in the user’s browser.</p> <p><code>&lt;name&gt;</code> in the route captures a value from the URL and passes it to the view function. These variable rules are explained below.</p>   <h2 id=\"routing\">Routing</h2> <p>Modern web applications use meaningful URLs to help users. Users are more likely to like a page and come back if the page uses a meaningful URL they can remember and use to directly visit a page.</p> <p>Use the <a class=\"reference internal\" href=\"../api/index#flask.Flask.route\" title=\"flask.Flask.route\"><code>route()</code></a> decorator to bind a function to a URL.</p> <pre data-language=\"python\">@app.route('/')\ndef index():\n    return 'Index Page'\n\n@app.route('/hello')\ndef hello():\n    return 'Hello, World'\n</pre> <p>You can do more! You can make parts of the URL dynamic and attach multiple rules to a function.</p>  <h3 id=\"variable-rules\">Variable Rules</h3> <p>You can add variable sections to a URL by marking sections with <code>&lt;variable_name&gt;</code>. Your function then receives the <code>&lt;variable_name&gt;</code> as a keyword argument. Optionally, you can use a converter to specify the type of the argument like <code>&lt;converter:variable_name&gt;</code>.</p> <pre data-language=\"python\">from markupsafe import escape\n\n@app.route('/user/&lt;username&gt;')\ndef show_user_profile(username):\n    # show the user profile for that user\n    return f'User {username}'\n\n@app.route('/post/&lt;int:post_id&gt;')\ndef show_post(post_id):\n    # show the post with the given id, the id is an integer\n    return f'Post {post_id}'\n\n@app.route('/path/&lt;path:subpath&gt;')\ndef show_subpath(subpath):\n    # show the subpath after /path/\n    return f'Subpath {subpath}'\n</pre> <p>Converter types:</p> <table class=\"docutils align-default\">   <tr>\n<td><p><code>string</code></p></td> <td><p>(default) accepts any text without a slash</p></td> </tr> <tr>\n<td><p><code>int</code></p></td> <td><p>accepts positive integers</p></td> </tr> <tr>\n<td><p><code>float</code></p></td> <td><p>accepts positive floating point values</p></td> </tr> <tr>\n<td><p><code>path</code></p></td> <td><p>like <code>string</code> but also accepts slashes</p></td> </tr> <tr>\n<td><p><code>uuid</code></p></td> <td><p>accepts UUID strings</p></td> </tr>  </table>   <h3 id=\"unique-urls-redirection-behavior\">Unique URLs / Redirection Behavior</h3> <p>The following two rules differ in their use of a trailing slash.</p> <pre data-language=\"python\">@app.route('/projects/')\ndef projects():\n    return 'The project page'\n\n@app.route('/about')\ndef about():\n    return 'The about page'\n</pre> <p>The canonical URL for the <code>projects</code> endpoint has a trailing slash. It’s similar to a folder in a file system. If you access the URL without a trailing slash (<code>/projects</code>), Flask redirects you to the canonical URL with the trailing slash (<code>/projects/</code>).</p> <p>The canonical URL for the <code>about</code> endpoint does not have a trailing slash. It’s similar to the pathname of a file. Accessing the URL with a trailing slash (<code>/about/</code>) produces a 404 “Not Found” error. This helps keep URLs unique for these resources, which helps search engines avoid indexing the same page twice.</p>   <h3 id=\"id1\">URL Building</h3> <p id=\"url-building\">To build a URL to a specific function, use the <a class=\"reference internal\" href=\"../api/index#flask.url_for\" title=\"flask.url_for\"><code>url_for()</code></a> function. It accepts the name of the function as its first argument and any number of keyword arguments, each corresponding to a variable part of the URL rule. Unknown variable parts are appended to the URL as query parameters.</p> <p>Why would you want to build URLs using the URL reversing function <a class=\"reference internal\" href=\"../api/index#flask.url_for\" title=\"flask.url_for\"><code>url_for()</code></a> instead of hard-coding them into your templates?</p> <ol class=\"arabic simple\"> <li>Reversing is often more descriptive than hard-coding the URLs.</li> <li>You can change your URLs in one go instead of needing to remember to manually change hard-coded URLs.</li> <li>URL building handles escaping of special characters transparently.</li> <li>The generated paths are always absolute, avoiding unexpected behavior of relative paths in browsers.</li> <li>If your application is placed outside the URL root, for example, in <code>/myapplication</code> instead of <code>/</code>, <a class=\"reference internal\" href=\"../api/index#flask.url_for\" title=\"flask.url_for\"><code>url_for()</code></a> properly handles that for you.</li> </ol> <p>For example, here we use the <a class=\"reference internal\" href=\"../api/index#flask.Flask.test_request_context\" title=\"flask.Flask.test_request_context\"><code>test_request_context()</code></a> method to try out <a class=\"reference internal\" href=\"../api/index#flask.url_for\" title=\"flask.url_for\"><code>url_for()</code></a>. <a class=\"reference internal\" href=\"../api/index#flask.Flask.test_request_context\" title=\"flask.Flask.test_request_context\"><code>test_request_context()</code></a> tells Flask to behave as though it’s handling a request even while we use a Python shell. See <a class=\"reference internal\" href=\"#context-locals\"><span class=\"std std-ref\">Context Locals</span></a>.</p> <pre data-language=\"python\">from flask import url_for\n\n@app.route('/')\ndef index():\n    return 'index'\n\n@app.route('/login')\ndef login():\n    return 'login'\n\n@app.route('/user/&lt;username&gt;')\ndef profile(username):\n    return f'{username}\\'s profile'\n\nwith app.test_request_context():\n    print(url_for('index'))\n    print(url_for('login'))\n    print(url_for('login', next='/'))\n    print(url_for('profile', username='John Doe'))\n</pre> <pre data-language=\"text\">/\n/login\n/login?next=/\n/user/John%20Doe\n</pre>   <h3 id=\"http-methods\">HTTP Methods</h3> <p>Web applications use different HTTP methods when accessing URLs. You should familiarize yourself with the HTTP methods as you work with Flask. By default, a route only answers to <code>GET</code> requests. You can use the <code>methods</code> argument of the <a class=\"reference internal\" href=\"../api/index#flask.Flask.route\" title=\"flask.Flask.route\"><code>route()</code></a> decorator to handle different HTTP methods.</p> <pre data-language=\"python\">from flask import request\n\n@app.route('/login', methods=['GET', 'POST'])\ndef login():\n    if request.method == 'POST':\n        return do_the_login()\n    else:\n        return show_the_login_form()\n</pre> <p>If <code>GET</code> is present, Flask automatically adds support for the <code>HEAD</code> method and handles <code>HEAD</code> requests according to the <a class=\"reference external\" href=\"https://www.ietf.org/rfc/rfc2068.txt\">HTTP RFC</a>. Likewise, <code>OPTIONS</code> is automatically implemented for you.</p>    <h2 id=\"static-files\">Static Files</h2> <p>Dynamic web applications also need static files. That’s usually where the CSS and JavaScript files are coming from. Ideally your web server is configured to serve them for you, but during development Flask can do that as well. Just create a folder called <code>static</code> in your package or next to your module and it will be available at <code>/static</code> on the application.</p> <p>To generate URLs for static files, use the special <code>'static'</code> endpoint name:</p> <pre data-language=\"python\">url_for('static', filename='style.css')\n</pre> <p>The file has to be stored on the filesystem as <code>static/style.css</code>.</p>   <h2 id=\"rendering-templates\">Rendering Templates</h2> <p>Generating HTML from within Python is not fun, and actually pretty cumbersome because you have to do the HTML escaping on your own to keep the application secure. Because of that Flask configures the <a class=\"reference external\" href=\"https://palletsprojects.com/p/jinja/\">Jinja2</a> template engine for you automatically.</p> <p>To render a template you can use the <a class=\"reference internal\" href=\"../api/index#flask.render_template\" title=\"flask.render_template\"><code>render_template()</code></a> method. All you have to do is provide the name of the template and the variables you want to pass to the template engine as keyword arguments. Here’s a simple example of how to render a template:</p> <pre data-language=\"python\">from flask import render_template\n\n@app.route('/hello/')\n@app.route('/hello/&lt;name&gt;')\ndef hello(name=None):\n    return render_template('hello.html', name=name)\n</pre> <p>Flask will look for templates in the <code>templates</code> folder. So if your application is a module, this folder is next to that module, if it’s a package it’s actually inside your package:</p> <p><strong>Case 1</strong>: a module:</p> <pre data-language=\"python\">/application.py\n/templates\n    /hello.html\n</pre> <p><strong>Case 2</strong>: a package:</p> <pre data-language=\"python\">/application\n    /__init__.py\n    /templates\n        /hello.html\n</pre> <p>For templates you can use the full power of Jinja2 templates. Head over to the official <a class=\"reference external\" href=\"https://jinja.palletsprojects.com/templates/\">Jinja2 Template Documentation</a> for more information.</p> <p>Here is an example template:</p> <pre data-language=\"html+jinja\">&lt;!doctype html&gt;\n&lt;title&gt;Hello from Flask&lt;/title&gt;\n{% if name %}\n  &lt;h1&gt;Hello {{ name }}!&lt;/h1&gt;\n{% else %}\n  &lt;h1&gt;Hello, World!&lt;/h1&gt;\n{% endif %}\n</pre> <p>Inside templates you also have access to the <a class=\"reference internal\" href=\"../api/index#flask.request\" title=\"flask.request\"><code>request</code></a>, <a class=\"reference internal\" href=\"../api/index#flask.session\" title=\"flask.session\"><code>session</code></a> and <a class=\"reference internal\" href=\"../api/index#flask.g\" title=\"flask.g\"><code>g</code></a> <a class=\"footnote-reference brackets\" href=\"#id3\" id=\"id2\">1</a> objects as well as the <a class=\"reference internal\" href=\"../api/index#flask.get_flashed_messages\" title=\"flask.get_flashed_messages\"><code>get_flashed_messages()</code></a> function.</p> <p>Templates are especially useful if inheritance is used. If you want to know how that works, see <a class=\"reference internal\" href=\"../patterns/templateinheritance/index\"><span class=\"doc\">Template Inheritance</span></a>. Basically template inheritance makes it possible to keep certain elements on each page (like header, navigation and footer).</p> <p>Automatic escaping is enabled, so if <code>name</code> contains HTML it will be escaped automatically. If you can trust a variable and you know that it will be safe HTML (for example because it came from a module that converts wiki markup to HTML) you can mark it as safe by using the <a class=\"reference internal\" href=\"../api/index#flask.Markup\" title=\"markupsafe.Markup\"><code>Markup</code></a> class or by using the <code>|safe</code> filter in the template. Head over to the Jinja 2 documentation for more examples.</p> <p>Here is a basic introduction to how the <a class=\"reference internal\" href=\"../api/index#flask.Markup\" title=\"markupsafe.Markup\"><code>Markup</code></a> class works:</p> <pre data-language=\"python\">&gt;&gt;&gt; from markupsafe import Markup\n&gt;&gt;&gt; Markup('&lt;strong&gt;Hello %s!&lt;/strong&gt;') % '&lt;blink&gt;hacker&lt;/blink&gt;'\nMarkup('&lt;strong&gt;Hello &amp;lt;blink&amp;gt;hacker&amp;lt;/blink&amp;gt;!&lt;/strong&gt;')\n&gt;&gt;&gt; Markup.escape('&lt;blink&gt;hacker&lt;/blink&gt;')\nMarkup('&amp;lt;blink&amp;gt;hacker&amp;lt;/blink&amp;gt;')\n&gt;&gt;&gt; Markup('&lt;em&gt;Marked up&lt;/em&gt; &amp;raquo; HTML').striptags()\n'Marked up \\xbb HTML'\n</pre> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.5: </span>Autoescaping is no longer enabled for all templates. The following extensions for templates trigger autoescaping: <code>.html</code>, <code>.htm</code>, <code>.xml</code>, <code>.xhtml</code>. Templates loaded from a string will have autoescaping disabled.</p> </div> </details><dl class=\"footnote brackets\"> <dt class=\"label\" id=\"id3\">\n<code>1</code> </dt> <dd>\n<p>Unsure what that <a class=\"reference internal\" href=\"../api/index#flask.g\" title=\"flask.g\"><code>g</code></a> object is? It’s something in which you can store information for your own needs. See the documentation for <a class=\"reference internal\" href=\"../api/index#flask.g\" title=\"flask.g\"><code>flask.g</code></a> and <a class=\"reference internal\" href=\"../patterns/sqlite3/index\"><span class=\"doc\">Using SQLite 3 with Flask</span></a>.</p> </dd> </dl>   <h2 id=\"accessing-request-data\">Accessing Request Data</h2> <p>For web applications it’s crucial to react to the data a client sends to the server. In Flask this information is provided by the global <a class=\"reference internal\" href=\"../api/index#flask.request\" title=\"flask.request\"><code>request</code></a> object. If you have some experience with Python you might be wondering how that object can be global and how Flask manages to still be threadsafe. The answer is context locals:</p>  <h3 id=\"id4\">Context Locals</h3> <div class=\"admonition-insider-information admonition\" id=\"context-locals\"> <p class=\"admonition-title\">Insider Information</p> <p>If you want to understand how that works and how you can implement tests with context locals, read this section, otherwise just skip it.</p> </div> <p>Certain objects in Flask are global objects, but not of the usual kind. These objects are actually proxies to objects that are local to a specific context. What a mouthful. But that is actually quite easy to understand.</p> <p>Imagine the context being the handling thread. A request comes in and the web server decides to spawn a new thread (or something else, the underlying object is capable of dealing with concurrency systems other than threads). When Flask starts its internal request handling it figures out that the current thread is the active context and binds the current application and the WSGI environments to that context (thread). It does that in an intelligent way so that one application can invoke another application without breaking.</p> <p>So what does this mean to you? Basically you can completely ignore that this is the case unless you are doing something like unit testing. You will notice that code which depends on a request object will suddenly break because there is no request object. The solution is creating a request object yourself and binding it to the context. The easiest solution for unit testing is to use the <a class=\"reference internal\" href=\"../api/index#flask.Flask.test_request_context\" title=\"flask.Flask.test_request_context\"><code>test_request_context()</code></a> context manager. In combination with the <code>with</code> statement it will bind a test request so that you can interact with it. Here is an example:</p> <pre data-language=\"python\">from flask import request\n\nwith app.test_request_context('/hello', method='POST'):\n    # now you can do something with the request until the\n    # end of the with block, such as basic assertions:\n    assert request.path == '/hello'\n    assert request.method == 'POST'\n</pre> <p>The other possibility is passing a whole WSGI environment to the <a class=\"reference internal\" href=\"../api/index#flask.Flask.request_context\" title=\"flask.Flask.request_context\"><code>request_context()</code></a> method:</p> <pre data-language=\"python\">with app.request_context(environ):\n    assert request.method == 'POST'\n</pre>   <h3 id=\"the-request-object\">The Request Object</h3> <p>The request object is documented in the API section and we will not cover it here in detail (see <a class=\"reference internal\" href=\"../api/index#flask.Request\" title=\"flask.Request\"><code>Request</code></a>). Here is a broad overview of some of the most common operations. First of all you have to import it from the <code>flask</code> module:</p> <pre data-language=\"python\">from flask import request\n</pre> <p>The current request method is available by using the <a class=\"reference internal\" href=\"../api/index#flask.Request.method\" title=\"flask.Request.method\"><code>method</code></a> attribute. To access form data (data transmitted in a <code>POST</code> or <code>PUT</code> request) you can use the <a class=\"reference internal\" href=\"../api/index#flask.Request.form\" title=\"flask.Request.form\"><code>form</code></a> attribute. Here is a full example of the two attributes mentioned above:</p> <pre data-language=\"python\">@app.route('/login', methods=['POST', 'GET'])\ndef login():\n    error = None\n    if request.method == 'POST':\n        if valid_login(request.form['username'],\n                       request.form['password']):\n            return log_the_user_in(request.form['username'])\n        else:\n            error = 'Invalid username/password'\n    # the code below is executed if the request method\n    # was GET or the credentials were invalid\n    return render_template('login.html', error=error)\n</pre> <p>What happens if the key does not exist in the <code>form</code> attribute? In that case a special <a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#KeyError\" title=\"(in Python v3.9)\"><code>KeyError</code></a> is raised. You can catch it like a standard <a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#KeyError\" title=\"(in Python v3.9)\"><code>KeyError</code></a> but if you don’t do that, a HTTP 400 Bad Request error page is shown instead. So for many situations you don’t have to deal with that problem.</p> <p>To access parameters submitted in the URL (<code>?key=value</code>) you can use the <a class=\"reference internal\" href=\"../api/index#flask.Request.args\" title=\"flask.Request.args\"><code>args</code></a> attribute:</p> <pre data-language=\"python\">searchword = request.args.get('key', '')\n</pre> <p>We recommend accessing URL parameters with <code>get</code> or by catching the <a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#KeyError\" title=\"(in Python v3.9)\"><code>KeyError</code></a> because users might change the URL and presenting them a 400 bad request page in that case is not user friendly.</p> <p>For a full list of methods and attributes of the request object, head over to the <a class=\"reference internal\" href=\"../api/index#flask.Request\" title=\"flask.Request\"><code>Request</code></a> documentation.</p>   <h3 id=\"file-uploads\">File Uploads</h3> <p>You can handle uploaded files with Flask easily. Just make sure not to forget to set the <code>enctype=\"multipart/form-data\"</code> attribute on your HTML form, otherwise the browser will not transmit your files at all.</p> <p>Uploaded files are stored in memory or at a temporary location on the filesystem. You can access those files by looking at the <code>files</code> attribute on the request object. Each uploaded file is stored in that dictionary. It behaves just like a standard Python <code>file</code> object, but it also has a <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.FileStorage.save\" title=\"(in Werkzeug v2.0.x)\"><code>save()</code></a> method that allows you to store that file on the filesystem of the server. Here is a simple example showing how that works:</p> <pre data-language=\"python\">from flask import request\n\n@app.route('/upload', methods=['GET', 'POST'])\ndef upload_file():\n    if request.method == 'POST':\n        f = request.files['the_file']\n        f.save('/var/www/uploads/uploaded_file.txt')\n    ...\n</pre> <p>If you want to know how the file was named on the client before it was uploaded to your application, you can access the <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.FileStorage.filename\" title=\"(in Werkzeug v2.0.x)\"><code>filename</code></a> attribute. However please keep in mind that this value can be forged so never ever trust that value. If you want to use the filename of the client to store the file on the server, pass it through the <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/utils/#werkzeug.utils.secure_filename\" title=\"(in Werkzeug v2.0.x)\"><code>secure_filename()</code></a> function that Werkzeug provides for you:</p> <pre data-language=\"python\">from werkzeug.utils import secure_filename\n\n@app.route('/upload', methods=['GET', 'POST'])\ndef upload_file():\n    if request.method == 'POST':\n        file = request.files['the_file']\n        file.save(f\"/var/www/uploads/{secure_filename(f.filename)}\")\n    ...\n</pre> <p>For some better examples, see <a class=\"reference internal\" href=\"../patterns/fileuploads/index\"><span class=\"doc\">Uploading Files</span></a>.</p>   <h3 id=\"cookies\">Cookies</h3> <p>To access cookies you can use the <a class=\"reference internal\" href=\"../api/index#flask.Request.cookies\" title=\"flask.Request.cookies\"><code>cookies</code></a> attribute. To set cookies you can use the <a class=\"reference internal\" href=\"../api/index#flask.Response.set_cookie\" title=\"flask.Response.set_cookie\"><code>set_cookie</code></a> method of response objects. The <a class=\"reference internal\" href=\"../api/index#flask.Request.cookies\" title=\"flask.Request.cookies\"><code>cookies</code></a> attribute of request objects is a dictionary with all the cookies the client transmits. If you want to use sessions, do not use the cookies directly but instead use the <a class=\"reference internal\" href=\"#sessions\"><span class=\"std std-ref\">Sessions</span></a> in Flask that add some security on top of cookies for you.</p> <p>Reading cookies:</p> <pre data-language=\"python\">from flask import request\n\n@app.route('/')\ndef index():\n    username = request.cookies.get('username')\n    # use cookies.get(key) instead of cookies[key] to not get a\n    # KeyError if the cookie is missing.\n</pre> <p>Storing cookies:</p> <pre data-language=\"python\">from flask import make_response\n\n@app.route('/')\ndef index():\n    resp = make_response(render_template(...))\n    resp.set_cookie('username', 'the username')\n    return resp\n</pre> <p>Note that cookies are set on response objects. Since you normally just return strings from the view functions Flask will convert them into response objects for you. If you explicitly want to do that you can use the <a class=\"reference internal\" href=\"../api/index#flask.make_response\" title=\"flask.make_response\"><code>make_response()</code></a> function and then modify it.</p> <p>Sometimes you might want to set a cookie at a point where the response object does not exist yet. This is possible by utilizing the <a class=\"reference internal\" href=\"../patterns/deferredcallbacks/index\"><span class=\"doc\">Deferred Request Callbacks</span></a> pattern.</p> <p>For this also see <a class=\"reference internal\" href=\"#about-responses\"><span class=\"std std-ref\">About Responses</span></a>.</p>    <h2 id=\"redirects-and-errors\">Redirects and Errors</h2> <p>To redirect a user to another endpoint, use the <a class=\"reference internal\" href=\"../api/index#flask.redirect\" title=\"flask.redirect\"><code>redirect()</code></a> function; to abort a request early with an error code, use the <a class=\"reference internal\" href=\"../api/index#flask.abort\" title=\"flask.abort\"><code>abort()</code></a> function:</p> <pre data-language=\"python\">from flask import abort, redirect, url_for\n\n@app.route('/')\ndef index():\n    return redirect(url_for('login'))\n\n@app.route('/login')\ndef login():\n    abort(401)\n    this_is_never_executed()\n</pre> <p>This is a rather pointless example because a user will be redirected from the index to a page they cannot access (401 means access denied) but it shows how that works.</p> <p>By default a black and white error page is shown for each error code. If you want to customize the error page, you can use the <a class=\"reference internal\" href=\"../api/index#flask.Flask.errorhandler\" title=\"flask.Flask.errorhandler\"><code>errorhandler()</code></a> decorator:</p> <pre data-language=\"python\">from flask import render_template\n\n@app.errorhandler(404)\ndef page_not_found(error):\n    return render_template('page_not_found.html'), 404\n</pre> <p>Note the <code>404</code> after the <a class=\"reference internal\" href=\"../api/index#flask.render_template\" title=\"flask.render_template\"><code>render_template()</code></a> call. This tells Flask that the status code of that page should be 404 which means not found. By default 200 is assumed which translates to: all went well.</p> <p>See <a class=\"reference internal\" href=\"../errorhandling/index\"><span class=\"doc\">Handling Application Errors</span></a> for more details.</p>   <h2 id=\"id5\">About Responses</h2> <p id=\"about-responses\">The return value from a view function is automatically converted into a response object for you. If the return value is a string it’s converted into a response object with the string as response body, a <code>200 OK</code> status code and a <em class=\"mimetype\">text/html</em> mimetype. If the return value is a dict, <code>jsonify()</code> is called to produce a response. The logic that Flask applies to converting return values into response objects is as follows:</p> <ol class=\"arabic simple\"> <li>If a response object of the correct type is returned it’s directly returned from the view.</li> <li>If it’s a string, a response object is created with that data and the default parameters.</li> <li>If it’s a dict, a response object is created using <code>jsonify</code>.</li> <li>If a tuple is returned the items in the tuple can provide extra information. Such tuples have to be in the form <code>(response, status)</code>, <code>(response, headers)</code>, or <code>(response, status, headers)</code>. The <code>status</code> value will override the status code and <code>headers</code> can be a list or dictionary of additional header values.</li> <li>If none of that works, Flask will assume the return value is a valid WSGI application and convert that into a response object.</li> </ol> <p>If you want to get hold of the resulting response object inside the view you can use the <a class=\"reference internal\" href=\"../api/index#flask.make_response\" title=\"flask.make_response\"><code>make_response()</code></a> function.</p> <p>Imagine you have a view like this:</p> <pre data-language=\"python\">from flask import render_template\n\n@app.errorhandler(404)\ndef not_found(error):\n    return render_template('error.html'), 404\n</pre> <p>You just need to wrap the return expression with <a class=\"reference internal\" href=\"../api/index#flask.make_response\" title=\"flask.make_response\"><code>make_response()</code></a> and get the response object to modify it, then return it:</p> <pre data-language=\"python\">from flask import make_response\n\n@app.errorhandler(404)\ndef not_found(error):\n    resp = make_response(render_template('error.html'), 404)\n    resp.headers['X-Something'] = 'A value'\n    return resp\n</pre>  <h3 id=\"apis-with-json\">APIs with JSON</h3> <p>A common response format when writing an API is JSON. It’s easy to get started writing such an API with Flask. If you return a <code>dict</code> from a view, it will be converted to a JSON response.</p> <pre data-language=\"python\">@app.route(\"/me\")\ndef me_api():\n    user = get_current_user()\n    return {\n        \"username\": user.username,\n        \"theme\": user.theme,\n        \"image\": url_for(\"user_image\", filename=user.image),\n    }\n</pre> <p>Depending on your API design, you may want to create JSON responses for types other than <code>dict</code>. In that case, use the <a class=\"reference internal\" href=\"../api/index#flask.json.jsonify\" title=\"flask.json.jsonify\"><code>jsonify()</code></a> function, which will serialize any supported JSON data type. Or look into Flask community extensions that support more complex applications.</p> <pre data-language=\"python\">from flask import jsonify\n\n@app.route(\"/users\")\ndef users_api():\n    users = get_all_users()\n    return jsonify([user.to_json() for user in users])\n</pre>    <h2 id=\"id6\">Sessions</h2> <p id=\"sessions\">In addition to the request object there is also a second object called <a class=\"reference internal\" href=\"../api/index#flask.session\" title=\"flask.session\"><code>session</code></a> which allows you to store information specific to a user from one request to the next. This is implemented on top of cookies for you and signs the cookies cryptographically. What this means is that the user could look at the contents of your cookie but not modify it, unless they know the secret key used for signing.</p> <p>In order to use sessions you have to set a secret key. Here is how sessions work:</p> <pre data-language=\"python\">from flask import session\n\n# Set the secret key to some random bytes. Keep this really secret!\napp.secret_key = b'_5#y2L\"F4Q8z\\n\\xec]/'\n\n@app.route('/')\ndef index():\n    if 'username' in session:\n        return f'Logged in as {session[\"username\"]}'\n    return 'You are not logged in'\n\n@app.route('/login', methods=['GET', 'POST'])\ndef login():\n    if request.method == 'POST':\n        session['username'] = request.form['username']\n        return redirect(url_for('index'))\n    return '''\n        &lt;form method=\"post\"&gt;\n            &lt;p&gt;&lt;input type=text name=username&gt;\n            &lt;p&gt;&lt;input type=submit value=Login&gt;\n        &lt;/form&gt;\n    '''\n\n@app.route('/logout')\ndef logout():\n    # remove the username from the session if it's there\n    session.pop('username', None)\n    return redirect(url_for('index'))\n</pre> <div class=\"admonition-how-to-generate-good-secret-keys admonition\"> <p class=\"admonition-title\">How to generate good secret keys</p> <p>A secret key should be as random as possible. Your operating system has ways to generate pretty random data based on a cryptographic random generator. Use the following command to quickly generate a value for <code>Flask.secret_key</code> (or <a class=\"reference internal\" href=\"../config/index#SECRET_KEY\" title=\"SECRET_KEY\"><code>SECRET_KEY</code></a>):</p> <pre data-language=\"python\">$ python -c 'import os; print(os.urandom(16))'\nb'_5#y2L\"F4Q8z\\n\\xec]/'\n</pre> </div> <p>A note on cookie-based sessions: Flask will take the values you put into the session object and serialize them into a cookie. If you are finding some values do not persist across requests, cookies are indeed enabled, and you are not getting a clear error message, check the size of the cookie in your page responses compared to the size supported by web browsers.</p> <p>Besides the default client-side based sessions, if you want to handle sessions on the server-side instead, there are several Flask extensions that support this.</p>   <h2 id=\"message-flashing\">Message Flashing</h2> <p>Good applications and user interfaces are all about feedback. If the user does not get enough feedback they will probably end up hating the application. Flask provides a really simple way to give feedback to a user with the flashing system. The flashing system basically makes it possible to record a message at the end of a request and access it on the next (and only the next) request. This is usually combined with a layout template to expose the message.</p> <p>To flash a message use the <a class=\"reference internal\" href=\"../api/index#flask.flash\" title=\"flask.flash\"><code>flash()</code></a> method, to get hold of the messages you can use <a class=\"reference internal\" href=\"../api/index#flask.get_flashed_messages\" title=\"flask.get_flashed_messages\"><code>get_flashed_messages()</code></a> which is also available in the templates. See <a class=\"reference internal\" href=\"../patterns/flashing/index\"><span class=\"doc\">Message Flashing</span></a> for a full example.</p>   <h2 id=\"logging\">Logging</h2> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.3.</span></p> </div> </details><p>Sometimes you might be in a situation where you deal with data that should be correct, but actually is not. For example you may have some client-side code that sends an HTTP request to the server but it’s obviously malformed. This might be caused by a user tampering with the data, or the client code failing. Most of the time it’s okay to reply with <code>400 Bad Request</code> in that situation, but sometimes that won’t do and the code has to continue working.</p> <p>You may still want to log that something fishy happened. This is where loggers come in handy. As of Flask 0.3 a logger is preconfigured for you to use.</p> <p>Here are some example log calls:</p> <pre data-language=\"python\">app.logger.debug('A value for debugging')\napp.logger.warning('A warning occurred (%d apples)', 42)\napp.logger.error('An error occurred')\n</pre> <p>The attached <a class=\"reference internal\" href=\"../api/index#flask.Flask.logger\" title=\"flask.Flask.logger\"><code>logger</code></a> is a standard logging <a class=\"reference external\" href=\"https://docs.python.org/3/library/logging.html#logging.Logger\" title=\"(in Python v3.9)\"><code>Logger</code></a>, so head over to the official <a class=\"reference external\" href=\"https://docs.python.org/3/library/logging.html#module-logging\" title=\"(in Python v3.9)\"><code>logging</code></a> docs for more information.</p> <p>See <a class=\"reference internal\" href=\"../errorhandling/index\"><span class=\"doc\">Handling Application Errors</span></a>.</p>   <h2 id=\"hooking-in-wsgi-middleware\">Hooking in WSGI Middleware</h2> <p>To add WSGI middleware to your Flask application, wrap the application’s <code>wsgi_app</code> attribute. For example, to apply Werkzeug’s <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/middleware/proxy_fix/#werkzeug.middleware.proxy_fix.ProxyFix\" title=\"(in Werkzeug v2.0.x)\"><code>ProxyFix</code></a> middleware for running behind Nginx:</p> <pre data-language=\"python\">from werkzeug.middleware.proxy_fix import ProxyFix\napp.wsgi_app = ProxyFix(app.wsgi_app)\n</pre> <p>Wrapping <code>app.wsgi_app</code> instead of <code>app</code> means that <code>app</code> still points at your Flask application, not at the middleware, so you can continue to use and configure <code>app</code> directly.</p>   <h2 id=\"using-flask-extensions\">Using Flask Extensions</h2> <p>Extensions are packages that help you accomplish common tasks. For example, Flask-SQLAlchemy provides SQLAlchemy support that makes it simple and easy to use with Flask.</p> <p>For more on Flask extensions, see <a class=\"reference internal\" href=\"../extensions/index\"><span class=\"doc\">Extensions</span></a>.</p>   <h2 id=\"deploying-to-a-web-server\">Deploying to a Web Server</h2> <p>Ready to deploy your new Flask app? See <a class=\"reference internal\" href=\"../deploying/index\"><span class=\"doc\">Deployment Options</span></a>.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/quickstart/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/quickstart/</a>\n  </p>\n</div>\n","patterns/index":"<h1>Patterns for Flask</h1> <p>Certain features and interactions are common enough that you will find them in most web applications. For example, many applications use a relational database and user authentication. They will open a database connection at the beginning of the request and get the information for the logged in user. At the end of the request, the database connection is closed.</p> <p>These types of patterns may be a bit outside the scope of Flask itself, but Flask makes it easy to implement them. Some common patterns are collected in the following pages.</p>  <ul> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"packages/index\">Large Applications as Packages</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"packages/index#simple-packages\">Simple Packages</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"packages/index#working-with-blueprints\">Working with Blueprints</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"appfactories/index\">Application Factories</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"appfactories/index#basic-factories\">Basic Factories</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"appfactories/index#factories-extensions\">Factories &amp; Extensions</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"appfactories/index#using-applications\">Using Applications</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"appfactories/index#factory-improvements\">Factory Improvements</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"appdispatch/index\">Application Dispatching</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"appdispatch/index#working-with-this-document\">Working with this Document</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"appdispatch/index#combining-applications\">Combining Applications</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"appdispatch/index#dispatch-by-subdomain\">Dispatch by Subdomain</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"appdispatch/index#dispatch-by-path\">Dispatch by Path</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"urlprocessors/index\">Using URL Processors</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"urlprocessors/index#internationalized-application-urls\">Internationalized Application URLs</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"urlprocessors/index#internationalized-blueprint-urls\">Internationalized Blueprint URLs</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"distribute/index\">Deploying with Setuptools</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"distribute/index#basic-setup-script\">Basic Setup Script</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"distribute/index#tagging-builds\">Tagging Builds</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"distribute/index#distributing-resources\">Distributing Resources</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"distribute/index#declaring-dependencies\">Declaring Dependencies</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"distribute/index#installing-developing\">Installing / Developing</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"fabric/index\">Deploying with Fabric</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"fabric/index#creating-the-first-fabfile\">Creating the first Fabfile</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"fabric/index#running-fabfiles\">Running Fabfiles</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"fabric/index#the-wsgi-file\">The WSGI File</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"fabric/index#the-configuration-file\">The Configuration File</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"fabric/index#first-deployment\">First Deployment</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"fabric/index#next-steps\">Next Steps</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"sqlite3/index\">Using SQLite 3 with Flask</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"sqlite3/index#connect-on-demand\">Connect on Demand</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"sqlite3/index#easy-querying\">Easy Querying</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"sqlite3/index#initial-schemas\">Initial Schemas</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"sqlalchemy/index\">SQLAlchemy in Flask</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"sqlalchemy/index#flask-sqlalchemy-extension\">Flask-SQLAlchemy Extension</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"sqlalchemy/index#declarative\">Declarative</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"sqlalchemy/index#manual-object-relational-mapping\">Manual Object Relational Mapping</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"sqlalchemy/index#sql-abstraction-layer\">SQL Abstraction Layer</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"fileuploads/index\">Uploading Files</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"fileuploads/index#a-gentle-introduction\">A Gentle Introduction</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"fileuploads/index#improving-uploads\">Improving Uploads</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"fileuploads/index#upload-progress-bars\">Upload Progress Bars</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"fileuploads/index#an-easier-solution\">An Easier Solution</a></li> </ul> </li> <li class=\"toctree-l1\"><a class=\"reference internal\" href=\"caching/index\">Caching</a></li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"viewdecorators/index\">View Decorators</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"viewdecorators/index#login-required-decorator\">Login Required Decorator</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"viewdecorators/index#caching-decorator\">Caching Decorator</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"viewdecorators/index#templating-decorator\">Templating Decorator</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"viewdecorators/index#endpoint-decorator\">Endpoint Decorator</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"wtforms/index\">Form Validation with WTForms</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"wtforms/index#the-forms\">The Forms</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"wtforms/index#in-the-view\">In the View</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"wtforms/index#forms-in-templates\">Forms in Templates</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"templateinheritance/index\">Template Inheritance</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"templateinheritance/index#base-template\">Base Template</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"templateinheritance/index#child-template\">Child Template</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"flashing/index\">Message Flashing</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"flashing/index#simple-flashing\">Simple Flashing</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"flashing/index#flashing-with-categories\">Flashing With Categories</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"flashing/index#filtering-flash-messages\">Filtering Flash Messages</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"jquery/index\">AJAX with jQuery</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"jquery/index#loading-jquery\">Loading jQuery</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"jquery/index#where-is-my-site\">Where is My Site?</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"jquery/index#json-view-functions\">JSON View Functions</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"jquery/index#the-html\">The HTML</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"lazyloading/index\">Lazily Loading Views</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"lazyloading/index#converting-to-centralized-url-map\">Converting to Centralized URL Map</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"lazyloading/index#loading-late\">Loading Late</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"mongoengine/index\">MongoDB with MongoEngine</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"mongoengine/index#configuration\">Configuration</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"mongoengine/index#mapping-documents\">Mapping Documents</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"mongoengine/index#creating-data\">Creating Data</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"mongoengine/index#queries\">Queries</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"mongoengine/index#documentation\">Documentation</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"favicon/index\">Adding a favicon</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"favicon/index#see-also\">See also</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"streaming/index\">Streaming Contents</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"streaming/index#basic-usage\">Basic Usage</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"streaming/index#streaming-from-templates\">Streaming from Templates</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"streaming/index#streaming-with-context\">Streaming with Context</a></li> </ul> </li> <li class=\"toctree-l1\"><a class=\"reference internal\" href=\"deferredcallbacks/index\">Deferred Request Callbacks</a></li> <li class=\"toctree-l1\"><a class=\"reference internal\" href=\"methodoverrides/index\">Adding HTTP Method Overrides</a></li> <li class=\"toctree-l1\"><a class=\"reference internal\" href=\"requestchecksum/index\">Request Content Checksums</a></li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"celery/index\">Celery Background Tasks</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"celery/index#install\">Install</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"celery/index#configure\">Configure</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"celery/index#an-example-task\">An example task</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"celery/index#run-a-worker\">Run a worker</a></li> </ul> </li> <li class=\"toctree-l1\"><a class=\"reference internal\" href=\"subclassing/index\">Subclassing Flask</a></li> <li class=\"toctree-l1\"><a class=\"reference internal\" href=\"singlepageapplications/index\">Single-Page Applications</a></li> </ul><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/</a>\n  </p>\n</div>\n","templating/index":"<h1>Templates</h1> <p>Flask leverages Jinja2 as its template engine. You are obviously free to use a different template engine, but you still have to install Jinja2 to run Flask itself. This requirement is necessary to enable rich extensions. An extension can depend on Jinja2 being present.</p> <p>This section only gives a very quick introduction into how Jinja2 is integrated into Flask. If you want information on the template engine’s syntax itself, head over to the official <a class=\"reference external\" href=\"https://jinja.palletsprojects.com/templates/\">Jinja2 Template Documentation</a> for more information.</p>  <h2 id=\"jinja-setup\">Jinja Setup</h2> <p>Unless customized, Jinja2 is configured by Flask as follows:</p> <ul class=\"simple\"> <li>autoescaping is enabled for all templates ending in <code>.html</code>, <code>.htm</code>, <code>.xml</code> as well as <code>.xhtml</code> when using <code>render_template()</code>.</li> <li>autoescaping is enabled for all strings when using <code>render_template_string()</code>.</li> <li>a template has the ability to opt in/out autoescaping with the <code>{% autoescape %}</code> tag.</li> <li>Flask inserts a couple of global functions and helpers into the Jinja2 context, additionally to the values that are present by default.</li> </ul>   <h2 id=\"standard-context\">Standard Context</h2> <p>The following global variables are available within Jinja2 templates by default:</p> <dl class=\"py data\"> <dt class=\"sig sig-object py\"> <span class=\"sig-name descname\">config</span>\n</dt> <dd>\n<p>The current configuration object (<code>flask.config</code>)</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 0.10: </span>This is now always available, even in imported templates.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.6.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\"> <span class=\"sig-name descname\">request</span>\n</dt> <dd>\n<p>The current request object (<a class=\"reference internal\" href=\"../api/index#flask.request\" title=\"flask.request\"><code>flask.request</code></a>). This variable is unavailable if the template was rendered without an active request context.</p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\"> <span class=\"sig-name descname\">session</span>\n</dt> <dd>\n<p>The current session object (<a class=\"reference internal\" href=\"../api/index#flask.session\" title=\"flask.session\"><code>flask.session</code></a>). This variable is unavailable if the template was rendered without an active request context.</p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\"> <span class=\"sig-name descname\">g</span>\n</dt> <dd>\n<p>The request-bound object for global variables (<a class=\"reference internal\" href=\"../api/index#flask.g\" title=\"flask.g\"><code>flask.g</code></a>). This variable is unavailable if the template was rendered without an active request context.</p> </dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\"> <span class=\"sig-name descname\">url_for</span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span>\n</dt> <dd>\n<p>The <a class=\"reference internal\" href=\"../api/index#flask.url_for\" title=\"flask.url_for\"><code>flask.url_for()</code></a> function.</p> </dd>\n</dl> <dl class=\"py function\"> <dt class=\"sig sig-object py\"> <span class=\"sig-name descname\">get_flashed_messages</span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span>\n</dt> <dd>\n<p>The <a class=\"reference internal\" href=\"../api/index#flask.get_flashed_messages\" title=\"flask.get_flashed_messages\"><code>flask.get_flashed_messages()</code></a> function.</p> </dd>\n</dl> <div class=\"admonition-the-jinja-context-behavior admonition\"> <p class=\"admonition-title\">The Jinja Context Behavior</p> <p>These variables are added to the context of variables, they are not global variables. The difference is that by default these will not show up in the context of imported templates. This is partially caused by performance considerations, partially to keep things explicit.</p> <p>What does this mean for you? If you have a macro you want to import, that needs to access the request object you have two possibilities:</p> <ol class=\"arabic simple\"> <li>you explicitly pass the request to the macro as parameter, or the attribute of the request object you are interested in.</li> <li>you import the macro “with context”.</li> </ol> <p>Importing with context looks like this:</p> <pre data-language=\"jinja\">{% from '_helpers.html' import my_macro with context %}\n</pre> </div>   <h2 id=\"controlling-autoescaping\">Controlling Autoescaping</h2> <p>Autoescaping is the concept of automatically escaping special characters for you. Special characters in the sense of HTML (or XML, and thus XHTML) are <code>&amp;</code>, <code>&gt;</code>, <code>&lt;</code>, <code>\"</code> as well as <code>'</code>. Because these characters carry specific meanings in documents on their own you have to replace them by so called “entities” if you want to use them for text. Not doing so would not only cause user frustration by the inability to use these characters in text, but can also lead to security problems. (see <a class=\"reference internal\" href=\"../security/index#security-xss\"><span class=\"std std-ref\">Cross-Site Scripting (XSS)</span></a>)</p> <p>Sometimes however you will need to disable autoescaping in templates. This can be the case if you want to explicitly inject HTML into pages, for example if they come from a system that generates secure HTML like a markdown to HTML converter.</p> <p>There are three ways to accomplish that:</p> <ul class=\"simple\"> <li>In the Python code, wrap the HTML string in a <a class=\"reference internal\" href=\"../api/index#flask.Markup\" title=\"flask.Markup\"><code>Markup</code></a> object before passing it to the template. This is in general the recommended way.</li> <li>Inside the template, use the <code>|safe</code> filter to explicitly mark a string as safe HTML (<code>{{ myvariable|safe }}</code>)</li> <li>Temporarily disable the autoescape system altogether.</li> </ul> <p>To disable the autoescape system in templates, you can use the <code>{%\nautoescape %}</code> block:</p> <pre data-language=\"html+jinja\">{% autoescape false %}\n    &lt;p&gt;autoescaping is disabled here\n    &lt;p&gt;{{ will_not_be_escaped }}\n{% endautoescape %}\n</pre> <p>Whenever you do this, please be very cautious about the variables you are using in this block.</p>   <h2 id=\"id1\">Registering Filters</h2> <p id=\"registering-filters\">If you want to register your own filters in Jinja2 you have two ways to do that. You can either put them by hand into the <a class=\"reference internal\" href=\"../api/index#flask.Flask.jinja_env\" title=\"flask.Flask.jinja_env\"><code>jinja_env</code></a> of the application or use the <a class=\"reference internal\" href=\"../api/index#flask.Flask.template_filter\" title=\"flask.Flask.template_filter\"><code>template_filter()</code></a> decorator.</p> <p>The two following examples work the same and both reverse an object:</p> <pre data-language=\"python\">@app.template_filter('reverse')\ndef reverse_filter(s):\n    return s[::-1]\n\ndef reverse_filter(s):\n    return s[::-1]\napp.jinja_env.filters['reverse'] = reverse_filter\n</pre> <p>In case of the decorator the argument is optional if you want to use the function name as name of the filter. Once registered, you can use the filter in your templates in the same way as Jinja2’s builtin filters, for example if you have a Python list in context called <code>mylist</code>:</p> <pre data-language=\"python\">{% for x in mylist | reverse %}\n{% endfor %}\n</pre>   <h2 id=\"context-processors\">Context Processors</h2> <p>To inject new variables automatically into the context of a template, context processors exist in Flask. Context processors run before the template is rendered and have the ability to inject new values into the template context. A context processor is a function that returns a dictionary. The keys and values of this dictionary are then merged with the template context, for all templates in the app:</p> <pre data-language=\"python\">@app.context_processor\ndef inject_user():\n    return dict(user=g.user)\n</pre> <p>The context processor above makes a variable called <code>user</code> available in the template with the value of <code>g.user</code>. This example is not very interesting because <code>g</code> is available in templates anyways, but it gives an idea how this works.</p> <p>Variables are not limited to values; a context processor can also make functions available to templates (since Python allows passing around functions):</p> <pre data-language=\"python\">@app.context_processor\ndef utility_processor():\n    def format_price(amount, currency=\"€\"):\n        return f\"{amount:.2f}{currency}\"\n    return dict(format_price=format_price)\n</pre> <p>The context processor above makes the <code>format_price</code> function available to all templates:</p> <pre data-language=\"python\">{{ format_price(0.33) }}\n</pre> <p>You could also build <code>format_price</code> as a template filter (see <a class=\"reference internal\" href=\"#registering-filters\"><span class=\"std std-ref\">Registering Filters</span></a>), but this demonstrates how to pass functions in a context processor.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/templating/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/templating/</a>\n  </p>\n</div>\n","testing/index":"<h1>Testing Flask Applications</h1>  <p><strong>Something that is untested is broken.</strong></p>  <p>The origin of this quote is unknown and while it is not entirely correct, it is also not far from the truth. Untested applications make it hard to improve existing code and developers of untested applications tend to become pretty paranoid. If an application has automated tests, you can safely make changes and instantly know if anything breaks.</p> <p>Flask provides a way to test your application by exposing the Werkzeug test <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/test/#werkzeug.test.Client\" title=\"(in Werkzeug v2.0.x)\"><code>Client</code></a> and handling the context locals for you. You can then use that with your favourite testing solution.</p> <p>In this documentation we will use the <a class=\"reference external\" href=\"https://docs.pytest.org/\">pytest</a> package as the base framework for our tests. You can install it with <code>pip</code>, like so:</p> <pre data-language=\"python\">$ pip install pytest\n</pre>  <h2 id=\"the-application\">The Application</h2> <p>First, we need an application to test; we will use the application from the <a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/tutorial/\"><span class=\"doc\">Tutorial</span></a>. If you don’t have that application yet, get the source code from <a class=\"reference external\" href=\"https://github.com/pallets/flask/tree/main/examples/tutorial\">the examples</a>.</p> <p>So that we can import the module <code>flaskr</code> correctly, we need to run <code>pip install -e .</code> in the folder <code>tutorial</code>.</p>   <h2 id=\"the-testing-skeleton\">The Testing Skeleton</h2> <p>We begin by adding a tests directory under the application root. Then create a Python file to store our tests (<code>test_flaskr.py</code>). When we format the filename like <code>test_*.py</code>, it will be auto-discoverable by pytest.</p> <p>Next, we create a <a class=\"reference external\" href=\"https://docs.pytest.org/en/latest/fixture.html\">pytest fixture</a> called <code>client()</code> that configures the application for testing and initializes a new database:</p> <pre data-language=\"python\">import os\nimport tempfile\n\nimport pytest\n\nfrom flaskr import create_app\n\n\n@pytest.fixture\ndef client():\n    db_fd, flaskr.app.config['DATABASE'] = tempfile.mkstemp()\n    flaskr.app.config['TESTING'] = True\n\n    with flaskr.app.test_client() as client:\n        with flaskr.app.app_context():\n            flaskr.init_db()\n        yield client\n\n    os.close(db_fd)\n    os.unlink(flaskr.app.config['DATABASE'])\n</pre> <p>This client fixture will be called by each individual test. It gives us a simple interface to the application, where we can trigger test requests to the application. The client will also keep track of cookies for us.</p> <p>During setup, the <code>TESTING</code> config flag is activated. What this does is disable error catching during request handling, so that you get better error reports when performing test requests against the application.</p> <p>Because SQLite3 is filesystem-based, we can easily use the <a class=\"reference external\" href=\"https://docs.python.org/3/library/tempfile.html#module-tempfile\" title=\"(in Python v3.9)\"><code>tempfile</code></a> module to create a temporary database and initialize it. The <a class=\"reference external\" href=\"https://docs.python.org/3/library/tempfile.html#tempfile.mkstemp\" title=\"(in Python v3.9)\"><code>mkstemp()</code></a> function does two things for us: it returns a low-level file handle and a random file name, the latter we use as database name. We just have to keep the <code>db_fd</code> around so that we can use the <a class=\"reference external\" href=\"https://docs.python.org/3/library/os.html#os.close\" title=\"(in Python v3.9)\"><code>os.close()</code></a> function to close the file.</p> <p>To delete the database after the test, the fixture closes the file and removes it from the filesystem.</p> <p>If we now run the test suite, we should see the following output:</p> <pre data-language=\"python\">$ pytest\n\n================ test session starts ================\nrootdir: ./flask/examples/flaskr, inifile: setup.cfg\ncollected 0 items\n\n=========== no tests ran in 0.07 seconds ============\n</pre> <p>Even though it did not run any actual tests, we already know that our <code>flaskr</code> application is syntactically valid, otherwise the import would have died with an exception.</p>   <h2 id=\"the-first-test\">The First Test</h2> <p>Now it’s time to start testing the functionality of the application. Let’s check that the application shows “No entries here so far” if we access the root of the application (<code>/</code>). To do this, we add a new test function to <code>test_flaskr.py</code>, like this:</p> <pre data-language=\"python\">def test_empty_db(client):\n    \"\"\"Start with a blank database.\"\"\"\n\n    rv = client.get('/')\n    assert b'No entries here so far' in rv.data\n</pre> <p>Notice that our test functions begin with the word <code>test</code>; this allows <a class=\"reference external\" href=\"https://docs.pytest.org/\">pytest</a> to automatically identify the function as a test to run.</p> <p>By using <code>client.get</code> we can send an HTTP <code>GET</code> request to the application with the given path. The return value will be a <a class=\"reference internal\" href=\"../api/index#flask.Flask.response_class\" title=\"flask.Flask.response_class\"><code>response_class</code></a> object. We can now use the <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/wrappers/#werkzeug.wrappers.Response.data\" title=\"(in Werkzeug v2.0.x)\"><code>data</code></a> attribute to inspect the return value (as string) from the application. In this case, we ensure that <code>'No entries here so far'</code> is part of the output.</p> <p>Run it again and you should see one passing test:</p> <pre data-language=\"python\">$ pytest -v\n\n================ test session starts ================\nrootdir: ./flask/examples/flaskr, inifile: setup.cfg\ncollected 1 items\n\ntests/test_flaskr.py::test_empty_db PASSED\n\n============= 1 passed in 0.10 seconds ==============\n</pre>   <h2 id=\"logging-in-and-out\">Logging In and Out</h2> <p>The majority of the functionality of our application is only available for the administrative user, so we need a way to log our test client in and out of the application. To do this, we fire some requests to the login and logout pages with the required form data (username and password). And because the login and logout pages redirect, we tell the client to <code>follow_redirects</code>.</p> <p>Add the following two functions to your <code>test_flaskr.py</code> file:</p> <pre data-language=\"python\">def login(client, username, password):\n    return client.post('/login', data=dict(\n        username=username,\n        password=password\n    ), follow_redirects=True)\n\n\ndef logout(client):\n    return client.get('/logout', follow_redirects=True)\n</pre> <p>Now we can easily test that logging in and out works and that it fails with invalid credentials. Add this new test function:</p> <pre data-language=\"python\">def test_login_logout(client):\n    \"\"\"Make sure login and logout works.\"\"\"\n\n    username = flaskr.app.config[\"USERNAME\"]\n    password = flaskr.app.config[\"PASSWORD\"]\n\n    rv = login(client, username, password)\n    assert b'You were logged in' in rv.data\n\n    rv = logout(client)\n    assert b'You were logged out' in rv.data\n\n    rv = login(client, f\"{username}x\", password)\n    assert b'Invalid username' in rv.data\n\n    rv = login(client, username, f'{password}x')\n    assert b'Invalid password' in rv.data\n</pre>   <h2 id=\"test-adding-messages\">Test Adding Messages</h2> <p>We should also test that adding messages works. Add a new test function like this:</p> <pre data-language=\"python\">def test_messages(client):\n    \"\"\"Test that messages work.\"\"\"\n\n    login(client, flaskr.app.config['USERNAME'], flaskr.app.config['PASSWORD'])\n    rv = client.post('/add', data=dict(\n        title='&lt;Hello&gt;',\n        text='&lt;strong&gt;HTML&lt;/strong&gt; allowed here'\n    ), follow_redirects=True)\n    assert b'No entries here so far' not in rv.data\n    assert b'&amp;lt;Hello&amp;gt;' in rv.data\n    assert b'&lt;strong&gt;HTML&lt;/strong&gt; allowed here' in rv.data\n</pre> <p>Here we check that HTML is allowed in the text but not in the title, which is the intended behavior.</p> <p>Running that should now give us three passing tests:</p> <pre data-language=\"python\">$ pytest -v\n\n================ test session starts ================\nrootdir: ./flask/examples/flaskr, inifile: setup.cfg\ncollected 3 items\n\ntests/test_flaskr.py::test_empty_db PASSED\ntests/test_flaskr.py::test_login_logout PASSED\ntests/test_flaskr.py::test_messages PASSED\n\n============= 3 passed in 0.23 seconds ==============\n</pre>   <h2 id=\"other-testing-tricks\">Other Testing Tricks</h2> <p>Besides using the test client as shown above, there is also the <a class=\"reference internal\" href=\"../api/index#flask.Flask.test_request_context\" title=\"flask.Flask.test_request_context\"><code>test_request_context()</code></a> method that can be used in combination with the <code>with</code> statement to activate a request context temporarily. With this you can access the <a class=\"reference internal\" href=\"../api/index#flask.request\" title=\"flask.request\"><code>request</code></a>, <a class=\"reference internal\" href=\"../api/index#flask.g\" title=\"flask.g\"><code>g</code></a> and <a class=\"reference internal\" href=\"../api/index#flask.session\" title=\"flask.session\"><code>session</code></a> objects like in view functions. Here is a full example that demonstrates this approach:</p> <pre data-language=\"python\">import flask\n\napp = flask.Flask(__name__)\n\nwith app.test_request_context('/?name=Peter'):\n    assert flask.request.path == '/'\n    assert flask.request.args['name'] == 'Peter'\n</pre> <p>All the other objects that are context bound can be used in the same way.</p> <p>If you want to test your application with different configurations and there does not seem to be a good way to do that, consider switching to application factories (see <a class=\"reference internal\" href=\"../patterns/appfactories/index\"><span class=\"doc\">Application Factories</span></a>).</p> <p>Note however that if you are using a test request context, the <a class=\"reference internal\" href=\"../api/index#flask.Flask.before_request\" title=\"flask.Flask.before_request\"><code>before_request()</code></a> and <a class=\"reference internal\" href=\"../api/index#flask.Flask.after_request\" title=\"flask.Flask.after_request\"><code>after_request()</code></a> functions are not called automatically. However <a class=\"reference internal\" href=\"../api/index#flask.Flask.teardown_request\" title=\"flask.Flask.teardown_request\"><code>teardown_request()</code></a> functions are indeed executed when the test request context leaves the <code>with</code> block. If you do want the <a class=\"reference internal\" href=\"../api/index#flask.Flask.before_request\" title=\"flask.Flask.before_request\"><code>before_request()</code></a> functions to be called as well, you need to call <a class=\"reference internal\" href=\"../api/index#flask.Flask.preprocess_request\" title=\"flask.Flask.preprocess_request\"><code>preprocess_request()</code></a> yourself:</p> <pre data-language=\"python\">app = flask.Flask(__name__)\n\nwith app.test_request_context('/?name=Peter'):\n    app.preprocess_request()\n    ...\n</pre> <p>This can be necessary to open database connections or something similar depending on how your application was designed.</p> <p>If you want to call the <a class=\"reference internal\" href=\"../api/index#flask.Flask.after_request\" title=\"flask.Flask.after_request\"><code>after_request()</code></a> functions you need to call into <a class=\"reference internal\" href=\"../api/index#flask.Flask.process_response\" title=\"flask.Flask.process_response\"><code>process_response()</code></a> which however requires that you pass it a response object:</p> <pre data-language=\"python\">app = flask.Flask(__name__)\n\nwith app.test_request_context('/?name=Peter'):\n    resp = Response('...')\n    resp = app.process_response(resp)\n    ...\n</pre> <p>This in general is less useful because at that point you can directly start using the test client.</p>   <h2 id=\"faking-resources\">Faking Resources and Context</h2> <details class=\"changelog\" id=\"faking-resources-and-context\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10.</span></p> </div> </details><p>A very common pattern is to store user authorization information and database connections on the application context or the <a class=\"reference internal\" href=\"../api/index#flask.g\" title=\"flask.g\"><code>flask.g</code></a> object. The general pattern for this is to put the object on there on first usage and then to remove it on a teardown. Imagine for instance this code to get the current user:</p> <pre data-language=\"python\">def get_user():\n    user = getattr(g, 'user', None)\n    if user is None:\n        user = fetch_current_user_from_database()\n        g.user = user\n    return user\n</pre> <p>For a test it would be nice to override this user from the outside without having to change some code. This can be accomplished with hooking the <a class=\"reference internal\" href=\"../api/index#flask.appcontext_pushed\" title=\"flask.appcontext_pushed\"><code>flask.appcontext_pushed</code></a> signal:</p> <pre data-language=\"python\">from contextlib import contextmanager\nfrom flask import appcontext_pushed, g\n\n@contextmanager\ndef user_set(app, user):\n    def handler(sender, **kwargs):\n        g.user = user\n    with appcontext_pushed.connected_to(handler, app):\n        yield\n</pre> <p>And then to use it:</p> <pre data-language=\"python\">from flask import json, jsonify\n\n@app.route('/users/me')\ndef users_me():\n    return jsonify(username=g.user.username)\n\nwith user_set(app, my_user):\n    with app.test_client() as c:\n        resp = c.get('/users/me')\n        data = json.loads(resp.data)\n        assert data['username'] == my_user.username\n</pre>   <h2 id=\"keeping-the-context-around\">Keeping the Context Around</h2> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.4.</span></p> </div> </details><p>Sometimes it is helpful to trigger a regular request but still keep the context around for a little longer so that additional introspection can happen. With Flask 0.4 this is possible by using the <a class=\"reference internal\" href=\"../api/index#flask.Flask.test_client\" title=\"flask.Flask.test_client\"><code>test_client()</code></a> with a <code>with</code> block:</p> <pre data-language=\"python\">app = flask.Flask(__name__)\n\nwith app.test_client() as c:\n    rv = c.get('/?tequila=42')\n    assert request.args['tequila'] == '42'\n</pre> <p>If you were to use just the <a class=\"reference internal\" href=\"../api/index#flask.Flask.test_client\" title=\"flask.Flask.test_client\"><code>test_client()</code></a> without the <code>with</code> block, the <code>assert</code> would fail with an error because <code>request</code> is no longer available (because you are trying to use it outside of the actual request).</p>   <h2 id=\"accessing-and-modifying-sessions\">Accessing and Modifying Sessions</h2> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.8.</span></p> </div> </details><p>Sometimes it can be very helpful to access or modify the sessions from the test client. Generally there are two ways for this. If you just want to ensure that a session has certain keys set to certain values you can just keep the context around and access <a class=\"reference internal\" href=\"../api/index#flask.session\" title=\"flask.session\"><code>flask.session</code></a>:</p> <pre data-language=\"python\">with app.test_client() as c:\n    rv = c.get('/')\n    assert flask.session['foo'] == 42\n</pre> <p>This however does not make it possible to also modify the session or to access the session before a request was fired. Starting with Flask 0.8 we provide a so called “session transaction” which simulates the appropriate calls to open a session in the context of the test client and to modify it. At the end of the transaction the session is stored and ready to be used by the test client. This works independently of the session backend used:</p> <pre data-language=\"python\">with app.test_client() as c:\n    with c.session_transaction() as sess:\n        sess['a_key'] = 'a value'\n\n    # once this is reached the session was stored and ready to be used by the client\n    c.get(...)\n</pre> <p>Note that in this case you have to use the <code>sess</code> object instead of the <a class=\"reference internal\" href=\"../api/index#flask.session\" title=\"flask.session\"><code>flask.session</code></a> proxy. The object however itself will provide the same interface.</p>   <h2 id=\"testing-json-apis\">Testing JSON APIs</h2> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 1.0.</span></p> </div> </details><p>Flask has great support for JSON, and is a popular choice for building JSON APIs. Making requests with JSON data and examining JSON data in responses is very convenient:</p> <pre data-language=\"python\">from flask import request, jsonify\n\n@app.route('/api/auth')\ndef auth():\n    json_data = request.get_json()\n    email = json_data['email']\n    password = json_data['password']\n    return jsonify(token=generate_token(email, password))\n\nwith app.test_client() as c:\n    rv = c.post('/api/auth', json={\n        'email': 'flask@example.com', 'password': 'secret'\n    })\n    json_data = rv.get_json()\n    assert verify_token(email, json_data['token'])\n</pre> <p>Passing the <code>json</code> argument in the test client methods sets the request data to the JSON-serialized object and sets the content type to <code>application/json</code>. You can get the JSON data from the request or response with <code>get_json</code>.</p>   <h2 id=\"testing-cli\">Testing CLI Commands</h2> <p id=\"testing-cli-commands\">Click comes with <a class=\"reference external\" href=\"https://click.palletsprojects.com/testing/\">utilities for testing</a> your CLI commands. A <a class=\"reference external\" href=\"https://click.palletsprojects.com/en/8.0.x/api/#click.testing.CliRunner\" title=\"(in Click v8.0.x)\"><code>CliRunner</code></a> runs commands in isolation and captures the output in a <a class=\"reference external\" href=\"https://click.palletsprojects.com/en/8.0.x/api/#click.testing.Result\" title=\"(in Click v8.0.x)\"><code>Result</code></a> object.</p> <p>Flask provides <a class=\"reference internal\" href=\"../api/index#flask.Flask.test_cli_runner\" title=\"flask.Flask.test_cli_runner\"><code>test_cli_runner()</code></a> to create a <a class=\"reference internal\" href=\"../api/index#flask.testing.FlaskCliRunner\" title=\"flask.testing.FlaskCliRunner\"><code>FlaskCliRunner</code></a> that passes the Flask app to the CLI automatically. Use its <a class=\"reference internal\" href=\"../api/index#flask.testing.FlaskCliRunner.invoke\" title=\"flask.testing.FlaskCliRunner.invoke\"><code>invoke()</code></a> method to call commands in the same way they would be called from the command line.</p> <pre data-language=\"python\">import click\n\n@app.cli.command('hello')\n@click.option('--name', default='World')\ndef hello_command(name):\n    click.echo(f'Hello, {name}!')\n\ndef test_hello():\n    runner = app.test_cli_runner()\n\n    # invoke the command directly\n    result = runner.invoke(hello_command, ['--name', 'Flask'])\n    assert 'Hello, Flask' in result.output\n\n    # or by name\n    result = runner.invoke(args=['hello'])\n    assert 'World' in result.output\n</pre> <p>In the example above, invoking the command by name is useful because it verifies that the command was correctly registered with the app.</p> <p>If you want to test how your command parses parameters, without running the command, use its <a class=\"reference external\" href=\"https://click.palletsprojects.com/en/8.0.x/api/#click.BaseCommand.make_context\" title=\"(in Click v8.0.x)\"><code>make_context()</code></a> method. This is useful for testing complex validation rules and custom types.</p> <pre data-language=\"python\">def upper(ctx, param, value):\n    if value is not None:\n        return value.upper()\n\n@app.cli.command('hello')\n@click.option('--name', default='World', callback=upper)\ndef hello_command(name):\n    click.echo(f'Hello, {name}!')\n\ndef test_hello_params():\n    context = hello_command.make_context('hello', ['--name', 'flask'])\n    assert context.params['name'] == 'FLASK'\n</pre><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/testing/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/testing/</a>\n  </p>\n</div>\n","errorhandling/index":"<h1>Handling Application Errors</h1> <p>Applications fail, servers fail. Sooner or later you will see an exception in production. Even if your code is 100% correct, you will still see exceptions from time to time. Why? Because everything else involved will fail. Here are some situations where perfectly fine code can lead to server errors:</p> <ul class=\"simple\"> <li>the client terminated the request early and the application was still reading from the incoming data</li> <li>the database server was overloaded and could not handle the query</li> <li>a filesystem is full</li> <li>a harddrive crashed</li> <li>a backend server overloaded</li> <li>a programming error in a library you are using</li> <li>network connection of the server to another system failed</li> </ul> <p>And that’s just a small sample of issues you could be facing. So how do we deal with that sort of problem? By default if your application runs in production mode, and an exception is raised Flask will display a very simple page for you and log the exception to the <a class=\"reference internal\" href=\"../api/index#flask.Flask.logger\" title=\"flask.Flask.logger\"><code>logger</code></a>.</p> <p>But there is more you can do, and we will cover some better setups to deal with errors including custom exceptions and 3rd party tools.</p>  <h2 id=\"id1\">Error Logging Tools</h2> <p id=\"error-logging-tools\">Sending error mails, even if just for critical ones, can become overwhelming if enough users are hitting the error and log files are typically never looked at. This is why we recommend using <a class=\"reference external\" href=\"https://sentry.io/\">Sentry</a> for dealing with application errors. It’s available as a source-available project <a class=\"reference external\" href=\"https://github.com/getsentry/sentry\">on GitHub</a> and is also available as a <a class=\"reference external\" href=\"https://sentry.io/signup/\">hosted version</a> which you can try for free. Sentry aggregates duplicate errors, captures the full stack trace and local variables for debugging, and sends you mails based on new errors or frequency thresholds.</p> <p>To use Sentry you need to install the <code>sentry-sdk</code> client with extra <code>flask</code> dependencies.</p> <pre data-language=\"text\">$ pip install sentry-sdk[flask]\n</pre> <p>And then add this to your Flask app:</p> <pre data-language=\"python\">import sentry_sdk\nfrom sentry_sdk.integrations.flask import FlaskIntegration\n\nsentry_sdk.init('YOUR_DSN_HERE', integrations=[FlaskIntegration()])\n</pre> <p>The <code>YOUR_DSN_HERE</code> value needs to be replaced with the DSN value you get from your Sentry installation.</p> <p>After installation, failures leading to an Internal Server Error are automatically reported to Sentry and from there you can receive error notifications.</p> <p>See also:</p> <ul class=\"simple\"> <li>Sentry also supports catching errors from a worker queue (RQ, Celery, etc.) in a similar fashion. See the <a class=\"reference external\" href=\"https://docs.sentry.io/platforms/python/\">Python SDK docs</a> for more information.</li> <li><a class=\"reference external\" href=\"https://docs.sentry.io/quickstart/?platform=python\">Getting started with Sentry</a></li> <li><a class=\"reference external\" href=\"https://docs.sentry.io/platforms/python/guides/flask/\">Flask-specific documentation</a></li> </ul>   <h2 id=\"error-handlers\">Error Handlers</h2> <p>When an error occurs in Flask, an appropriate <a class=\"reference external\" href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status\">HTTP status code</a> will be returned. 400-499 indicate errors with the client’s request data, or about the data requested. 500-599 indicate errors with the server or application itself.</p> <p>You might want to show custom error pages to the user when an error occurs. This can be done by registering error handlers.</p> <p>An error handler is a function that returns a response when a type of error is raised, similar to how a view is a function that returns a response when a request URL is matched. It is passed the instance of the error being handled, which is most likely a <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.HTTPException\" title=\"(in Werkzeug v2.0.x)\"><code>HTTPException</code></a>.</p> <p>The status code of the response will not be set to the handler’s code. Make sure to provide the appropriate HTTP status code when returning a response from a handler.</p>  <h3 id=\"registering\">Registering</h3> <p>Register handlers by decorating a function with <a class=\"reference internal\" href=\"../api/index#flask.Flask.errorhandler\" title=\"flask.Flask.errorhandler\"><code>errorhandler()</code></a>. Or use <a class=\"reference internal\" href=\"../api/index#flask.Flask.register_error_handler\" title=\"flask.Flask.register_error_handler\"><code>register_error_handler()</code></a> to register the function later. Remember to set the error code when returning the response.</p> <pre data-language=\"python\">@app.errorhandler(werkzeug.exceptions.BadRequest)\ndef handle_bad_request(e):\n    return 'bad request!', 400\n\n# or, without the decorator\napp.register_error_handler(400, handle_bad_request)\n</pre> <p><a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.HTTPException\" title=\"(in Werkzeug v2.0.x)\"><code>werkzeug.exceptions.HTTPException</code></a> subclasses like <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.BadRequest\" title=\"(in Werkzeug v2.0.x)\"><code>BadRequest</code></a> and their HTTP codes are interchangeable when registering handlers. (<code>BadRequest.code == 400</code>)</p> <p>Non-standard HTTP codes cannot be registered by code because they are not known by Werkzeug. Instead, define a subclass of <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.HTTPException\" title=\"(in Werkzeug v2.0.x)\"><code>HTTPException</code></a> with the appropriate code and register and raise that exception class.</p> <pre data-language=\"python\">class InsufficientStorage(werkzeug.exceptions.HTTPException):\n    code = 507\n    description = 'Not enough storage space.'\n\napp.register_error_handler(InsufficientStorage, handle_507)\n\nraise InsufficientStorage()\n</pre> <p>Handlers can be registered for any exception class, not just <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.HTTPException\" title=\"(in Werkzeug v2.0.x)\"><code>HTTPException</code></a> subclasses or HTTP status codes. Handlers can be registered for a specific class, or for all subclasses of a parent class.</p>   <h3 id=\"handling\">Handling</h3> <p>When building a Flask application you <em>will</em> run into exceptions. If some part of your code breaks while handling a request (and you have no error handlers registered), a “500 Internal Server Error” (<a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.InternalServerError\" title=\"(in Werkzeug v2.0.x)\"><code>InternalServerError</code></a>) will be returned by default. Similarly, “404 Not Found” (<a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.NotFound\" title=\"(in Werkzeug v2.0.x)\"><code>NotFound</code></a>) error will occur if a request is sent to an unregistered route. If a route receives an unallowed request method, a “405 Method Not Allowed” (<a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.MethodNotAllowed\" title=\"(in Werkzeug v2.0.x)\"><code>MethodNotAllowed</code></a>) will be raised. These are all subclasses of <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.HTTPException\" title=\"(in Werkzeug v2.0.x)\"><code>HTTPException</code></a> and are provided by default in Flask.</p> <p>Flask gives you to the ability to raise any HTTP exception registered by Werkzeug. However, the default HTTP exceptions return simple exception pages. You might want to show custom error pages to the user when an error occurs. This can be done by registering error handlers.</p> <p>When Flask catches an exception while handling a request, it is first looked up by code. If no handler is registered for the code, Flask looks up the error by its class hierarchy; the most specific handler is chosen. If no handler is registered, <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.HTTPException\" title=\"(in Werkzeug v2.0.x)\"><code>HTTPException</code></a> subclasses show a generic message about their code, while other exceptions are converted to a generic “500 Internal Server Error”.</p> <p>For example, if an instance of <a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#ConnectionRefusedError\" title=\"(in Python v3.9)\"><code>ConnectionRefusedError</code></a> is raised, and a handler is registered for <a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#ConnectionError\" title=\"(in Python v3.9)\"><code>ConnectionError</code></a> and <a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#ConnectionRefusedError\" title=\"(in Python v3.9)\"><code>ConnectionRefusedError</code></a>, the more specific <a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#ConnectionRefusedError\" title=\"(in Python v3.9)\"><code>ConnectionRefusedError</code></a> handler is called with the exception instance to generate the response.</p> <p>Handlers registered on the blueprint take precedence over those registered globally on the application, assuming a blueprint is handling the request that raises the exception. However, the blueprint cannot handle 404 routing errors because the 404 occurs at the routing level before the blueprint can be determined.</p>   <h3 id=\"generic-exception-handlers\">Generic Exception Handlers</h3> <p>It is possible to register error handlers for very generic base classes such as <code>HTTPException</code> or even <code>Exception</code>. However, be aware that these will catch more than you might expect.</p> <p>For example, an error handler for <code>HTTPException</code> might be useful for turning the default HTML errors pages into JSON. However, this handler will trigger for things you don’t cause directly, such as 404 and 405 errors during routing. Be sure to craft your handler carefully so you don’t lose information about the HTTP error.</p> <pre data-language=\"python\">from flask import json\nfrom werkzeug.exceptions import HTTPException\n\n@app.errorhandler(HTTPException)\ndef handle_exception(e):\n    \"\"\"Return JSON instead of HTML for HTTP errors.\"\"\"\n    # start with the correct headers and status code from the error\n    response = e.get_response()\n    # replace the body with JSON\n    response.data = json.dumps({\n        \"code\": e.code,\n        \"name\": e.name,\n        \"description\": e.description,\n    })\n    response.content_type = \"application/json\"\n    return response\n</pre> <p>An error handler for <code>Exception</code> might seem useful for changing how all errors, even unhandled ones, are presented to the user. However, this is similar to doing <code>except Exception:</code> in Python, it will capture <em>all</em> otherwise unhandled errors, including all HTTP status codes.</p> <p>In most cases it will be safer to register handlers for more specific exceptions. Since <code>HTTPException</code> instances are valid WSGI responses, you could also pass them through directly.</p> <pre data-language=\"python\">from werkzeug.exceptions import HTTPException\n\n@app.errorhandler(Exception)\ndef handle_exception(e):\n    # pass through HTTP errors\n    if isinstance(e, HTTPException):\n        return e\n\n    # now you're handling non-HTTP exceptions only\n    return render_template(\"500_generic.html\", e=e), 500\n</pre> <p>Error handlers still respect the exception class hierarchy. If you register handlers for both <code>HTTPException</code> and <code>Exception</code>, the <code>Exception</code> handler will not handle <code>HTTPException</code> subclasses because it the <code>HTTPException</code> handler is more specific.</p>   <h3 id=\"unhandled-exceptions\">Unhandled Exceptions</h3> <p>When there is no error handler registered for an exception, a 500 Internal Server Error will be returned instead. See <a class=\"reference internal\" href=\"../api/index#flask.Flask.handle_exception\" title=\"flask.Flask.handle_exception\"><code>flask.Flask.handle_exception()</code></a> for information about this behavior.</p> <p>If there is an error handler registered for <code>InternalServerError</code>, this will be invoked. As of Flask 1.1.0, this error handler will always be passed an instance of <code>InternalServerError</code>, not the original unhandled error.</p> <p>The original error is available as <code>e.original_exception</code>.</p> <p>An error handler for “500 Internal Server Error” will be passed uncaught exceptions in addition to explicit 500 errors. In debug mode, a handler for “500 Internal Server Error” will not be used. Instead, the interactive debugger will be shown.</p>    <h2 id=\"custom-error-pages\">Custom Error Pages</h2> <p>Sometimes when building a Flask application, you might want to raise a <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.HTTPException\" title=\"(in Werkzeug v2.0.x)\"><code>HTTPException</code></a> to signal to the user that something is wrong with the request. Fortunately, Flask comes with a handy <a class=\"reference internal\" href=\"../api/index#flask.abort\" title=\"flask.abort\"><code>abort()</code></a> function that aborts a request with a HTTP error from werkzeug as desired. It will also provide a plain black and white error page for you with a basic description, but nothing fancy.</p> <p>Depending on the error code it is less or more likely for the user to actually see such an error.</p> <p>Consider the code below, we might have a user profile route, and if the user fails to pass a username we can raise a “400 Bad Request”. If the user passes a username and we can’t find it, we raise a “404 Not Found”.</p> <pre data-language=\"python\">from flask import abort, render_template, request\n\n# a username needs to be supplied in the query args\n# a successful request would be like /profile?username=jack\n@app.route(\"/profile\")\ndef user_profile():\n    username = request.arg.get(\"username\")\n    # if a username isn't supplied in the request, return a 400 bad request\n    if username is None:\n        abort(400)\n\n    user = get_user(username=username)\n    # if a user can't be found by their username, return 404 not found\n    if user is None:\n        abort(404)\n\n    return render_template(\"profile.html\", user=user)\n</pre> <p>Here is another example implementation for a “404 Page Not Found” exception:</p> <pre data-language=\"python\">from flask import render_template\n\n@app.errorhandler(404)\ndef page_not_found(e):\n    # note that we set the 404 status explicitly\n    return render_template('404.html'), 404\n</pre> <p>When using <a class=\"reference internal\" href=\"../patterns/appfactories/index\"><span class=\"doc\">Application Factories</span></a>:</p> <pre data-language=\"python\">from flask import Flask, render_template\n\ndef page_not_found(e):\n  return render_template('404.html'), 404\n\ndef create_app(config_filename):\n    app = Flask(__name__)\n    app.register_error_handler(404, page_not_found)\n    return app\n</pre> <p>An example template might be this:</p> <pre data-language=\"html+jinja\">{% extends \"layout.html\" %}\n{% block title %}Page Not Found{% endblock %}\n{% block body %}\n  &lt;h1&gt;Page Not Found&lt;/h1&gt;\n  &lt;p&gt;What you were looking for is just not there.\n  &lt;p&gt;&lt;a href=\"{{ url_for('index') }}\"&gt;go somewhere nice&lt;/a&gt;\n{% endblock %}\n</pre>  <h3 id=\"further-examples\">Further Examples</h3> <p>The above examples wouldn’t actually be an improvement on the default exception pages. We can create a custom 500.html template like this:</p> <pre data-language=\"html+jinja\">{% extends \"layout.html\" %}\n{% block title %}Internal Server Error{% endblock %}\n{% block body %}\n  &lt;h1&gt;Internal Server Error&lt;/h1&gt;\n  &lt;p&gt;Oops... we seem to have made a mistake, sorry!&lt;/p&gt;\n  &lt;p&gt;&lt;a href=\"{{ url_for('index') }}\"&gt;Go somewhere nice instead&lt;/a&gt;\n{% endblock %}\n</pre> <p>It can be implemented by rendering the template on “500 Internal Server Error”:</p> <pre data-language=\"python\">from flask import render_template\n\n@app.errorhandler(500)\ndef internal_server_error(e):\n    # note that we set the 500 status explicitly\n    return render_template('500.html'), 500\n</pre> <p>When using <a class=\"reference internal\" href=\"../patterns/appfactories/index\"><span class=\"doc\">Application Factories</span></a>:</p> <pre data-language=\"python\">from flask import Flask, render_template\n\ndef internal_server_error(e):\n  return render_template('500.html'), 500\n\ndef create_app():\n    app = Flask(__name__)\n    app.register_error_handler(500, internal_server_error)\n    return app\n</pre> <p>When using <a class=\"reference internal\" href=\"../blueprints/index\"><span class=\"doc\">Modular Applications with Blueprints</span></a>:</p> <pre data-language=\"python\">from flask import Blueprint\n\nblog = Blueprint('blog', __name__)\n\n# as a decorator\n@blog.errorhandler(500)\ndef internal_server_error(e):\n    return render_template('500.html'), 500\n\n# or with register_error_handler\nblog.register_error_handler(500, internal_server_error)\n</pre>    <h2 id=\"blueprint-error-handlers\">Blueprint Error Handlers</h2> <p>In <a class=\"reference internal\" href=\"../blueprints/index\"><span class=\"doc\">Modular Applications with Blueprints</span></a>, most error handlers will work as expected. However, there is a caveat concerning handlers for 404 and 405 exceptions. These error handlers are only invoked from an appropriate <code>raise</code> statement or a call to <code>abort</code> in another of the blueprint’s view functions; they are not invoked by, e.g., an invalid URL access.</p> <p>This is because the blueprint does not “own” a certain URL space, so the application instance has no way of knowing which blueprint error handler it should run if given an invalid URL. If you would like to execute different handling strategies for these errors based on URL prefixes, they may be defined at the application level using the <code>request</code> proxy object.</p> <pre data-language=\"python\">from flask import jsonify, render_template\n\n# at the application level\n# not the blueprint level\n@app.errorhandler(404)\ndef page_not_found(e):\n    # if a request is in our blog URL space\n    if request.path.startswith('/blog/'):\n        # we return a custom blog 404 page\n        return render_template(\"blog/404.html\"), 404\n    else:\n        # otherwise we return our generic site-wide 404 page\n        return render_template(\"404.html\"), 404\n\n@app.errorhandler(405)\ndef method_not_allowed(e):\n    # if a request has the wrong method to our API\n    if request.path.startswith('/api/'):\n        # we return a json saying so\n        return jsonify(message=\"Method Not Allowed\"), 405\n    else:\n        # otherwise we return a generic site-wide 405 page\n        return render_template(\"405.html\"), 405\n</pre>   <h2 id=\"returning-api-errors-as-json\">Returning API Errors as JSON</h2> <p>When building APIs in Flask, some developers realise that the built-in exceptions are not expressive enough for APIs and that the content type of <em class=\"mimetype\">text/html</em> they are emitting is not very useful for API consumers.</p> <p>Using the same techniques as above and <a class=\"reference internal\" href=\"../api/index#flask.json.jsonify\" title=\"flask.json.jsonify\"><code>jsonify()</code></a> we can return JSON responses to API errors. <a class=\"reference internal\" href=\"../api/index#flask.abort\" title=\"flask.abort\"><code>abort()</code></a> is called with a <code>description</code> parameter. The error handler will use that as the JSON error message, and set the status code to 404.</p> <pre data-language=\"python\">from flask import abort, jsonify\n\n@app.errorhandler(404)\ndef resource_not_found(e):\n    return jsonify(error=str(e)), 404\n\n@app.route(\"/cheese\")\ndef get_one_cheese():\n    resource = get_resource()\n\n    if resource is None:\n        abort(404, description=\"Resource not found\")\n\n    return jsonify(resource)\n</pre> <p>We can also create custom exception classes. For instance, we can introduce a new custom exception for an API that can take a proper human readable message, a status code for the error and some optional payload to give more context for the error.</p> <p>This is a simple example:</p> <pre data-language=\"python\">from flask import jsonify, request\n\nclass InvalidAPIUsage(Exception):\n    status_code = 400\n\n    def __init__(self, message, status_code=None, payload=None):\n        super().__init__()\n        self.message = message\n        if status_code is not None:\n            self.status_code = status_code\n        self.payload = payload\n\n    def to_dict(self):\n        rv = dict(self.payload or ())\n        rv['message'] = self.message\n        return rv\n\n@app.errorhandler(InvalidAPIUsage)\ndef invalid_api_usage(e):\n    return jsonify(e.to_dict())\n\n# an API app route for getting user information\n# a correct request might be /api/user?user_id=420\n@app.route(\"/api/user\")\ndef user_api(user_id):\n    user_id = request.arg.get(\"user_id\")\n    if not user_id:\n        raise InvalidAPIUsage(\"No user id provided!\")\n\n    user = get_user(user_id=user_id)\n    if not user:\n        raise InvalidAPIUsage(\"No such user!\", status_code=404)\n\n    return jsonify(user.to_dict())\n</pre> <p>A view can now raise that exception with an error message. Additionally some extra payload can be provided as a dictionary through the <code>payload</code> parameter.</p>   <h2 id=\"logging\">Logging</h2> <p>See <a class=\"reference internal\" href=\"../logging/index\"><span class=\"doc\">Logging</span></a> for information about how to log exceptions, such as by emailing them to admins.</p>   <h2 id=\"debugging\">Debugging</h2> <p>See <a class=\"reference internal\" href=\"../debugging/index\"><span class=\"doc\">Debugging Application Errors</span></a> for information about how to debug errors in development and production.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/errorhandling/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/errorhandling/</a>\n  </p>\n</div>\n","debugging/index":"<h1>Debugging Application Errors</h1>  <h2 id=\"in-production\">In Production</h2> <p><strong>Do not run the development server, or enable the built-in debugger, in a production environment.</strong> The debugger allows executing arbitrary Python code from the browser. It’s protected by a pin, but that should not be relied on for security.</p> <p>Use an error logging tool, such as Sentry, as described in <a class=\"reference internal\" href=\"../errorhandling/index#error-logging-tools\"><span class=\"std std-ref\">Error Logging Tools</span></a>, or enable logging and notifications as described in <a class=\"reference internal\" href=\"../logging/index\"><span class=\"doc\">Logging</span></a>.</p> <p>If you have access to the server, you could add some code to start an external debugger if <code>request.remote_addr</code> matches your IP. Some IDE debuggers also have a remote mode so breakpoints on the server can be interacted with locally. Only enable a debugger temporarily.</p>   <h2 id=\"the-built-in-debugger\">The Built-In Debugger</h2> <p>The built-in Werkzeug development server provides a debugger which shows an interactive traceback in the browser when an unhandled error occurs during a request. This debugger should only be used during development.</p> <img alt=\"screenshot of debugger in action\" class=\"screenshot align-center\" src=\"data:image/png;base64,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\"> <div class=\"admonition warning\"> <p class=\"admonition-title\">Warning</p> <p>The debugger allows executing arbitrary Python code from the browser. It is protected by a pin, but still represents a major security risk. Do not run the development server or debugger in a production environment.</p> </div> <p>To enable the debugger, run the development server with the <code>FLASK_ENV</code> environment variable set to <code>development</code>. This puts Flask in debug mode, which changes how it handles some errors, and enables the debugger and reloader.</p> <div class=\"sphinx-tabs docutils container\"> <div aria-label=\"Tabbed content\" class=\"closeable\" role=\"tablist\">\n<button aria-controls=\"panel-0-QmFzaA==\" aria-selected=\"true\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-QmFzaA==\" name=\"QmFzaA==\" role=\"tab\" tabindex=\"0\">Bash</button><button aria-controls=\"panel-0-Q01E\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-Q01E\" name=\"Q01E\" role=\"tab\" tabindex=\"-1\">CMD</button><button aria-controls=\"panel-0-UG93ZXJzaGVsbA==\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tab\" tabindex=\"-1\">Powershell</button>\n</div>\n<div aria-labelledby=\"tab-0-QmFzaA==\" class=\"sphinx-tabs-panel group-tab\" id=\"panel-0-QmFzaA==\" name=\"QmFzaA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">$ export FLASK_ENV=development\n$ flask run\n</pre> </div>\n<div aria-labelledby=\"tab-0-Q01E\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-0-Q01E\" name=\"Q01E\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; set FLASK_ENV=development\n&gt; flask run\n</pre> </div>\n<div aria-labelledby=\"tab-0-UG93ZXJzaGVsbA==\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-0-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; $env:FLASK_ENV = \"development\"\n&gt; flask run\n</pre> </div>\n</div> <p><code>FLASK_ENV</code> can only be set as an environment variable. When running from Python code, passing <code>debug=True</code> enables debug mode, which is mostly equivalent. Debug mode can be controled separately from <code>FLASK_ENV</code> with the <code>FLASK_DEBUG</code> environment variable as well.</p> <pre data-language=\"python\">app.run(debug=True)\n</pre> <p><a class=\"reference internal\" href=\"../server/index\"><span class=\"doc\">Development Server</span></a> and <a class=\"reference internal\" href=\"../cli/index\"><span class=\"doc\">Command Line Interface</span></a> have more information about running the debugger, debug mode, and development mode. More information about the debugger can be found in the <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/debug/\">Werkzeug documentation</a>.</p>   <h2 id=\"external-debuggers\">External Debuggers</h2> <p>External debuggers, such as those provided by IDEs, can offer a more powerful debugging experience than the built-in debugger. They can also be used to step through code during a request before an error is raised, or if no error is raised. Some even have a remote mode so you can debug code running on another machine.</p> <p>When using an external debugger, the app should still be in debug mode, but it can be useful to disable the built-in debugger and reloader, which can interfere.</p> <p>When running from the command line:</p> <div class=\"sphinx-tabs docutils container\"> <div aria-label=\"Tabbed content\" class=\"closeable\" role=\"tablist\">\n<button aria-controls=\"panel-1-QmFzaA==\" aria-selected=\"true\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-1-QmFzaA==\" name=\"QmFzaA==\" role=\"tab\" tabindex=\"0\">Bash</button><button aria-controls=\"panel-1-Q01E\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-1-Q01E\" name=\"Q01E\" role=\"tab\" tabindex=\"-1\">CMD</button><button aria-controls=\"panel-1-UG93ZXJzaGVsbA==\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-1-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tab\" tabindex=\"-1\">Powershell</button>\n</div>\n<div aria-labelledby=\"tab-1-QmFzaA==\" class=\"sphinx-tabs-panel group-tab\" id=\"panel-1-QmFzaA==\" name=\"QmFzaA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">$ export FLASK_ENV=development\n$ flask run --no-debugger --no-reload\n</pre> </div>\n<div aria-labelledby=\"tab-1-Q01E\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-1-Q01E\" name=\"Q01E\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; set FLASK_ENV=development\n&gt; flask run --no-debugger --no-reload\n</pre> </div>\n<div aria-labelledby=\"tab-1-UG93ZXJzaGVsbA==\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-1-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; $env:FLASK_ENV = \"development\"\n&gt; flask run --no-debugger --no-reload\n</pre> </div>\n</div> <p>When running from Python:</p> <pre data-language=\"python\">app.run(debug=True, use_debugger=False, use_reloader=False)\n</pre> <p>Disabling these isn’t required, an external debugger will continue to work with the following caveats. If the built-in debugger is not disabled, it will catch unhandled exceptions before the external debugger can. If the reloader is not disabled, it could cause an unexpected reload if code changes during debugging.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/debugging/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/debugging/</a>\n  </p>\n</div>\n","logging/index":"<h1>Logging</h1> <p>Flask uses standard Python <a class=\"reference external\" href=\"https://docs.python.org/3/library/logging.html#module-logging\" title=\"(in Python v3.9)\"><code>logging</code></a>. Messages about your Flask application are logged with <a class=\"reference internal\" href=\"../api/index#flask.Flask.logger\" title=\"flask.Flask.logger\"><code>app.logger</code></a>, which takes the same name as <a class=\"reference internal\" href=\"../api/index#flask.Flask.name\" title=\"flask.Flask.name\"><code>app.name</code></a>. This logger can also be used to log your own messages.</p> <pre data-language=\"python\">@app.route('/login', methods=['POST'])\ndef login():\n    user = get_user(request.form['username'])\n\n    if user.check_password(request.form['password']):\n        login_user(user)\n        app.logger.info('%s logged in successfully', user.username)\n        return redirect(url_for('index'))\n    else:\n        app.logger.info('%s failed to log in', user.username)\n        abort(401)\n</pre> <p>If you don’t configure logging, Python’s default log level is usually ‘warning’. Nothing below the configured level will be visible.</p>  <h2 id=\"basic-configuration\">Basic Configuration</h2> <p>When you want to configure logging for your project, you should do it as soon as possible when the program starts. If <a class=\"reference internal\" href=\"../api/index#flask.Flask.logger\" title=\"flask.Flask.logger\"><code>app.logger</code></a> is accessed before logging is configured, it will add a default handler. If possible, configure logging before creating the application object.</p> <p>This example uses <a class=\"reference external\" href=\"https://docs.python.org/3/library/logging.config.html#logging.config.dictConfig\" title=\"(in Python v3.9)\"><code>dictConfig()</code></a> to create a logging configuration similar to Flask’s default, except for all logs:</p> <pre data-language=\"python\">from logging.config import dictConfig\n\ndictConfig({\n    'version': 1,\n    'formatters': {'default': {\n        'format': '[%(asctime)s] %(levelname)s in %(module)s: %(message)s',\n    }},\n    'handlers': {'wsgi': {\n        'class': 'logging.StreamHandler',\n        'stream': 'ext://flask.logging.wsgi_errors_stream',\n        'formatter': 'default'\n    }},\n    'root': {\n        'level': 'INFO',\n        'handlers': ['wsgi']\n    }\n})\n\napp = Flask(__name__)\n</pre>  <h3 id=\"default-configuration\">Default Configuration</h3> <p>If you do not configure logging yourself, Flask will add a <a class=\"reference external\" href=\"https://docs.python.org/3/library/logging.handlers.html#logging.StreamHandler\" title=\"(in Python v3.9)\"><code>StreamHandler</code></a> to <a class=\"reference internal\" href=\"../api/index#flask.Flask.logger\" title=\"flask.Flask.logger\"><code>app.logger</code></a> automatically. During requests, it will write to the stream specified by the WSGI server in <code>environ['wsgi.errors']</code> (which is usually <a class=\"reference external\" href=\"https://docs.python.org/3/library/sys.html#sys.stderr\" title=\"(in Python v3.9)\"><code>sys.stderr</code></a>). Outside a request, it will log to <a class=\"reference external\" href=\"https://docs.python.org/3/library/sys.html#sys.stderr\" title=\"(in Python v3.9)\"><code>sys.stderr</code></a>.</p>   <h3 id=\"removing-the-default-handler\">Removing the Default Handler</h3> <p>If you configured logging after accessing <a class=\"reference internal\" href=\"../api/index#flask.Flask.logger\" title=\"flask.Flask.logger\"><code>app.logger</code></a>, and need to remove the default handler, you can import and remove it:</p> <pre data-language=\"python\">from flask.logging import default_handler\n\napp.logger.removeHandler(default_handler)\n</pre>    <h2 id=\"email-errors-to-admins\">Email Errors to Admins</h2> <p>When running the application on a remote server for production, you probably won’t be looking at the log messages very often. The WSGI server will probably send log messages to a file, and you’ll only check that file if a user tells you something went wrong.</p> <p>To be proactive about discovering and fixing bugs, you can configure a <a class=\"reference external\" href=\"https://docs.python.org/3/library/logging.handlers.html#logging.handlers.SMTPHandler\" title=\"(in Python v3.9)\"><code>logging.handlers.SMTPHandler</code></a> to send an email when errors and higher are logged.</p> <pre data-language=\"python\">import logging\nfrom logging.handlers import SMTPHandler\n\nmail_handler = SMTPHandler(\n    mailhost='127.0.0.1',\n    fromaddr='server-error@example.com',\n    toaddrs=['admin@example.com'],\n    subject='Application Error'\n)\nmail_handler.setLevel(logging.ERROR)\nmail_handler.setFormatter(logging.Formatter(\n    '[%(asctime)s] %(levelname)s in %(module)s: %(message)s'\n))\n\nif not app.debug:\n    app.logger.addHandler(mail_handler)\n</pre> <p>This requires that you have an SMTP server set up on the same server. See the Python docs for more information about configuring the handler.</p>   <h2 id=\"injecting-request-information\">Injecting Request Information</h2> <p>Seeing more information about the request, such as the IP address, may help debugging some errors. You can subclass <a class=\"reference external\" href=\"https://docs.python.org/3/library/logging.html#logging.Formatter\" title=\"(in Python v3.9)\"><code>logging.Formatter</code></a> to inject your own fields that can be used in messages. You can change the formatter for Flask’s default handler, the mail handler defined above, or any other handler.</p> <pre data-language=\"python\">from flask import has_request_context, request\nfrom flask.logging import default_handler\n\nclass RequestFormatter(logging.Formatter):\n    def format(self, record):\n        if has_request_context():\n            record.url = request.url\n            record.remote_addr = request.remote_addr\n        else:\n            record.url = None\n            record.remote_addr = None\n\n        return super().format(record)\n\nformatter = RequestFormatter(\n    '[%(asctime)s] %(remote_addr)s requested %(url)s\\n'\n    '%(levelname)s in %(module)s: %(message)s'\n)\ndefault_handler.setFormatter(formatter)\nmail_handler.setFormatter(formatter)\n</pre>   <h2 id=\"other-libraries\">Other Libraries</h2> <p>Other libraries may use logging extensively, and you want to see relevant messages from those logs too. The simplest way to do this is to add handlers to the root logger instead of only the app logger.</p> <pre data-language=\"python\">from flask.logging import default_handler\n\nroot = logging.getLogger()\nroot.addHandler(default_handler)\nroot.addHandler(mail_handler)\n</pre> <p>Depending on your project, it may be more useful to configure each logger you care about separately, instead of configuring only the root logger.</p> <pre data-language=\"python\">for logger in (\n    app.logger,\n    logging.getLogger('sqlalchemy'),\n    logging.getLogger('other_package'),\n):\n    logger.addHandler(default_handler)\n    logger.addHandler(mail_handler)\n</pre>  <h3 id=\"werkzeug\">Werkzeug</h3> <p>Werkzeug logs basic request/response information to the <code>'werkzeug'</code> logger. If the root logger has no handlers configured, Werkzeug adds a <a class=\"reference external\" href=\"https://docs.python.org/3/library/logging.handlers.html#logging.StreamHandler\" title=\"(in Python v3.9)\"><code>StreamHandler</code></a> to its logger.</p>   <h3 id=\"flask-extensions\">Flask Extensions</h3> <p>Depending on the situation, an extension may choose to log to <a class=\"reference internal\" href=\"../api/index#flask.Flask.logger\" title=\"flask.Flask.logger\"><code>app.logger</code></a> or its own named logger. Consult each extension’s documentation for details.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/logging/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/logging/</a>\n  </p>\n</div>\n","config/index":"<h1>Configuration Handling</h1> <p>Applications need some kind of configuration. There are different settings you might want to change depending on the application environment like toggling the debug mode, setting the secret key, and other such environment-specific things.</p> <p>The way Flask is designed usually requires the configuration to be available when the application starts up. You can hard code the configuration in the code, which for many small applications is not actually that bad, but there are better ways.</p> <p>Independent of how you load your config, there is a config object available which holds the loaded configuration values: The <a class=\"reference internal\" href=\"../api/index#flask.Flask.config\" title=\"flask.Flask.config\"><code>config</code></a> attribute of the <a class=\"reference internal\" href=\"../api/index#flask.Flask\" title=\"flask.Flask\"><code>Flask</code></a> object. This is the place where Flask itself puts certain configuration values and also where extensions can put their configuration values. But this is also where you can have your own configuration.</p>  <h2 id=\"configuration-basics\">Configuration Basics</h2> <p>The <a class=\"reference internal\" href=\"../api/index#flask.Flask.config\" title=\"flask.Flask.config\"><code>config</code></a> is actually a subclass of a dictionary and can be modified just like any dictionary:</p> <pre data-language=\"python\">app = Flask(__name__)\napp.config['TESTING'] = True\n</pre> <p>Certain configuration values are also forwarded to the <a class=\"reference internal\" href=\"../api/index#flask.Flask\" title=\"flask.Flask\"><code>Flask</code></a> object so you can read and write them from there:</p> <pre data-language=\"python\">app.testing = True\n</pre> <p>To update multiple keys at once you can use the <a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict.update\" title=\"(in Python v3.9)\"><code>dict.update()</code></a> method:</p> <pre data-language=\"python\">app.config.update(\n    TESTING=True,\n    SECRET_KEY=b'_5#y2L\"F4Q8z\\n\\xec]/'\n)\n</pre>   <h2 id=\"environment-and-debug-features\">Environment and Debug Features</h2> <p>The <a class=\"reference internal\" href=\"#ENV\" title=\"ENV\"><code>ENV</code></a> and <a class=\"reference internal\" href=\"#DEBUG\" title=\"DEBUG\"><code>DEBUG</code></a> config values are special because they may behave inconsistently if changed after the app has begun setting up. In order to set the environment and debug mode reliably, Flask uses environment variables.</p> <p>The environment is used to indicate to Flask, extensions, and other programs, like Sentry, what context Flask is running in. It is controlled with the <code id=\"index-0\">FLASK_ENV</code> environment variable and defaults to <code>production</code>.</p> <p>Setting <code id=\"index-1\">FLASK_ENV</code> to <code>development</code> will enable debug mode. <code>flask run</code> will use the interactive debugger and reloader by default in debug mode. To control this separately from the environment, use the <code id=\"index-2\">FLASK_DEBUG</code> flag.</p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.0: </span>Added <code id=\"index-3\">FLASK_ENV</code> to control the environment separately from debug mode. The development environment enables debug mode.</p> </div> </details><p>To switch Flask to the development environment and enable debug mode, set <code id=\"index-4\">FLASK_ENV</code>:</p> <div class=\"sphinx-tabs docutils container\"> <div aria-label=\"Tabbed content\" class=\"closeable\" role=\"tablist\">\n<button aria-controls=\"panel-0-QmFzaA==\" aria-selected=\"true\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-QmFzaA==\" name=\"QmFzaA==\" role=\"tab\" tabindex=\"0\">Bash</button><button aria-controls=\"panel-0-Q01E\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-Q01E\" name=\"Q01E\" role=\"tab\" tabindex=\"-1\">CMD</button><button aria-controls=\"panel-0-UG93ZXJzaGVsbA==\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tab\" tabindex=\"-1\">Powershell</button>\n</div>\n<div aria-labelledby=\"tab-0-QmFzaA==\" class=\"sphinx-tabs-panel group-tab\" id=\"panel-0-QmFzaA==\" name=\"QmFzaA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">$ export FLASK_ENV=development\n$ flask run\n</pre> </div>\n<div aria-labelledby=\"tab-0-Q01E\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-0-Q01E\" name=\"Q01E\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; set FLASK_ENV=development\n&gt; flask run\n</pre> </div>\n<div aria-labelledby=\"tab-0-UG93ZXJzaGVsbA==\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-0-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; $env:FLASK_ENV = \"development\"\n&gt; flask run\n</pre> </div>\n</div> <p>Using the environment variables as described above is recommended. While it is possible to set <a class=\"reference internal\" href=\"#ENV\" title=\"ENV\"><code>ENV</code></a> and <a class=\"reference internal\" href=\"#DEBUG\" title=\"DEBUG\"><code>DEBUG</code></a> in your config or code, this is strongly discouraged. They can’t be read early by the <code>flask</code> command, and some systems or extensions may have already configured themselves based on a previous value.</p>   <h2 id=\"builtin-configuration-values\">Builtin Configuration Values</h2> <p>The following configuration values are used internally by Flask:</p> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"ENV\">\n<code>ENV</code> </dt> <dd>\n<p>What environment the app is running in. Flask and extensions may enable behaviors based on the environment, such as enabling debug mode. The <a class=\"reference internal\" href=\"../api/index#flask.Flask.env\" title=\"flask.Flask.env\"><code>env</code></a> attribute maps to this config key. This is set by the <code id=\"index-5\">FLASK_ENV</code> environment variable and may not behave as expected if set in code.</p> <p><strong>Do not enable development when deploying in production.</strong></p> <p>Default: <code>'production'</code></p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 1.0.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"DEBUG\">\n<code>DEBUG</code> </dt> <dd>\n<p>Whether debug mode is enabled. When using <code>flask run</code> to start the development server, an interactive debugger will be shown for unhandled exceptions, and the server will be reloaded when code changes. The <a class=\"reference internal\" href=\"../api/index#flask.Flask.debug\" title=\"flask.Flask.debug\"><code>debug</code></a> attribute maps to this config key. This is enabled when <a class=\"reference internal\" href=\"#ENV\" title=\"ENV\"><code>ENV</code></a> is <code>'development'</code> and is overridden by the <code>FLASK_DEBUG</code> environment variable. It may not behave as expected if set in code.</p> <p><strong>Do not enable debug mode when deploying in production.</strong></p> <p>Default: <code>True</code> if <a class=\"reference internal\" href=\"#ENV\" title=\"ENV\"><code>ENV</code></a> is <code>'development'</code>, or <code>False</code> otherwise.</p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"TESTING\">\n<code>TESTING</code> </dt> <dd>\n<p>Enable testing mode. Exceptions are propagated rather than handled by the the app’s error handlers. Extensions may also change their behavior to facilitate easier testing. You should enable this in your own tests.</p> <p>Default: <code>False</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"PROPAGATE_EXCEPTIONS\">\n<code>PROPAGATE_EXCEPTIONS</code> </dt> <dd>\n<p>Exceptions are re-raised rather than being handled by the app’s error handlers. If not set, this is implicitly true if <code>TESTING</code> or <code>DEBUG</code> is enabled.</p> <p>Default: <code>None</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"PRESERVE_CONTEXT_ON_EXCEPTION\">\n<code>PRESERVE_CONTEXT_ON_EXCEPTION</code> </dt> <dd>\n<p>Don’t pop the request context when an exception occurs. If not set, this is true if <code>DEBUG</code> is true. This allows debuggers to introspect the request data on errors, and should normally not need to be set directly.</p> <p>Default: <code>None</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"TRAP_HTTP_EXCEPTIONS\">\n<code>TRAP_HTTP_EXCEPTIONS</code> </dt> <dd>\n<p>If there is no handler for an <code>HTTPException</code>-type exception, re-raise it to be handled by the interactive debugger instead of returning it as a simple error response.</p> <p>Default: <code>False</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"TRAP_BAD_REQUEST_ERRORS\">\n<code>TRAP_BAD_REQUEST_ERRORS</code> </dt> <dd>\n<p>Trying to access a key that doesn’t exist from request dicts like <code>args</code> and <code>form</code> will return a 400 Bad Request error page. Enable this to treat the error as an unhandled exception instead so that you get the interactive debugger. This is a more specific version of <code>TRAP_HTTP_EXCEPTIONS</code>. If unset, it is enabled in debug mode.</p> <p>Default: <code>None</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"SECRET_KEY\">\n<code>SECRET_KEY</code> </dt> <dd>\n<p>A secret key that will be used for securely signing the session cookie and can be used for any other security related needs by extensions or your application. It should be a long random <code>bytes</code> or <code>str</code>. For example, copy the output of this to your config:</p> <pre data-language=\"python\">$ python -c 'import os; print(os.urandom(16))'\nb'_5#y2L\"F4Q8z\\n\\xec]/'\n</pre> <p><strong>Do not reveal the secret key when posting questions or committing code.</strong></p> <p>Default: <code>None</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"SESSION_COOKIE_NAME\">\n<code>SESSION_COOKIE_NAME</code> </dt> <dd>\n<p>The name of the session cookie. Can be changed in case you already have a cookie with the same name.</p> <p>Default: <code>'session'</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"SESSION_COOKIE_DOMAIN\">\n<code>SESSION_COOKIE_DOMAIN</code> </dt> <dd>\n<p>The domain match rule that the session cookie will be valid for. If not set, the cookie will be valid for all subdomains of <a class=\"reference internal\" href=\"#SERVER_NAME\" title=\"SERVER_NAME\"><code>SERVER_NAME</code></a>. If <code>False</code>, the cookie’s domain will not be set.</p> <p>Default: <code>None</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"SESSION_COOKIE_PATH\">\n<code>SESSION_COOKIE_PATH</code> </dt> <dd>\n<p>The path that the session cookie will be valid for. If not set, the cookie will be valid underneath <code>APPLICATION_ROOT</code> or <code>/</code> if that is not set.</p> <p>Default: <code>None</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"SESSION_COOKIE_HTTPONLY\">\n<code>SESSION_COOKIE_HTTPONLY</code> </dt> <dd>\n<p>Browsers will not allow JavaScript access to cookies marked as “HTTP only” for security.</p> <p>Default: <code>True</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"SESSION_COOKIE_SECURE\">\n<code>SESSION_COOKIE_SECURE</code> </dt> <dd>\n<p>Browsers will only send cookies with requests over HTTPS if the cookie is marked “secure”. The application must be served over HTTPS for this to make sense.</p> <p>Default: <code>False</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"SESSION_COOKIE_SAMESITE\">\n<code>SESSION_COOKIE_SAMESITE</code> </dt> <dd>\n<p>Restrict how cookies are sent with requests from external sites. Can be set to <code>'Lax'</code> (recommended) or <code>'Strict'</code>. See <a class=\"reference internal\" href=\"../security/index#security-cookie\"><span class=\"std std-ref\">Set-Cookie options</span></a>.</p> <p>Default: <code>None</code></p> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 1.0.</span></p> </div> </details>\n</dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"PERMANENT_SESSION_LIFETIME\">\n<code>PERMANENT_SESSION_LIFETIME</code> </dt> <dd>\n<p>If <code>session.permanent</code> is true, the cookie’s expiration will be set this number of seconds in the future. Can either be a <a class=\"reference external\" href=\"https://docs.python.org/3/library/datetime.html#datetime.timedelta\" title=\"(in Python v3.9)\"><code>datetime.timedelta</code></a> or an <code>int</code>.</p> <p>Flask’s default cookie implementation validates that the cryptographic signature is not older than this value.</p> <p>Default: <code>timedelta(days=31)</code> (<code>2678400</code> seconds)</p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"SESSION_REFRESH_EACH_REQUEST\">\n<code>SESSION_REFRESH_EACH_REQUEST</code> </dt> <dd>\n<p>Control whether the cookie is sent with every response when <code>session.permanent</code> is true. Sending the cookie every time (the default) can more reliably keep the session from expiring, but uses more bandwidth. Non-permanent sessions are not affected.</p> <p>Default: <code>True</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"USE_X_SENDFILE\">\n<code>USE_X_SENDFILE</code> </dt> <dd>\n<p>When serving files, set the <code>X-Sendfile</code> header instead of serving the data with Flask. Some web servers, such as Apache, recognize this and serve the data more efficiently. This only makes sense when using such a server.</p> <p>Default: <code>False</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"SEND_FILE_MAX_AGE_DEFAULT\">\n<code>SEND_FILE_MAX_AGE_DEFAULT</code> </dt> <dd>\n<p>When serving files, set the cache control max age to this number of seconds. Can be a <a class=\"reference external\" href=\"https://docs.python.org/3/library/datetime.html#datetime.timedelta\" title=\"(in Python v3.9)\"><code>datetime.timedelta</code></a> or an <code>int</code>. Override this value on a per-file basis using <a class=\"reference internal\" href=\"../api/index#flask.Flask.get_send_file_max_age\" title=\"flask.Flask.get_send_file_max_age\"><code>get_send_file_max_age()</code></a> on the application or blueprint.</p> <p>If <code>None</code>, <code>send_file</code> tells the browser to use conditional requests will be used instead of a timed cache, which is usually preferable.</p> <p>Default: <code>None</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"SERVER_NAME\">\n<code>SERVER_NAME</code> </dt> <dd>\n<p>Inform the application what host and port it is bound to. Required for subdomain route matching support.</p> <p>If set, will be used for the session cookie domain if <a class=\"reference internal\" href=\"#SESSION_COOKIE_DOMAIN\" title=\"SESSION_COOKIE_DOMAIN\"><code>SESSION_COOKIE_DOMAIN</code></a> is not set. Modern web browsers will not allow setting cookies for domains without a dot. To use a domain locally, add any names that should route to the app to your <code>hosts</code> file.</p> <pre data-language=\"python\">127.0.0.1 localhost.dev\n</pre> <p>If set, <code>url_for</code> can generate external URLs with only an application context instead of a request context.</p> <p>Default: <code>None</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"APPLICATION_ROOT\">\n<code>APPLICATION_ROOT</code> </dt> <dd>\n<p>Inform the application what path it is mounted under by the application / web server. This is used for generating URLs outside the context of a request (inside a request, the dispatcher is responsible for setting <code>SCRIPT_NAME</code> instead; see <a class=\"reference internal\" href=\"../patterns/appdispatch/index\"><span class=\"doc\">Application Dispatching</span></a> for examples of dispatch configuration).</p> <p>Will be used for the session cookie path if <code>SESSION_COOKIE_PATH</code> is not set.</p> <p>Default: <code>'/'</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"PREFERRED_URL_SCHEME\">\n<code>PREFERRED_URL_SCHEME</code> </dt> <dd>\n<p>Use this scheme for generating external URLs when not in a request context.</p> <p>Default: <code>'http'</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"MAX_CONTENT_LENGTH\">\n<code>MAX_CONTENT_LENGTH</code> </dt> <dd>\n<p>Don’t read more than this many bytes from the incoming request data. If not set and the request does not specify a <code>CONTENT_LENGTH</code>, no data will be read for security.</p> <p>Default: <code>None</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"JSON_AS_ASCII\">\n<code>JSON_AS_ASCII</code> </dt> <dd>\n<p>Serialize objects to ASCII-encoded JSON. If this is disabled, the JSON returned from <code>jsonify</code> will contain Unicode characters. This has security implications when rendering the JSON into JavaScript in templates, and should typically remain enabled.</p> <p>Default: <code>True</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"JSON_SORT_KEYS\">\n<code>JSON_SORT_KEYS</code> </dt> <dd>\n<p>Sort the keys of JSON objects alphabetically. This is useful for caching because it ensures the data is serialized the same way no matter what Python’s hash seed is. While not recommended, you can disable this for a possible performance improvement at the cost of caching.</p> <p>Default: <code>True</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"JSONIFY_PRETTYPRINT_REGULAR\">\n<code>JSONIFY_PRETTYPRINT_REGULAR</code> </dt> <dd>\n<p><code>jsonify</code> responses will be output with newlines, spaces, and indentation for easier reading by humans. Always enabled in debug mode.</p> <p>Default: <code>False</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"JSONIFY_MIMETYPE\">\n<code>JSONIFY_MIMETYPE</code> </dt> <dd>\n<p>The mimetype of <code>jsonify</code> responses.</p> <p>Default: <code>'application/json'</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"TEMPLATES_AUTO_RELOAD\">\n<code>TEMPLATES_AUTO_RELOAD</code> </dt> <dd>\n<p>Reload templates when they are changed. If not set, it will be enabled in debug mode.</p> <p>Default: <code>None</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"EXPLAIN_TEMPLATE_LOADING\">\n<code>EXPLAIN_TEMPLATE_LOADING</code> </dt> <dd>\n<p>Log debugging information tracing how a template file was loaded. This can be useful to figure out why a template was not loaded or the wrong file appears to be loaded.</p> <p>Default: <code>False</code></p> </dd>\n</dl> <dl class=\"py data\"> <dt class=\"sig sig-object py\" id=\"MAX_COOKIE_SIZE\">\n<code>MAX_COOKIE_SIZE</code> </dt> <dd>\n<p>Warn if cookie headers are larger than this many bytes. Defaults to <code>4093</code>. Larger cookies may be silently ignored by browsers. Set to <code>0</code> to disable the warning.</p> </dd>\n</dl> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionchanged\"> <p><span class=\"versionmodified changed\">Changed in version 1.0: </span><code>LOGGER_NAME</code> and <code>LOGGER_HANDLER_POLICY</code> were removed. See <a class=\"reference internal\" href=\"../logging/index\"><span class=\"doc\">Logging</span></a> for information about configuration.</p> <p>Added <a class=\"reference internal\" href=\"#ENV\" title=\"ENV\"><code>ENV</code></a> to reflect the <code id=\"index-6\">FLASK_ENV</code> environment variable.</p> <p>Added <a class=\"reference internal\" href=\"#SESSION_COOKIE_SAMESITE\" title=\"SESSION_COOKIE_SAMESITE\"><code>SESSION_COOKIE_SAMESITE</code></a> to control the session cookie’s <code>SameSite</code> option.</p> <p>Added <a class=\"reference internal\" href=\"#MAX_COOKIE_SIZE\" title=\"MAX_COOKIE_SIZE\"><code>MAX_COOKIE_SIZE</code></a> to control a warning from Werkzeug.</p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.11: </span><code>SESSION_REFRESH_EACH_REQUEST</code>, <code>TEMPLATES_AUTO_RELOAD</code>, <code>LOGGER_HANDLER_POLICY</code>, <code>EXPLAIN_TEMPLATE_LOADING</code></p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.10: </span><code>JSON_AS_ASCII</code>, <code>JSON_SORT_KEYS</code>, <code>JSONIFY_PRETTYPRINT_REGULAR</code></p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9: </span><code>PREFERRED_URL_SCHEME</code></p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.8: </span><code>TRAP_BAD_REQUEST_ERRORS</code>, <code>TRAP_HTTP_EXCEPTIONS</code>, <code>APPLICATION_ROOT</code>, <code>SESSION_COOKIE_DOMAIN</code>, <code>SESSION_COOKIE_PATH</code>, <code>SESSION_COOKIE_HTTPONLY</code>, <code>SESSION_COOKIE_SECURE</code></p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7: </span><code>PROPAGATE_EXCEPTIONS</code>, <code>PRESERVE_CONTEXT_ON_EXCEPTION</code></p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.6: </span><code>MAX_CONTENT_LENGTH</code></p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.5: </span><code>SERVER_NAME</code></p> </div> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.4: </span><code>LOGGER_NAME</code></p> </div> </details>  <h2 id=\"configuring-from-python-files\">Configuring from Python Files</h2> <p>Configuration becomes more useful if you can store it in a separate file, ideally located outside the actual application package. This makes packaging and distributing your application possible via various package handling tools (<a class=\"reference internal\" href=\"../patterns/distribute/index\"><span class=\"doc\">Deploying with Setuptools</span></a>) and finally modifying the configuration file afterwards.</p> <p>So a common pattern is this:</p> <pre data-language=\"python\">app = Flask(__name__)\napp.config.from_object('yourapplication.default_settings')\napp.config.from_envvar('YOURAPPLICATION_SETTINGS')\n</pre> <p>This first loads the configuration from the <code>yourapplication.default_settings</code> module and then overrides the values with the contents of the file the <code id=\"index-7\">YOURAPPLICATION_SETTINGS</code> environment variable points to. This environment variable can be set in the shell before starting the server:</p> <div class=\"sphinx-tabs docutils container\"> <div aria-label=\"Tabbed content\" class=\"closeable\" role=\"tablist\">\n<button aria-controls=\"panel-1-QmFzaA==\" aria-selected=\"true\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-1-QmFzaA==\" name=\"QmFzaA==\" role=\"tab\" tabindex=\"0\">Bash</button><button aria-controls=\"panel-1-Q01E\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-1-Q01E\" name=\"Q01E\" role=\"tab\" tabindex=\"-1\">CMD</button><button aria-controls=\"panel-1-UG93ZXJzaGVsbA==\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-1-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tab\" tabindex=\"-1\">Powershell</button>\n</div>\n<div aria-labelledby=\"tab-1-QmFzaA==\" class=\"sphinx-tabs-panel group-tab\" id=\"panel-1-QmFzaA==\" name=\"QmFzaA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">$ export YOURAPPLICATION_SETTINGS=/path/to/settings.cfg\n$ flask run\n * Running on http://127.0.0.1:5000/\n</pre> </div>\n<div aria-labelledby=\"tab-1-Q01E\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-1-Q01E\" name=\"Q01E\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; set YOURAPPLICATION_SETTINGS=\\path\\to\\settings.cfg\n&gt; flask run\n * Running on http://127.0.0.1:5000/\n</pre> </div>\n<div aria-labelledby=\"tab-1-UG93ZXJzaGVsbA==\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-1-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; $env:YOURAPPLICATION_SETTINGS = \"\\path\\to\\settings.cfg\"\n&gt; flask run\n * Running on http://127.0.0.1:5000/\n</pre> </div>\n</div> <p>The configuration files themselves are actual Python files. Only values in uppercase are actually stored in the config object later on. So make sure to use uppercase letters for your config keys.</p> <p>Here is an example of a configuration file:</p> <pre data-language=\"python\"># Example configuration\nSECRET_KEY = b'_5#y2L\"F4Q8z\\n\\xec]/'\n</pre> <p>Make sure to load the configuration very early on, so that extensions have the ability to access the configuration when starting up. There are other methods on the config object as well to load from individual files. For a complete reference, read the <a class=\"reference internal\" href=\"../api/index#flask.Config\" title=\"flask.Config\"><code>Config</code></a> object’s documentation.</p>   <h2 id=\"configuring-from-data-files\">Configuring from Data Files</h2> <p>It is also possible to load configuration from a file in a format of your choice using <a class=\"reference internal\" href=\"../api/index#flask.Config.from_file\" title=\"flask.Config.from_file\"><code>from_file()</code></a>. For example to load from a TOML file:</p> <pre data-language=\"python\">import toml\napp.config.from_file(\"config.toml\", load=toml.load)\n</pre> <p>Or from a JSON file:</p> <pre data-language=\"python\">import json\napp.config.from_file(\"config.json\", load=json.load)\n</pre>   <h2 id=\"configuring-from-environment-variables\">Configuring from Environment Variables</h2> <p>In addition to pointing to configuration files using environment variables, you may find it useful (or necessary) to control your configuration values directly from the environment.</p> <p>Environment variables can be set in the shell before starting the server:</p> <div class=\"sphinx-tabs docutils container\"> <div aria-label=\"Tabbed content\" class=\"closeable\" role=\"tablist\">\n<button aria-controls=\"panel-2-QmFzaA==\" aria-selected=\"true\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-2-QmFzaA==\" name=\"QmFzaA==\" role=\"tab\" tabindex=\"0\">Bash</button><button aria-controls=\"panel-2-Q01E\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-2-Q01E\" name=\"Q01E\" role=\"tab\" tabindex=\"-1\">CMD</button><button aria-controls=\"panel-2-UG93ZXJzaGVsbA==\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-2-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tab\" tabindex=\"-1\">Powershell</button>\n</div>\n<div aria-labelledby=\"tab-2-QmFzaA==\" class=\"sphinx-tabs-panel group-tab\" id=\"panel-2-QmFzaA==\" name=\"QmFzaA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">$ export SECRET_KEY=\"5f352379324c22463451387a0aec5d2f\"\n$ export MAIL_ENABLED=false\n$ flask run\n * Running on http://127.0.0.1:5000/\n</pre> </div>\n<div aria-labelledby=\"tab-2-Q01E\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-2-Q01E\" name=\"Q01E\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; set SECRET_KEY=\"5f352379324c22463451387a0aec5d2f\"\n&gt; set MAIL_ENABLED=false\n&gt; flask run\n * Running on http://127.0.0.1:5000/\n</pre> </div>\n<div aria-labelledby=\"tab-2-UG93ZXJzaGVsbA==\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-2-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; $env:SECRET_KEY = \"5f352379324c22463451387a0aec5d2f\"\n&gt; $env:MAIL_ENABLED = \"false\"\n&gt; flask run\n * Running on http://127.0.0.1:5000/\n</pre> </div>\n</div> <p>While this approach is straightforward to use, it is important to remember that environment variables are strings – they are not automatically deserialized into Python types.</p> <p>Here is an example of a configuration file that uses environment variables:</p> <pre data-language=\"python\">import os\n\n_mail_enabled = os.environ.get(\"MAIL_ENABLED\", default=\"true\")\nMAIL_ENABLED = _mail_enabled.lower() in {\"1\", \"t\", \"true\"}\n\nSECRET_KEY = os.environ.get(\"SECRET_KEY\")\n\nif not SECRET_KEY:\n    raise ValueError(\"No SECRET_KEY set for Flask application\")\n</pre> <p>Notice that any value besides an empty string will be interpreted as a boolean <code>True</code> value in Python, which requires care if an environment explicitly sets values intended to be <code>False</code>.</p> <p>Make sure to load the configuration very early on, so that extensions have the ability to access the configuration when starting up. There are other methods on the config object as well to load from individual files. For a complete reference, read the <a class=\"reference internal\" href=\"../api/index#flask.Config\" title=\"flask.Config\"><code>Config</code></a> class documentation.</p>   <h2 id=\"configuration-best-practices\">Configuration Best Practices</h2> <p>The downside with the approach mentioned earlier is that it makes testing a little harder. There is no single 100% solution for this problem in general, but there are a couple of things you can keep in mind to improve that experience:</p> <ol class=\"arabic simple\"> <li>Create your application in a function and register blueprints on it. That way you can create multiple instances of your application with different configurations attached which makes unit testing a lot easier. You can use this to pass in configuration as needed.</li> <li>Do not write code that needs the configuration at import time. If you limit yourself to request-only accesses to the configuration you can reconfigure the object later on as needed.</li> </ol>   <h2 id=\"config-dev-prod\">Development / Production</h2> <p id=\"development-production\">Most applications need more than one configuration. There should be at least separate configurations for the production server and the one used during development. The easiest way to handle this is to use a default configuration that is always loaded and part of the version control, and a separate configuration that overrides the values as necessary as mentioned in the example above:</p> <pre data-language=\"python\">app = Flask(__name__)\napp.config.from_object('yourapplication.default_settings')\napp.config.from_envvar('YOURAPPLICATION_SETTINGS')\n</pre> <p>Then you just have to add a separate <code>config.py</code> file and export <code>YOURAPPLICATION_SETTINGS=/path/to/config.py</code> and you are done. However there are alternative ways as well. For example you could use imports or subclassing.</p> <p>What is very popular in the Django world is to make the import explicit in the config file by adding <code>from yourapplication.default_settings\nimport *</code> to the top of the file and then overriding the changes by hand. You could also inspect an environment variable like <code>YOURAPPLICATION_MODE</code> and set that to <code>production</code>, <code>development</code> etc and import different hard-coded files based on that.</p> <p>An interesting pattern is also to use classes and inheritance for configuration:</p> <pre data-language=\"python\">class Config(object):\n    TESTING = False\n\nclass ProductionConfig(Config):\n    DATABASE_URI = 'mysql://user@localhost/foo'\n\nclass DevelopmentConfig(Config):\n    DATABASE_URI = \"sqlite:////tmp/foo.db\"\n\nclass TestingConfig(Config):\n    DATABASE_URI = 'sqlite:///:memory:'\n    TESTING = True\n</pre> <p>To enable such a config you just have to call into <a class=\"reference internal\" href=\"../api/index#flask.Config.from_object\" title=\"flask.Config.from_object\"><code>from_object()</code></a>:</p> <pre data-language=\"python\">app.config.from_object('configmodule.ProductionConfig')\n</pre> <p>Note that <a class=\"reference internal\" href=\"../api/index#flask.Config.from_object\" title=\"flask.Config.from_object\"><code>from_object()</code></a> does not instantiate the class object. If you need to instantiate the class, such as to access a property, then you must do so before calling <a class=\"reference internal\" href=\"../api/index#flask.Config.from_object\" title=\"flask.Config.from_object\"><code>from_object()</code></a>:</p> <pre data-language=\"python\">from configmodule import ProductionConfig\napp.config.from_object(ProductionConfig())\n\n# Alternatively, import via string:\nfrom werkzeug.utils import import_string\ncfg = import_string('configmodule.ProductionConfig')()\napp.config.from_object(cfg)\n</pre> <p>Instantiating the configuration object allows you to use <code>@property</code> in your configuration classes:</p> <pre data-language=\"python\">class Config(object):\n    \"\"\"Base config, uses staging database server.\"\"\"\n    TESTING = False\n    DB_SERVER = '192.168.1.56'\n\n    @property\n    def DATABASE_URI(self):  # Note: all caps\n        return f\"mysql://user@{self.DB_SERVER}/foo\"\n\nclass ProductionConfig(Config):\n    \"\"\"Uses production database server.\"\"\"\n    DB_SERVER = '192.168.19.32'\n\nclass DevelopmentConfig(Config):\n    DB_SERVER = 'localhost'\n\nclass TestingConfig(Config):\n    DB_SERVER = 'localhost'\n    DATABASE_URI = 'sqlite:///:memory:'\n</pre> <p>There are many different ways and it’s up to you how you want to manage your configuration files. However here a list of good recommendations:</p> <ul class=\"simple\"> <li>Keep a default configuration in version control. Either populate the config with this default configuration or import it in your own configuration files before overriding values.</li> <li>Use an environment variable to switch between the configurations. This can be done from outside the Python interpreter and makes development and deployment much easier because you can quickly and easily switch between different configs without having to touch the code at all. If you are working often on different projects you can even create your own script for sourcing that activates a virtualenv and exports the development configuration for you.</li> <li>Use a tool like <a class=\"reference external\" href=\"https://www.fabfile.org/\">fabric</a> in production to push code and configurations separately to the production server(s). For some details about how to do that, head over to the <a class=\"reference internal\" href=\"../patterns/fabric/index\"><span class=\"doc\">Deploying with Fabric</span></a> pattern.</li> </ul>   <h2 id=\"id1\">Instance Folders</h2> <details class=\"changelog\" id=\"instance-folders\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.8.</span></p> </div> </details><p>Flask 0.8 introduces instance folders. Flask for a long time made it possible to refer to paths relative to the application’s folder directly (via <code>Flask.root_path</code>). This was also how many developers loaded configurations stored next to the application. Unfortunately however this only works well if applications are not packages in which case the root path refers to the contents of the package.</p> <p>With Flask 0.8 a new attribute was introduced: <code>Flask.instance_path</code>. It refers to a new concept called the “instance folder”. The instance folder is designed to not be under version control and be deployment specific. It’s the perfect place to drop things that either change at runtime or configuration files.</p> <p>You can either explicitly provide the path of the instance folder when creating the Flask application or you can let Flask autodetect the instance folder. For explicit configuration use the <code>instance_path</code> parameter:</p> <pre data-language=\"python\">app = Flask(__name__, instance_path='/path/to/instance/folder')\n</pre> <p>Please keep in mind that this path <em>must</em> be absolute when provided.</p> <p>If the <code>instance_path</code> parameter is not provided the following default locations are used:</p> <ul> <li>\n<p>Uninstalled module:</p> <pre data-language=\"python\">/myapp.py\n/instance\n</pre> </li> <li>\n<p>Uninstalled package:</p> <pre data-language=\"python\">/myapp\n    /__init__.py\n/instance\n</pre> </li> <li>\n<p>Installed module or package:</p> <pre data-language=\"python\">$PREFIX/lib/pythonX.Y/site-packages/myapp\n$PREFIX/var/myapp-instance\n</pre> <p><code>$PREFIX</code> is the prefix of your Python installation. This can be <code>/usr</code> or the path to your virtualenv. You can print the value of <code>sys.prefix</code> to see what the prefix is set to.</p> </li> </ul> <p>Since the config object provided loading of configuration files from relative filenames we made it possible to change the loading via filenames to be relative to the instance path if wanted. The behavior of relative paths in config files can be flipped between “relative to the application root” (the default) to “relative to instance folder” via the <code>instance_relative_config</code> switch to the application constructor:</p> <pre data-language=\"python\">app = Flask(__name__, instance_relative_config=True)\n</pre> <p>Here is a full example of how to configure Flask to preload the config from a module and then override the config from a file in the instance folder if it exists:</p> <pre data-language=\"python\">app = Flask(__name__, instance_relative_config=True)\napp.config.from_object('yourapplication.default_settings')\napp.config.from_pyfile('application.cfg', silent=True)\n</pre> <p>The path to the instance folder can be found via the <code>Flask.instance_path</code>. Flask also provides a shortcut to open a file from the instance folder with <code>Flask.open_instance_resource()</code>.</p> <p>Example usage for both:</p> <pre data-language=\"python\">filename = os.path.join(app.instance_path, 'application.cfg')\nwith open(filename) as f:\n    config = f.read()\n\n# or via open_instance_resource:\nwith app.open_instance_resource('application.cfg') as f:\n    config = f.read()\n</pre><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/config/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/config/</a>\n  </p>\n</div>\n","signals/index":"<h1>Signals</h1> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.6.</span></p> </div> </details><p>Starting with Flask 0.6, there is integrated support for signalling in Flask. This support is provided by the excellent <a class=\"reference external\" href=\"https://pypi.org/project/blinker/\">blinker</a> library and will gracefully fall back if it is not available.</p> <p>What are signals? Signals help you decouple applications by sending notifications when actions occur elsewhere in the core framework or another Flask extensions. In short, signals allow certain senders to notify subscribers that something happened.</p> <p>Flask comes with a couple of signals and other extensions might provide more. Also keep in mind that signals are intended to notify subscribers and should not encourage subscribers to modify data. You will notice that there are signals that appear to do the same thing like some of the builtin decorators do (eg: <a class=\"reference internal\" href=\"../api/index#flask.request_started\" title=\"flask.request_started\"><code>request_started</code></a> is very similar to <a class=\"reference internal\" href=\"../api/index#flask.Flask.before_request\" title=\"flask.Flask.before_request\"><code>before_request()</code></a>). However, there are differences in how they work. The core <a class=\"reference internal\" href=\"../api/index#flask.Flask.before_request\" title=\"flask.Flask.before_request\"><code>before_request()</code></a> handler, for example, is executed in a specific order and is able to abort the request early by returning a response. In contrast all signal handlers are executed in undefined order and do not modify any data.</p> <p>The big advantage of signals over handlers is that you can safely subscribe to them for just a split second. These temporary subscriptions are helpful for unit testing for example. Say you want to know what templates were rendered as part of a request: signals allow you to do exactly that.</p>  <h2 id=\"subscribing-to-signals\">Subscribing to Signals</h2> <p>To subscribe to a signal, you can use the <a class=\"reference external\" href=\"https://pythonhosted.org/blinker/index.html#blinker.base.Signal.connect\" title=\"(in Blinker v1.4)\"><code>connect()</code></a> method of a signal. The first argument is the function that should be called when the signal is emitted, the optional second argument specifies a sender. To unsubscribe from a signal, you can use the <a class=\"reference external\" href=\"https://pythonhosted.org/blinker/index.html#blinker.base.Signal.disconnect\" title=\"(in Blinker v1.4)\"><code>disconnect()</code></a> method.</p> <p>For all core Flask signals, the sender is the application that issued the signal. When you subscribe to a signal, be sure to also provide a sender unless you really want to listen for signals from all applications. This is especially true if you are developing an extension.</p> <p>For example, here is a helper context manager that can be used in a unit test to determine which templates were rendered and what variables were passed to the template:</p> <pre data-language=\"python\">from flask import template_rendered\nfrom contextlib import contextmanager\n\n@contextmanager\ndef captured_templates(app):\n    recorded = []\n    def record(sender, template, context, **extra):\n        recorded.append((template, context))\n    template_rendered.connect(record, app)\n    try:\n        yield recorded\n    finally:\n        template_rendered.disconnect(record, app)\n</pre> <p>This can now easily be paired with a test client:</p> <pre data-language=\"python\">with captured_templates(app) as templates:\n    rv = app.test_client().get('/')\n    assert rv.status_code == 200\n    assert len(templates) == 1\n    template, context = templates[0]\n    assert template.name == 'index.html'\n    assert len(context['items']) == 10\n</pre> <p>Make sure to subscribe with an extra <code>**extra</code> argument so that your calls don’t fail if Flask introduces new arguments to the signals.</p> <p>All the template rendering in the code issued by the application <code>app</code> in the body of the <code>with</code> block will now be recorded in the <code>templates</code> variable. Whenever a template is rendered, the template object as well as context are appended to it.</p> <p>Additionally there is a convenient helper method (<a class=\"reference external\" href=\"https://pythonhosted.org/blinker/index.html#blinker.base.Signal.connected_to\" title=\"(in Blinker v1.4)\"><code>connected_to()</code></a>) that allows you to temporarily subscribe a function to a signal with a context manager on its own. Because the return value of the context manager cannot be specified that way, you have to pass the list in as an argument:</p> <pre data-language=\"python\">from flask import template_rendered\n\ndef captured_templates(app, recorded, **extra):\n    def record(sender, template, context):\n        recorded.append((template, context))\n    return template_rendered.connected_to(record, app)\n</pre> <p>The example above would then look like this:</p> <pre data-language=\"python\">templates = []\nwith captured_templates(app, templates, **extra):\n    ...\n    template, context = templates[0]\n</pre> <div class=\"admonition-blinker-api-changes admonition\"> <p class=\"admonition-title\">Blinker API Changes</p> <p>The <a class=\"reference external\" href=\"https://pythonhosted.org/blinker/index.html#blinker.base.Signal.connected_to\" title=\"(in Blinker v1.4)\"><code>connected_to()</code></a> method arrived in Blinker with version 1.1.</p> </div>   <h2 id=\"creating-signals\">Creating Signals</h2> <p>If you want to use signals in your own application, you can use the blinker library directly. The most common use case are named signals in a custom <a class=\"reference external\" href=\"https://pythonhosted.org/blinker/index.html#blinker.base.Namespace\" title=\"(in Blinker v1.4)\"><code>Namespace</code></a>.. This is what is recommended most of the time:</p> <pre data-language=\"python\">from blinker import Namespace\nmy_signals = Namespace()\n</pre> <p>Now you can create new signals like this:</p> <pre data-language=\"python\">model_saved = my_signals.signal('model-saved')\n</pre> <p>The name for the signal here makes it unique and also simplifies debugging. You can access the name of the signal with the <a class=\"reference external\" href=\"https://pythonhosted.org/blinker/index.html#blinker.base.NamedSignal.name\" title=\"(in Blinker v1.4)\"><code>name</code></a> attribute.</p> <div class=\"admonition-for-extension-developers admonition\"> <p class=\"admonition-title\">For Extension Developers</p> <p>If you are writing a Flask extension and you want to gracefully degrade for missing blinker installations, you can do so by using the <a class=\"reference internal\" href=\"../api/index#flask.signals.Namespace\" title=\"flask.signals.Namespace\"><code>flask.signals.Namespace</code></a> class.</p> </div>   <h2 id=\"signals-sending\">Sending Signals</h2> <p id=\"sending-signals\">If you want to emit a signal, you can do so by calling the <a class=\"reference external\" href=\"https://pythonhosted.org/blinker/index.html#blinker.base.Signal.send\" title=\"(in Blinker v1.4)\"><code>send()</code></a> method. It accepts a sender as first argument and optionally some keyword arguments that are forwarded to the signal subscribers:</p> <pre data-language=\"python\">class Model(object):\n    ...\n\n    def save(self):\n        model_saved.send(self)\n</pre> <p>Try to always pick a good sender. If you have a class that is emitting a signal, pass <code>self</code> as sender. If you are emitting a signal from a random function, you can pass <code>current_app._get_current_object()</code> as sender.</p> <div class=\"admonition-passing-proxies-as-senders admonition\"> <p class=\"admonition-title\">Passing Proxies as Senders</p> <p>Never pass <a class=\"reference internal\" href=\"../api/index#flask.current_app\" title=\"flask.current_app\"><code>current_app</code></a> as sender to a signal. Use <code>current_app._get_current_object()</code> instead. The reason for this is that <a class=\"reference internal\" href=\"../api/index#flask.current_app\" title=\"flask.current_app\"><code>current_app</code></a> is a proxy and not the real application object.</p> </div>   <h2 id=\"signals-and-flask-s-request-context\">Signals and Flask’s Request Context</h2> <p>Signals fully support <a class=\"reference internal\" href=\"../reqcontext/index\"><span class=\"doc\">The Request Context</span></a> when receiving signals. Context-local variables are consistently available between <a class=\"reference internal\" href=\"../api/index#flask.request_started\" title=\"flask.request_started\"><code>request_started</code></a> and <a class=\"reference internal\" href=\"../api/index#flask.request_finished\" title=\"flask.request_finished\"><code>request_finished</code></a>, so you can rely on <a class=\"reference internal\" href=\"../api/index#flask.g\" title=\"flask.g\"><code>flask.g</code></a> and others as needed. Note the limitations described in <a class=\"reference internal\" href=\"#signals-sending\"><span class=\"std std-ref\">Sending Signals</span></a> and the <a class=\"reference internal\" href=\"../api/index#flask.request_tearing_down\" title=\"flask.request_tearing_down\"><code>request_tearing_down</code></a> signal.</p>   <h2 id=\"decorator-based-signal-subscriptions\">Decorator Based Signal Subscriptions</h2> <p>With Blinker 1.1 you can also easily subscribe to signals by using the new <code>connect_via()</code> decorator:</p> <pre data-language=\"python\">from flask import template_rendered\n\n@template_rendered.connect_via(app)\ndef when_template_rendered(sender, template, context, **extra):\n    print f'Template {template.name} is rendered with {context}'\n</pre>   <h2 id=\"core-signals\">Core Signals</h2> <p>Take a look at <a class=\"reference internal\" href=\"../api/index#core-signals-list\"><span class=\"std std-ref\">Signals</span></a> for a list of all builtin signals.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/signals/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/signals/</a>\n  </p>\n</div>\n","views/index":"<h1>Pluggable Views</h1> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details><p>Flask 0.7 introduces pluggable views inspired by the generic views from Django which are based on classes instead of functions. The main intention is that you can replace parts of the implementations and this way have customizable pluggable views.</p>  <h2 id=\"basic-principle\">Basic Principle</h2> <p>Consider you have a function that loads a list of objects from the database and renders into a template:</p> <pre data-language=\"python\">@app.route('/users/')\ndef show_users(page):\n    users = User.query.all()\n    return render_template('users.html', users=users)\n</pre> <p>This is simple and flexible, but if you want to provide this view in a generic fashion that can be adapted to other models and templates as well you might want more flexibility. This is where pluggable class-based views come into place. As the first step to convert this into a class based view you would do this:</p> <pre data-language=\"python\">from flask.views import View\n\nclass ShowUsers(View):\n\n    def dispatch_request(self):\n        users = User.query.all()\n        return render_template('users.html', objects=users)\n\napp.add_url_rule('/users/', view_func=ShowUsers.as_view('show_users'))\n</pre> <p>As you can see what you have to do is to create a subclass of <a class=\"reference internal\" href=\"../api/index#flask.views.View\" title=\"flask.views.View\"><code>flask.views.View</code></a> and implement <a class=\"reference internal\" href=\"../api/index#flask.views.View.dispatch_request\" title=\"flask.views.View.dispatch_request\"><code>dispatch_request()</code></a>. Then we have to convert that class into an actual view function by using the <a class=\"reference internal\" href=\"../api/index#flask.views.View.as_view\" title=\"flask.views.View.as_view\"><code>as_view()</code></a> class method. The string you pass to that function is the name of the endpoint that view will then have. But this by itself is not helpful, so let’s refactor the code a bit:</p> <pre data-language=\"python\">from flask.views import View\n\nclass ListView(View):\n\n    def get_template_name(self):\n        raise NotImplementedError()\n\n    def render_template(self, context):\n        return render_template(self.get_template_name(), **context)\n\n    def dispatch_request(self):\n        context = {'objects': self.get_objects()}\n        return self.render_template(context)\n\nclass UserView(ListView):\n\n    def get_template_name(self):\n        return 'users.html'\n\n    def get_objects(self):\n        return User.query.all()\n</pre> <p>This of course is not that helpful for such a small example, but it’s good enough to explain the basic principle. When you have a class-based view the question comes up what <code>self</code> points to. The way this works is that whenever the request is dispatched a new instance of the class is created and the <a class=\"reference internal\" href=\"../api/index#flask.views.View.dispatch_request\" title=\"flask.views.View.dispatch_request\"><code>dispatch_request()</code></a> method is called with the parameters from the URL rule. The class itself is instantiated with the parameters passed to the <a class=\"reference internal\" href=\"../api/index#flask.views.View.as_view\" title=\"flask.views.View.as_view\"><code>as_view()</code></a> function. For instance you can write a class like this:</p> <pre data-language=\"python\">class RenderTemplateView(View):\n    def __init__(self, template_name):\n        self.template_name = template_name\n    def dispatch_request(self):\n        return render_template(self.template_name)\n</pre> <p>And then you can register it like this:</p> <pre data-language=\"python\">app.add_url_rule('/about', view_func=RenderTemplateView.as_view(\n    'about_page', template_name='about.html'))\n</pre>   <h2 id=\"method-hints\">Method Hints</h2> <p>Pluggable views are attached to the application like a regular function by either using <a class=\"reference internal\" href=\"../api/index#flask.Flask.route\" title=\"flask.Flask.route\"><code>route()</code></a> or better <a class=\"reference internal\" href=\"../api/index#flask.Flask.add_url_rule\" title=\"flask.Flask.add_url_rule\"><code>add_url_rule()</code></a>. That however also means that you would have to provide the names of the HTTP methods the view supports when you attach this. In order to move that information to the class you can provide a <a class=\"reference internal\" href=\"../api/index#flask.views.View.methods\" title=\"flask.views.View.methods\"><code>methods</code></a> attribute that has this information:</p> <pre data-language=\"python\">class MyView(View):\n    methods = ['GET', 'POST']\n\n    def dispatch_request(self):\n        if request.method == 'POST':\n            ...\n        ...\n\napp.add_url_rule('/myview', view_func=MyView.as_view('myview'))\n</pre>   <h2 id=\"method-based-dispatching\">Method Based Dispatching</h2> <p>For RESTful APIs it’s especially helpful to execute a different function for each HTTP method. With the <a class=\"reference internal\" href=\"../api/index#flask.views.MethodView\" title=\"flask.views.MethodView\"><code>flask.views.MethodView</code></a> you can easily do that. Each HTTP method maps to a function with the same name (just in lowercase):</p> <pre data-language=\"python\">from flask.views import MethodView\n\nclass UserAPI(MethodView):\n\n    def get(self):\n        users = User.query.all()\n        ...\n\n    def post(self):\n        user = User.from_form_data(request.form)\n        ...\n\napp.add_url_rule('/users/', view_func=UserAPI.as_view('users'))\n</pre> <p>That way you also don’t have to provide the <a class=\"reference internal\" href=\"../api/index#flask.views.View.methods\" title=\"flask.views.View.methods\"><code>methods</code></a> attribute. It’s automatically set based on the methods defined in the class.</p>   <h2 id=\"decorating-views\">Decorating Views</h2> <p>Since the view class itself is not the view function that is added to the routing system it does not make much sense to decorate the class itself. Instead you either have to decorate the return value of <a class=\"reference internal\" href=\"../api/index#flask.views.View.as_view\" title=\"flask.views.View.as_view\"><code>as_view()</code></a> by hand:</p> <pre data-language=\"python\">def user_required(f):\n    \"\"\"Checks whether user is logged in or raises error 401.\"\"\"\n    def decorator(*args, **kwargs):\n        if not g.user:\n            abort(401)\n        return f(*args, **kwargs)\n    return decorator\n\nview = user_required(UserAPI.as_view('users'))\napp.add_url_rule('/users/', view_func=view)\n</pre> <p>Starting with Flask 0.8 there is also an alternative way where you can specify a list of decorators to apply in the class declaration:</p> <pre data-language=\"python\">class UserAPI(MethodView):\n    decorators = [user_required]\n</pre> <p>Due to the implicit self from the caller’s perspective you cannot use regular view decorators on the individual methods of the view however, keep this in mind.</p>   <h2 id=\"method-views-for-apis\">Method Views for APIs</h2> <p>Web APIs are often working very closely with HTTP verbs so it makes a lot of sense to implement such an API based on the <a class=\"reference internal\" href=\"../api/index#flask.views.MethodView\" title=\"flask.views.MethodView\"><code>MethodView</code></a>. That said, you will notice that the API will require different URL rules that go to the same method view most of the time. For instance consider that you are exposing a user object on the web:</p> <table class=\"docutils align-default\">   <tr>\n<td><p>URL</p></td> <td><p>Method</p></td> <td><p>Description</p></td> </tr> <tr>\n<td><p><code>/users/</code></p></td> <td><p><code>GET</code></p></td> <td><p>Gives a list of all users</p></td> </tr> <tr>\n<td><p><code>/users/</code></p></td> <td><p><code>POST</code></p></td> <td><p>Creates a new user</p></td> </tr> <tr>\n<td><p><code>/users/&lt;id&gt;</code></p></td> <td><p><code>GET</code></p></td> <td><p>Shows a single user</p></td> </tr> <tr>\n<td><p><code>/users/&lt;id&gt;</code></p></td> <td><p><code>PUT</code></p></td> <td><p>Updates a single user</p></td> </tr> <tr>\n<td><p><code>/users/&lt;id&gt;</code></p></td> <td><p><code>DELETE</code></p></td> <td><p>Deletes a single user</p></td> </tr>  </table> <p>So how would you go about doing that with the <a class=\"reference internal\" href=\"../api/index#flask.views.MethodView\" title=\"flask.views.MethodView\"><code>MethodView</code></a>? The trick is to take advantage of the fact that you can provide multiple rules to the same view.</p> <p>Let’s assume for the moment the view would look like this:</p> <pre data-language=\"python\">class UserAPI(MethodView):\n\n    def get(self, user_id):\n        if user_id is None:\n            # return a list of users\n            pass\n        else:\n            # expose a single user\n            pass\n\n    def post(self):\n        # create a new user\n        pass\n\n    def delete(self, user_id):\n        # delete a single user\n        pass\n\n    def put(self, user_id):\n        # update a single user\n        pass\n</pre> <p>So how do we hook this up with the routing system? By adding two rules and explicitly mentioning the methods for each:</p> <pre data-language=\"python\">user_view = UserAPI.as_view('user_api')\napp.add_url_rule('/users/', defaults={'user_id': None},\n                 view_func=user_view, methods=['GET',])\napp.add_url_rule('/users/', view_func=user_view, methods=['POST',])\napp.add_url_rule('/users/&lt;int:user_id&gt;', view_func=user_view,\n                 methods=['GET', 'PUT', 'DELETE'])\n</pre> <p>If you have a lot of APIs that look similar you can refactor that registration code:</p> <pre data-language=\"python\">def register_api(view, endpoint, url, pk='id', pk_type='int'):\n    view_func = view.as_view(endpoint)\n    app.add_url_rule(url, defaults={pk: None},\n                     view_func=view_func, methods=['GET',])\n    app.add_url_rule(url, view_func=view_func, methods=['POST',])\n    app.add_url_rule(f'{url}&lt;{pk_type}:{pk}&gt;', view_func=view_func,\n                     methods=['GET', 'PUT', 'DELETE'])\n\nregister_api(UserAPI, 'user_api', '/users/', pk='user_id')\n</pre><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/views/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/views/</a>\n  </p>\n</div>\n","appcontext/index":"<h1>The Application Context</h1> <p>The application context keeps track of the application-level data during a request, CLI command, or other activity. Rather than passing the application around to each function, the <a class=\"reference internal\" href=\"../api/index#flask.current_app\" title=\"flask.current_app\"><code>current_app</code></a> and <a class=\"reference internal\" href=\"../api/index#flask.g\" title=\"flask.g\"><code>g</code></a> proxies are accessed instead.</p> <p>This is similar to the <a class=\"reference internal\" href=\"../reqcontext/index\"><span class=\"doc\">The Request Context</span></a>, which keeps track of request-level data during a request. A corresponding application context is pushed when a request context is pushed.</p>  <h2 id=\"purpose-of-the-context\">Purpose of the Context</h2> <p>The <a class=\"reference internal\" href=\"../api/index#flask.Flask\" title=\"flask.Flask\"><code>Flask</code></a> application object has attributes, such as <a class=\"reference internal\" href=\"../api/index#flask.Flask.config\" title=\"flask.Flask.config\"><code>config</code></a>, that are useful to access within views and <a class=\"reference internal\" href=\"../cli/index\"><span class=\"doc\">CLI commands</span></a>. However, importing the <code>app</code> instance within the modules in your project is prone to circular import issues. When using the <a class=\"reference internal\" href=\"../patterns/appfactories/index\"><span class=\"doc\">app factory pattern</span></a> or writing reusable <a class=\"reference internal\" href=\"../blueprints/index\"><span class=\"doc\">blueprints</span></a> or <a class=\"reference internal\" href=\"../extensions/index\"><span class=\"doc\">extensions</span></a> there won’t be an <code>app</code> instance to import at all.</p> <p>Flask solves this issue with the <em>application context</em>. Rather than referring to an <code>app</code> directly, you use the <a class=\"reference internal\" href=\"../api/index#flask.current_app\" title=\"flask.current_app\"><code>current_app</code></a> proxy, which points to the application handling the current activity.</p> <p>Flask automatically <em>pushes</em> an application context when handling a request. View functions, error handlers, and other functions that run during a request will have access to <a class=\"reference internal\" href=\"../api/index#flask.current_app\" title=\"flask.current_app\"><code>current_app</code></a>.</p> <p>Flask will also automatically push an app context when running CLI commands registered with <a class=\"reference internal\" href=\"../api/index#flask.Flask.cli\" title=\"flask.Flask.cli\"><code>Flask.cli</code></a> using <code>@app.cli.command()</code>.</p>   <h2 id=\"lifetime-of-the-context\">Lifetime of the Context</h2> <p>The application context is created and destroyed as necessary. When a Flask application begins handling a request, it pushes an application context and a <a class=\"reference internal\" href=\"../reqcontext/index\"><span class=\"doc\">request context</span></a>. When the request ends it pops the request context then the application context. Typically, an application context will have the same lifetime as a request.</p> <p>See <a class=\"reference internal\" href=\"../reqcontext/index\"><span class=\"doc\">The Request Context</span></a> for more information about how the contexts work and the full life cycle of a request.</p>   <h2 id=\"manually-push-a-context\">Manually Push a Context</h2> <p>If you try to access <a class=\"reference internal\" href=\"../api/index#flask.current_app\" title=\"flask.current_app\"><code>current_app</code></a>, or anything that uses it, outside an application context, you’ll get this error message:</p> <pre data-language=\"pytb\">RuntimeError: Working outside of application context.\n\nThis typically means that you attempted to use functionality that\nneeded to interface with the current application object in some way.\nTo solve this, set up an application context with app.app_context().\n</pre> <p>If you see that error while configuring your application, such as when initializing an extension, you can push a context manually since you have direct access to the <code>app</code>. Use <a class=\"reference internal\" href=\"../api/index#flask.Flask.app_context\" title=\"flask.Flask.app_context\"><code>app_context()</code></a> in a <code>with</code> block, and everything that runs in the block will have access to <a class=\"reference internal\" href=\"../api/index#flask.current_app\" title=\"flask.current_app\"><code>current_app</code></a>.</p> <pre data-language=\"python\">def create_app():\n    app = Flask(__name__)\n\n    with app.app_context():\n        init_db()\n\n    return app\n</pre> <p>If you see that error somewhere else in your code not related to configuring the application, it most likely indicates that you should move that code into a view function or CLI command.</p>   <h2 id=\"storing-data\">Storing Data</h2> <p>The application context is a good place to store common data during a request or CLI command. Flask provides the <a class=\"reference internal\" href=\"../api/index#flask.g\" title=\"flask.g\"><code>g object</code></a> for this purpose. It is a simple namespace object that has the same lifetime as an application context.</p> <div class=\"admonition note\"> <p class=\"admonition-title\">Note</p> <p>The <code>g</code> name stands for “global”, but that is referring to the data being global <em>within a context</em>. The data on <code>g</code> is lost after the context ends, and it is not an appropriate place to store data between requests. Use the <a class=\"reference internal\" href=\"../api/index#flask.session\" title=\"flask.session\"><code>session</code></a> or a database to store data across requests.</p> </div> <p>A common use for <a class=\"reference internal\" href=\"../api/index#flask.g\" title=\"flask.g\"><code>g</code></a> is to manage resources during a request.</p> <ol class=\"arabic simple\"> <li>\n<code>get_X()</code> creates resource <code>X</code> if it does not exist, caching it as <code>g.X</code>.</li> <li>\n<code>teardown_X()</code> closes or otherwise deallocates the resource if it exists. It is registered as a <a class=\"reference internal\" href=\"../api/index#flask.Flask.teardown_appcontext\" title=\"flask.Flask.teardown_appcontext\"><code>teardown_appcontext()</code></a> handler.</li> </ol> <p>For example, you can manage a database connection using this pattern:</p> <pre data-language=\"python\">from flask import g\n\ndef get_db():\n    if 'db' not in g:\n        g.db = connect_to_database()\n\n    return g.db\n\n@app.teardown_appcontext\ndef teardown_db(exception):\n    db = g.pop('db', None)\n\n    if db is not None:\n        db.close()\n</pre> <p>During a request, every call to <code>get_db()</code> will return the same connection, and it will be closed automatically at the end of the request.</p> <p>You can use <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/local/#werkzeug.local.LocalProxy\" title=\"(in Werkzeug v2.0.x)\"><code>LocalProxy</code></a> to make a new context local from <code>get_db()</code>:</p> <pre data-language=\"python\">from werkzeug.local import LocalProxy\ndb = LocalProxy(get_db)\n</pre> <p>Accessing <code>db</code> will call <code>get_db</code> internally, in the same way that <a class=\"reference internal\" href=\"../api/index#flask.current_app\" title=\"flask.current_app\"><code>current_app</code></a> works.</p>  <p>If you’re writing an extension, <a class=\"reference internal\" href=\"../api/index#flask.g\" title=\"flask.g\"><code>g</code></a> should be reserved for user code. You may store internal data on the context itself, but be sure to use a sufficiently unique name. The current context is accessed with <a class=\"reference internal\" href=\"../api/index#flask._app_ctx_stack\" title=\"flask._app_ctx_stack\"><code>_app_ctx_stack.top</code></a>. For more information see <a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/extensiondev/\"><span class=\"doc\">Flask Extension Development</span></a>.</p>   <h2 id=\"events-and-signals\">Events and Signals</h2> <p>The application will call functions registered with <a class=\"reference internal\" href=\"../api/index#flask.Flask.teardown_appcontext\" title=\"flask.Flask.teardown_appcontext\"><code>teardown_appcontext()</code></a> when the application context is popped.</p> <p>If <a class=\"reference internal\" href=\"../api/index#flask.signals.signals_available\" title=\"flask.signals.signals_available\"><code>signals_available</code></a> is true, the following signals are sent: <a class=\"reference internal\" href=\"../api/index#flask.appcontext_pushed\" title=\"flask.appcontext_pushed\"><code>appcontext_pushed</code></a>, <a class=\"reference internal\" href=\"../api/index#flask.appcontext_tearing_down\" title=\"flask.appcontext_tearing_down\"><code>appcontext_tearing_down</code></a>, and <a class=\"reference internal\" href=\"../api/index#flask.appcontext_popped\" title=\"flask.appcontext_popped\"><code>appcontext_popped</code></a>.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/appcontext/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/appcontext/</a>\n  </p>\n</div>\n","reqcontext/index":"<h1>The Request Context</h1> <p>The request context keeps track of the request-level data during a request. Rather than passing the request object to each function that runs during a request, the <a class=\"reference internal\" href=\"../api/index#flask.request\" title=\"flask.request\"><code>request</code></a> and <a class=\"reference internal\" href=\"../api/index#flask.session\" title=\"flask.session\"><code>session</code></a> proxies are accessed instead.</p> <p>This is similar to the <a class=\"reference internal\" href=\"../appcontext/index\"><span class=\"doc\">The Application Context</span></a>, which keeps track of the application-level data independent of a request. A corresponding application context is pushed when a request context is pushed.</p>  <h2 id=\"purpose-of-the-context\">Purpose of the Context</h2> <p>When the <a class=\"reference internal\" href=\"../api/index#flask.Flask\" title=\"flask.Flask\"><code>Flask</code></a> application handles a request, it creates a <a class=\"reference internal\" href=\"../api/index#flask.Request\" title=\"flask.Request\"><code>Request</code></a> object based on the environment it received from the WSGI server. Because a <em>worker</em> (thread, process, or coroutine depending on the server) handles only one request at a time, the request data can be considered global to that worker during that request. Flask uses the term <em>context local</em> for this.</p> <p>Flask automatically <em>pushes</em> a request context when handling a request. View functions, error handlers, and other functions that run during a request will have access to the <a class=\"reference internal\" href=\"../api/index#flask.request\" title=\"flask.request\"><code>request</code></a> proxy, which points to the request object for the current request.</p>   <h2 id=\"lifetime-of-the-context\">Lifetime of the Context</h2> <p>When a Flask application begins handling a request, it pushes a request context, which also pushes an <a class=\"reference internal\" href=\"../appcontext/index\"><span class=\"doc\">The Application Context</span></a>. When the request ends it pops the request context then the application context.</p> <p>The context is unique to each thread (or other worker type). <a class=\"reference internal\" href=\"../api/index#flask.request\" title=\"flask.request\"><code>request</code></a> cannot be passed to another thread, the other thread will have a different context stack and will not know about the request the parent thread was pointing to.</p> <p>Context locals are implemented in Werkzeug. See <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/local/\" title=\"(in Werkzeug v2.0.x)\"><span>Context Locals</span></a> for more information on how this works internally.</p>   <h2 id=\"manually-push-a-context\">Manually Push a Context</h2> <p>If you try to access <a class=\"reference internal\" href=\"../api/index#flask.request\" title=\"flask.request\"><code>request</code></a>, or anything that uses it, outside a request context, you’ll get this error message:</p> <pre data-language=\"pytb\">RuntimeError: Working outside of request context.\n\nThis typically means that you attempted to use functionality that\nneeded an active HTTP request. Consult the documentation on testing\nfor information about how to avoid this problem.\n</pre> <p>This should typically only happen when testing code that expects an active request. One option is to use the <a class=\"reference internal\" href=\"../api/index#flask.Flask.test_client\" title=\"flask.Flask.test_client\"><code>test client</code></a> to simulate a full request. Or you can use <a class=\"reference internal\" href=\"../api/index#flask.Flask.test_request_context\" title=\"flask.Flask.test_request_context\"><code>test_request_context()</code></a> in a <code>with</code> block, and everything that runs in the block will have access to <a class=\"reference internal\" href=\"../api/index#flask.request\" title=\"flask.request\"><code>request</code></a>, populated with your test data.</p> <pre data-language=\"python\">def generate_report(year):\n    format = request.args.get('format')\n    ...\n\nwith app.test_request_context(\n        '/make_report/2017', data={'format': 'short'}):\n    generate_report()\n</pre> <p>If you see that error somewhere else in your code not related to testing, it most likely indicates that you should move that code into a view function.</p> <p>For information on how to use the request context from the interactive Python shell, see <a class=\"reference internal\" href=\"../shell/index\"><span class=\"doc\">Working with the Shell</span></a>.</p>   <h2 id=\"how-the-context-works\">How the Context Works</h2> <p>The <a class=\"reference internal\" href=\"../api/index#flask.Flask.wsgi_app\" title=\"flask.Flask.wsgi_app\"><code>Flask.wsgi_app()</code></a> method is called to handle each request. It manages the contexts during the request. Internally, the request and application contexts work as stacks, <a class=\"reference internal\" href=\"../api/index#flask._request_ctx_stack\" title=\"flask._request_ctx_stack\"><code>_request_ctx_stack</code></a> and <a class=\"reference internal\" href=\"../api/index#flask._app_ctx_stack\" title=\"flask._app_ctx_stack\"><code>_app_ctx_stack</code></a>. When contexts are pushed onto the stack, the proxies that depend on them are available and point at information from the top context on the stack.</p> <p>When the request starts, a <a class=\"reference internal\" href=\"../api/index#flask.ctx.RequestContext\" title=\"flask.ctx.RequestContext\"><code>RequestContext</code></a> is created and pushed, which creates and pushes an <a class=\"reference internal\" href=\"../api/index#flask.ctx.AppContext\" title=\"flask.ctx.AppContext\"><code>AppContext</code></a> first if a context for that application is not already the top context. While these contexts are pushed, the <a class=\"reference internal\" href=\"../api/index#flask.current_app\" title=\"flask.current_app\"><code>current_app</code></a>, <a class=\"reference internal\" href=\"../api/index#flask.g\" title=\"flask.g\"><code>g</code></a>, <a class=\"reference internal\" href=\"../api/index#flask.request\" title=\"flask.request\"><code>request</code></a>, and <a class=\"reference internal\" href=\"../api/index#flask.session\" title=\"flask.session\"><code>session</code></a> proxies are available to the original thread handling the request.</p> <p>Because the contexts are stacks, other contexts may be pushed to change the proxies during a request. While this is not a common pattern, it can be used in advanced applications to, for example, do internal redirects or chain different applications together.</p> <p>After the request is dispatched and a response is generated and sent, the request context is popped, which then pops the application context. Immediately before they are popped, the <a class=\"reference internal\" href=\"../api/index#flask.Flask.teardown_request\" title=\"flask.Flask.teardown_request\"><code>teardown_request()</code></a> and <a class=\"reference internal\" href=\"../api/index#flask.Flask.teardown_appcontext\" title=\"flask.Flask.teardown_appcontext\"><code>teardown_appcontext()</code></a> functions are executed. These execute even if an unhandled exception occurred during dispatch.</p>   <h2 id=\"id1\">Callbacks and Errors</h2> <p id=\"callbacks-and-errors\">Flask dispatches a request in multiple stages which can affect the request, response, and how errors are handled. The contexts are active during all of these stages.</p> <p>A <a class=\"reference internal\" href=\"../api/index#flask.Blueprint\" title=\"flask.Blueprint\"><code>Blueprint</code></a> can add handlers for these events that are specific to the blueprint. The handlers for a blueprint will run if the blueprint owns the route that matches the request.</p> <ol class=\"arabic simple\"> <li>Before each request, <a class=\"reference internal\" href=\"../api/index#flask.Flask.before_request\" title=\"flask.Flask.before_request\"><code>before_request()</code></a> functions are called. If one of these functions return a value, the other functions are skipped. The return value is treated as the response and the view function is not called.</li> <li>If the <a class=\"reference internal\" href=\"../api/index#flask.Flask.before_request\" title=\"flask.Flask.before_request\"><code>before_request()</code></a> functions did not return a response, the view function for the matched route is called and returns a response.</li> <li>The return value of the view is converted into an actual response object and passed to the <a class=\"reference internal\" href=\"../api/index#flask.Flask.after_request\" title=\"flask.Flask.after_request\"><code>after_request()</code></a> functions. Each function returns a modified or new response object.</li> <li>After the response is returned, the contexts are popped, which calls the <a class=\"reference internal\" href=\"../api/index#flask.Flask.teardown_request\" title=\"flask.Flask.teardown_request\"><code>teardown_request()</code></a> and <a class=\"reference internal\" href=\"../api/index#flask.Flask.teardown_appcontext\" title=\"flask.Flask.teardown_appcontext\"><code>teardown_appcontext()</code></a> functions. These functions are called even if an unhandled exception was raised at any point above.</li> </ol> <p>If an exception is raised before the teardown functions, Flask tries to match it with an <a class=\"reference internal\" href=\"../api/index#flask.Flask.errorhandler\" title=\"flask.Flask.errorhandler\"><code>errorhandler()</code></a> function to handle the exception and return a response. If no error handler is found, or the handler itself raises an exception, Flask returns a generic <code>500 Internal Server Error</code> response. The teardown functions are still called, and are passed the exception object.</p> <p>If debug mode is enabled, unhandled exceptions are not converted to a <code>500</code> response and instead are propagated to the WSGI server. This allows the development server to present the interactive debugger with the traceback.</p>  <h3 id=\"teardown-callbacks\">Teardown Callbacks</h3> <p>The teardown callbacks are independent of the request dispatch, and are instead called by the contexts when they are popped. The functions are called even if there is an unhandled exception during dispatch, and for manually pushed contexts. This means there is no guarantee that any other parts of the request dispatch have run first. Be sure to write these functions in a way that does not depend on other callbacks and will not fail.</p> <p>During testing, it can be useful to defer popping the contexts after the request ends, so that their data can be accessed in the test function. Use the <a class=\"reference internal\" href=\"../api/index#flask.Flask.test_client\" title=\"flask.Flask.test_client\"><code>test_client()</code></a> as a <code>with</code> block to preserve the contexts until the <code>with</code> block exits.</p> <pre data-language=\"python\">from flask import Flask, request\n\napp = Flask(__name__)\n\n@app.route('/')\ndef hello():\n    print('during view')\n    return 'Hello, World!'\n\n@app.teardown_request\ndef show_teardown(exception):\n    print('after with block')\n\nwith app.test_request_context():\n    print('during with block')\n\n# teardown functions are called after the context with block exits\n\nwith app.test_client() as client:\n    client.get('/')\n    # the contexts are not popped even though the request ended\n    print(request.path)\n\n# the contexts are popped and teardown functions are called after\n# the client with block exits\n</pre>   <h3 id=\"signals\">Signals</h3> <p>If <a class=\"reference internal\" href=\"../api/index#flask.signals.signals_available\" title=\"flask.signals.signals_available\"><code>signals_available</code></a> is true, the following signals are sent:</p> <ol class=\"arabic simple\"> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.request_started\" title=\"flask.request_started\"><code>request_started</code></a> is sent before the <a class=\"reference internal\" href=\"../api/index#flask.Flask.before_request\" title=\"flask.Flask.before_request\"><code>before_request()</code></a> functions are called.</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.request_finished\" title=\"flask.request_finished\"><code>request_finished</code></a> is sent after the <a class=\"reference internal\" href=\"../api/index#flask.Flask.after_request\" title=\"flask.Flask.after_request\"><code>after_request()</code></a> functions are called.</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.got_request_exception\" title=\"flask.got_request_exception\"><code>got_request_exception</code></a> is sent when an exception begins to be handled, but before an <a class=\"reference internal\" href=\"../api/index#flask.Flask.errorhandler\" title=\"flask.Flask.errorhandler\"><code>errorhandler()</code></a> is looked up or called.</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.request_tearing_down\" title=\"flask.request_tearing_down\"><code>request_tearing_down</code></a> is sent after the <a class=\"reference internal\" href=\"../api/index#flask.Flask.teardown_request\" title=\"flask.Flask.teardown_request\"><code>teardown_request()</code></a> functions are called.</li> </ol>    <h2 id=\"context-preservation-on-error\">Context Preservation on Error</h2> <p>At the end of a request, the request context is popped and all data associated with it is destroyed. If an error occurs during development, it is useful to delay destroying the data for debugging purposes.</p> <p>When the development server is running in development mode (the <code>FLASK_ENV</code> environment variable is set to <code>'development'</code>), the error and data will be preserved and shown in the interactive debugger.</p> <p>This behavior can be controlled with the <a class=\"reference internal\" href=\"../config/index#PRESERVE_CONTEXT_ON_EXCEPTION\" title=\"PRESERVE_CONTEXT_ON_EXCEPTION\"><code>PRESERVE_CONTEXT_ON_EXCEPTION</code></a> config. As described above, it defaults to <code>True</code> in the development environment.</p> <p>Do not enable <a class=\"reference internal\" href=\"../config/index#PRESERVE_CONTEXT_ON_EXCEPTION\" title=\"PRESERVE_CONTEXT_ON_EXCEPTION\"><code>PRESERVE_CONTEXT_ON_EXCEPTION</code></a> in production, as it will cause your application to leak memory on exceptions.</p>   <h2 id=\"id2\">Notes On Proxies</h2> <p id=\"notes-on-proxies\">Some of the objects provided by Flask are proxies to other objects. The proxies are accessed in the same way for each worker thread, but point to the unique object bound to each worker behind the scenes as described on this page.</p> <p>Most of the time you don’t have to care about that, but there are some exceptions where it is good to know that this object is actually a proxy:</p> <ul class=\"simple\"> <li>The proxy objects cannot fake their type as the actual object types. If you want to perform instance checks, you have to do that on the object being proxied.</li> <li>The reference to the proxied object is needed in some situations, such as sending <a class=\"reference internal\" href=\"../signals/index\"><span class=\"doc\">Signals</span></a> or passing data to a background thread.</li> </ul> <p>If you need to access the underlying object that is proxied, use the <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/local/#werkzeug.local.LocalProxy._get_current_object\" title=\"(in Werkzeug v2.0.x)\"><code>_get_current_object()</code></a> method:</p> <pre data-language=\"python\">app = current_app._get_current_object()\nmy_signal.send(app)\n</pre><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/reqcontext/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/reqcontext/</a>\n  </p>\n</div>\n","blueprints/index":"<h1>Modular Applications with Blueprints</h1> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details><p>Flask uses a concept of <em>blueprints</em> for making application components and supporting common patterns within an application or across applications. Blueprints can greatly simplify how large applications work and provide a central means for Flask extensions to register operations on applications. A <a class=\"reference internal\" href=\"../api/index#flask.Blueprint\" title=\"flask.Blueprint\"><code>Blueprint</code></a> object works similarly to a <a class=\"reference internal\" href=\"../api/index#flask.Flask\" title=\"flask.Flask\"><code>Flask</code></a> application object, but it is not actually an application. Rather it is a <em>blueprint</em> of how to construct or extend an application.</p>  <h2 id=\"why-blueprints\">Why Blueprints?</h2> <p>Blueprints in Flask are intended for these cases:</p> <ul class=\"simple\"> <li>Factor an application into a set of blueprints. This is ideal for larger applications; a project could instantiate an application object, initialize several extensions, and register a collection of blueprints.</li> <li>Register a blueprint on an application at a URL prefix and/or subdomain. Parameters in the URL prefix/subdomain become common view arguments (with defaults) across all view functions in the blueprint.</li> <li>Register a blueprint multiple times on an application with different URL rules.</li> <li>Provide template filters, static files, templates, and other utilities through blueprints. A blueprint does not have to implement applications or view functions.</li> <li>Register a blueprint on an application for any of these cases when initializing a Flask extension.</li> </ul> <p>A blueprint in Flask is not a pluggable app because it is not actually an application – it’s a set of operations which can be registered on an application, even multiple times. Why not have multiple application objects? You can do that (see <a class=\"reference internal\" href=\"../patterns/appdispatch/index\"><span class=\"doc\">Application Dispatching</span></a>), but your applications will have separate configs and will be managed at the WSGI layer.</p> <p>Blueprints instead provide separation at the Flask level, share application config, and can change an application object as necessary with being registered. The downside is that you cannot unregister a blueprint once an application was created without having to destroy the whole application object.</p>   <h2 id=\"the-concept-of-blueprints\">The Concept of Blueprints</h2> <p>The basic concept of blueprints is that they record operations to execute when registered on an application. Flask associates view functions with blueprints when dispatching requests and generating URLs from one endpoint to another.</p>   <h2 id=\"my-first-blueprint\">My First Blueprint</h2> <p>This is what a very basic blueprint looks like. In this case we want to implement a blueprint that does simple rendering of static templates:</p> <pre data-language=\"python\">from flask import Blueprint, render_template, abort\nfrom jinja2 import TemplateNotFound\n\nsimple_page = Blueprint('simple_page', __name__,\n                        template_folder='templates')\n\n@simple_page.route('/', defaults={'page': 'index'})\n@simple_page.route('/&lt;page&gt;')\ndef show(page):\n    try:\n        return render_template(f'pages/{page}.html')\n    except TemplateNotFound:\n        abort(404)\n</pre> <p>When you bind a function with the help of the <code>@simple_page.route</code> decorator, the blueprint will record the intention of registering the function <code>show</code> on the application when it’s later registered. Additionally it will prefix the endpoint of the function with the name of the blueprint which was given to the <a class=\"reference internal\" href=\"../api/index#flask.Blueprint\" title=\"flask.Blueprint\"><code>Blueprint</code></a> constructor (in this case also <code>simple_page</code>). The blueprint’s name does not modify the URL, only the endpoint.</p>   <h2 id=\"registering-blueprints\">Registering Blueprints</h2> <p>So how do you register that blueprint? Like this:</p> <pre data-language=\"python\">from flask import Flask\nfrom yourapplication.simple_page import simple_page\n\napp = Flask(__name__)\napp.register_blueprint(simple_page)\n</pre> <p>If you check the rules registered on the application, you will find these:</p> <pre data-language=\"python\">&gt;&gt;&gt; app.url_map\nMap([&lt;Rule '/static/&lt;filename&gt;' (HEAD, OPTIONS, GET) -&gt; static&gt;,\n &lt;Rule '/&lt;page&gt;' (HEAD, OPTIONS, GET) -&gt; simple_page.show&gt;,\n &lt;Rule '/' (HEAD, OPTIONS, GET) -&gt; simple_page.show&gt;])\n</pre> <p>The first one is obviously from the application itself for the static files. The other two are for the <code>show</code> function of the <code>simple_page</code> blueprint. As you can see, they are also prefixed with the name of the blueprint and separated by a dot (<code>.</code>).</p> <p>Blueprints however can also be mounted at different locations:</p> <pre data-language=\"python\">app.register_blueprint(simple_page, url_prefix='/pages')\n</pre> <p>And sure enough, these are the generated rules:</p> <pre data-language=\"python\">&gt;&gt;&gt; app.url_map\nMap([&lt;Rule '/static/&lt;filename&gt;' (HEAD, OPTIONS, GET) -&gt; static&gt;,\n &lt;Rule '/pages/&lt;page&gt;' (HEAD, OPTIONS, GET) -&gt; simple_page.show&gt;,\n &lt;Rule '/pages/' (HEAD, OPTIONS, GET) -&gt; simple_page.show&gt;])\n</pre> <p>On top of that you can register blueprints multiple times though not every blueprint might respond properly to that. In fact it depends on how the blueprint is implemented if it can be mounted more than once.</p>   <h2 id=\"nesting-blueprints\">Nesting Blueprints</h2> <p>It is possible to register a blueprint on another blueprint.</p> <pre data-language=\"python\">parent = Blueprint('parent', __name__, url_prefix='/parent')\nchild = Blueprint('child', __name__, url_prefix='/child')\nparent.register_blueprint(child)\napp.register_blueprint(parent)\n</pre> <p>The child blueprint will gain the parent’s name as a prefix to its name, and child URLs will be prefixed with the parent’s URL prefix.</p> <pre data-language=\"python\">url_for('parent.child.create')\n/parent/child/create\n</pre> <p>Blueprint-specific before request functions, etc. registered with the parent will trigger for the child. If a child does not have an error handler that can handle a given exception, the parent’s will be tried.</p>   <h2 id=\"blueprint-resources\">Blueprint Resources</h2> <p>Blueprints can provide resources as well. Sometimes you might want to introduce a blueprint only for the resources it provides.</p>  <h3 id=\"blueprint-resource-folder\">Blueprint Resource Folder</h3> <p>Like for regular applications, blueprints are considered to be contained in a folder. While multiple blueprints can originate from the same folder, it does not have to be the case and it’s usually not recommended.</p> <p>The folder is inferred from the second argument to <a class=\"reference internal\" href=\"../api/index#flask.Blueprint\" title=\"flask.Blueprint\"><code>Blueprint</code></a> which is usually <code>__name__</code>. This argument specifies what logical Python module or package corresponds to the blueprint. If it points to an actual Python package that package (which is a folder on the filesystem) is the resource folder. If it’s a module, the package the module is contained in will be the resource folder. You can access the <a class=\"reference internal\" href=\"../api/index#flask.Blueprint.root_path\" title=\"flask.Blueprint.root_path\"><code>Blueprint.root_path</code></a> property to see what the resource folder is:</p> <pre data-language=\"python\">&gt;&gt;&gt; simple_page.root_path\n'/Users/username/TestProject/yourapplication'\n</pre> <p>To quickly open sources from this folder you can use the <a class=\"reference internal\" href=\"../api/index#flask.Blueprint.open_resource\" title=\"flask.Blueprint.open_resource\"><code>open_resource()</code></a> function:</p> <pre data-language=\"python\">with simple_page.open_resource('static/style.css') as f:\n    code = f.read()\n</pre>   <h3 id=\"static-files\">Static Files</h3> <p>A blueprint can expose a folder with static files by providing the path to the folder on the filesystem with the <code>static_folder</code> argument. It is either an absolute path or relative to the blueprint’s location:</p> <pre data-language=\"python\">admin = Blueprint('admin', __name__, static_folder='static')\n</pre> <p>By default the rightmost part of the path is where it is exposed on the web. This can be changed with the <code>static_url_path</code> argument. Because the folder is called <code>static</code> here it will be available at the <code>url_prefix</code> of the blueprint + <code>/static</code>. If the blueprint has the prefix <code>/admin</code>, the static URL will be <code>/admin/static</code>.</p> <p>The endpoint is named <code>blueprint_name.static</code>. You can generate URLs to it with <a class=\"reference internal\" href=\"../api/index#flask.url_for\" title=\"flask.url_for\"><code>url_for()</code></a> like you would with the static folder of the application:</p> <pre data-language=\"python\">url_for('admin.static', filename='style.css')\n</pre> <p>However, if the blueprint does not have a <code>url_prefix</code>, it is not possible to access the blueprint’s static folder. This is because the URL would be <code>/static</code> in this case, and the application’s <code>/static</code> route takes precedence. Unlike template folders, blueprint static folders are not searched if the file does not exist in the application static folder.</p>   <h3 id=\"templates\">Templates</h3> <p>If you want the blueprint to expose templates you can do that by providing the <code>template_folder</code> parameter to the <a class=\"reference internal\" href=\"../api/index#flask.Blueprint\" title=\"flask.Blueprint\"><code>Blueprint</code></a> constructor:</p> <pre data-language=\"python\">admin = Blueprint('admin', __name__, template_folder='templates')\n</pre> <p>For static files, the path can be absolute or relative to the blueprint resource folder.</p> <p>The template folder is added to the search path of templates but with a lower priority than the actual application’s template folder. That way you can easily override templates that a blueprint provides in the actual application. This also means that if you don’t want a blueprint template to be accidentally overridden, make sure that no other blueprint or actual application template has the same relative path. When multiple blueprints provide the same relative template path the first blueprint registered takes precedence over the others.</p> <p>So if you have a blueprint in the folder <code>yourapplication/admin</code> and you want to render the template <code>'admin/index.html'</code> and you have provided <code>templates</code> as a <code>template_folder</code> you will have to create a file like this: <code>yourapplication/admin/templates/admin/index.html</code>. The reason for the extra <code>admin</code> folder is to avoid getting our template overridden by a template named <code>index.html</code> in the actual application template folder.</p> <p>To further reiterate this: if you have a blueprint named <code>admin</code> and you want to render a template called <code>index.html</code> which is specific to this blueprint, the best idea is to lay out your templates like this:</p> <pre data-language=\"python\">yourpackage/\n    blueprints/\n        admin/\n            templates/\n                admin/\n                    index.html\n            __init__.py\n</pre> <p>And then when you want to render the template, use <code>admin/index.html</code> as the name to look up the template by. If you encounter problems loading the correct templates enable the <code>EXPLAIN_TEMPLATE_LOADING</code> config variable which will instruct Flask to print out the steps it goes through to locate templates on every <code>render_template</code> call.</p>    <h2 id=\"building-urls\">Building URLs</h2> <p>If you want to link from one page to another you can use the <a class=\"reference internal\" href=\"../api/index#flask.url_for\" title=\"flask.url_for\"><code>url_for()</code></a> function just like you normally would do just that you prefix the URL endpoint with the name of the blueprint and a dot (<code>.</code>):</p> <pre data-language=\"python\">url_for('admin.index')\n</pre> <p>Additionally if you are in a view function of a blueprint or a rendered template and you want to link to another endpoint of the same blueprint, you can use relative redirects by prefixing the endpoint with a dot only:</p> <pre data-language=\"python\">url_for('.index')\n</pre> <p>This will link to <code>admin.index</code> for instance in case the current request was dispatched to any other admin blueprint endpoint.</p>   <h2 id=\"blueprint-error-handlers\">Blueprint Error Handlers</h2> <p>Blueprints support the <code>errorhandler</code> decorator just like the <a class=\"reference internal\" href=\"../api/index#flask.Flask\" title=\"flask.Flask\"><code>Flask</code></a> application object, so it is easy to make Blueprint-specific custom error pages.</p> <p>Here is an example for a “404 Page Not Found” exception:</p> <pre data-language=\"python\">@simple_page.errorhandler(404)\ndef page_not_found(e):\n    return render_template('pages/404.html')\n</pre> <p>Most errorhandlers will simply work as expected; however, there is a caveat concerning handlers for 404 and 405 exceptions. These errorhandlers are only invoked from an appropriate <code>raise</code> statement or a call to <code>abort</code> in another of the blueprint’s view functions; they are not invoked by, e.g., an invalid URL access. This is because the blueprint does not “own” a certain URL space, so the application instance has no way of knowing which blueprint error handler it should run if given an invalid URL. If you would like to execute different handling strategies for these errors based on URL prefixes, they may be defined at the application level using the <code>request</code> proxy object:</p> <pre data-language=\"python\">@app.errorhandler(404)\n@app.errorhandler(405)\ndef _handle_api_error(ex):\n    if request.path.startswith('/api/'):\n        return jsonify(error=str(ex)), ex.code\n    else:\n        return ex\n</pre> <p>See <a class=\"reference internal\" href=\"../errorhandling/index\"><span class=\"doc\">Handling Application Errors</span></a>.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/blueprints/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/blueprints/</a>\n  </p>\n</div>\n","extensions/index":"<h1>Extensions</h1> <p>Extensions are extra packages that add functionality to a Flask application. For example, an extension might add support for sending email or connecting to a database. Some extensions add entire new frameworks to help build certain types of applications, like a REST API.</p>  <h2 id=\"finding-extensions\">Finding Extensions</h2> <p>Flask extensions are usually named “Flask-Foo” or “Foo-Flask”. You can search PyPI for packages tagged with <a class=\"reference external\" href=\"https://pypi.org/search/?c=Framework+%3A%3A+Flask\">Framework :: Flask</a>.</p>   <h2 id=\"using-extensions\">Using Extensions</h2> <p>Consult each extension’s documentation for installation, configuration, and usage instructions. Generally, extensions pull their own configuration from <a class=\"reference internal\" href=\"../api/index#flask.Flask.config\" title=\"flask.Flask.config\"><code>app.config</code></a> and are passed an application instance during initialization. For example, an extension called “Flask-Foo” might be used like this:</p> <pre data-language=\"python\">from flask_foo import Foo\n\nfoo = Foo()\n\napp = Flask(__name__)\napp.config.update(\n    FOO_BAR='baz',\n    FOO_SPAM='eggs',\n)\n\nfoo.init_app(app)\n</pre>   <h2 id=\"building-extensions\">Building Extensions</h2> <p>While the <a class=\"reference external\" href=\"https://pypi.org/search/?c=Framework+%3A%3A+Flask\">PyPI</a> contains many Flask extensions, you may not find an extension that fits your need. If this is the case, you can create your own. Read <a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/extensiondev/\"><span class=\"doc\">Flask Extension Development</span></a> to develop your own Flask extension.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/extensions/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/extensions/</a>\n  </p>\n</div>\n","cli/index":"<h1>Command Line Interface</h1> <p>Installing Flask installs the <code>flask</code> script, a <a class=\"reference external\" href=\"https://click.palletsprojects.com/\">Click</a> command line interface, in your virtualenv. Executed from the terminal, this script gives access to built-in, extension, and application-defined commands. The <code>--help</code> option will give more information about any commands and options.</p>  <h2 id=\"application-discovery\">Application Discovery</h2> <p>The <code>flask</code> command is installed by Flask, not your application; it must be told where to find your application in order to use it. The <code>FLASK_APP</code> environment variable is used to specify how to load the application.</p> <div class=\"sphinx-tabs docutils container\"> <div aria-label=\"Tabbed content\" class=\"closeable\" role=\"tablist\">\n<button aria-controls=\"panel-0-QmFzaA==\" aria-selected=\"true\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-QmFzaA==\" name=\"QmFzaA==\" role=\"tab\" tabindex=\"0\">Bash</button><button aria-controls=\"panel-0-Q01E\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-Q01E\" name=\"Q01E\" role=\"tab\" tabindex=\"-1\">CMD</button><button aria-controls=\"panel-0-UG93ZXJzaGVsbA==\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tab\" tabindex=\"-1\">Powershell</button>\n</div>\n<div aria-labelledby=\"tab-0-QmFzaA==\" class=\"sphinx-tabs-panel group-tab\" id=\"panel-0-QmFzaA==\" name=\"QmFzaA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">$ export FLASK_APP=hello\n$ flask run\n</pre> </div>\n<div aria-labelledby=\"tab-0-Q01E\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-0-Q01E\" name=\"Q01E\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; set FLASK_APP=hello\n&gt; flask run\n</pre> </div>\n<div aria-labelledby=\"tab-0-UG93ZXJzaGVsbA==\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-0-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; $env:FLASK_APP = \"hello\"\n&gt; flask run\n</pre> </div>\n</div> <p>While <code>FLASK_APP</code> supports a variety of options for specifying your application, most use cases should be simple. Here are the typical values:</p> <dl class=\"simple\"> <dt>(nothing)</dt>\n<dd>\n<p>The name “app” or “wsgi” is imported (as a “.py” file, or package), automatically detecting an app (<code>app</code> or <code>application</code>) or factory (<code>create_app</code> or <code>make_app</code>).</p> </dd> <dt>\n<code>FLASK_APP=hello</code> </dt>\n<dd>\n<p>The given name is imported, automatically detecting an app (<code>app</code> or <code>application</code>) or factory (<code>create_app</code> or <code>make_app</code>).</p> </dd> </dl>  <p><code>FLASK_APP</code> has three parts: an optional path that sets the current working directory, a Python file or dotted import path, and an optional variable name of the instance or factory. If the name is a factory, it can optionally be followed by arguments in parentheses. The following values demonstrate these parts:</p> <dl class=\"simple\"> <dt>\n<code>FLASK_APP=src/hello</code> </dt>\n<dd>\n<p>Sets the current working directory to <code>src</code> then imports <code>hello</code>.</p> </dd> <dt>\n<code>FLASK_APP=hello.web</code> </dt>\n<dd>\n<p>Imports the path <code>hello.web</code>.</p> </dd> <dt>\n<code>FLASK_APP=hello:app2</code> </dt>\n<dd>\n<p>Uses the <code>app2</code> Flask instance in <code>hello</code>.</p> </dd> <dt>\n<code>FLASK_APP=\"hello:create_app('dev')\"</code> </dt>\n<dd>\n<p>The <code>create_app</code> factory in <code>hello</code> is called with the string <code>'dev'</code> as the argument.</p> </dd> </dl> <p>If <code>FLASK_APP</code> is not set, the command will try to import “app” or “wsgi” (as a “.py” file, or package) and try to detect an application instance or factory.</p> <p>Within the given import, the command looks for an application instance named <code>app</code> or <code>application</code>, then any application instance. If no instance is found, the command looks for a factory function named <code>create_app</code> or <code>make_app</code> that returns an instance.</p> <p>If parentheses follow the factory name, their contents are parsed as Python literals and passed as arguments and keyword arguments to the function. This means that strings must still be in quotes.</p>   <h2 id=\"run-the-development-server\">Run the Development Server</h2> <p>The <a class=\"reference internal\" href=\"../api/index#flask.cli.run_command\" title=\"flask.cli.run_command\"><code>run</code></a> command will start the development server. It replaces the <a class=\"reference internal\" href=\"../api/index#flask.Flask.run\" title=\"flask.Flask.run\"><code>Flask.run()</code></a> method in most cases.</p> <pre data-language=\"python\">$ flask run\n * Serving Flask app \"hello\"\n * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n</pre> <div class=\"admonition warning\"> <p class=\"admonition-title\">Warning</p> <p>Do not use this command to run your application in production. Only use the development server during development. The development server is provided for convenience, but is not designed to be particularly secure, stable, or efficient. See <a class=\"reference internal\" href=\"../deploying/index\"><span class=\"doc\">Deployment Options</span></a> for how to run in production.</p> </div>   <h2 id=\"open-a-shell\">Open a Shell</h2> <p>To explore the data in your application, you can start an interactive Python shell with the <a class=\"reference internal\" href=\"../api/index#flask.cli.shell_command\" title=\"flask.cli.shell_command\"><code>shell</code></a> command. An application context will be active, and the app instance will be imported.</p> <pre data-language=\"python\">$ flask shell\nPython 3.6.2 (default, Jul 20 2017, 03:52:27)\n[GCC 7.1.1 20170630] on linux\nApp: example\nInstance: /home/user/Projects/hello/instance\n&gt;&gt;&gt;\n</pre> <p>Use <a class=\"reference internal\" href=\"../api/index#flask.Flask.shell_context_processor\" title=\"flask.Flask.shell_context_processor\"><code>shell_context_processor()</code></a> to add other automatic imports.</p>   <h2 id=\"environments\">Environments</h2> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 1.0.</span></p> </div> </details><p>The environment in which the Flask app runs is set by the <code id=\"index-0\">FLASK_ENV</code> environment variable. If not set it defaults to <code>production</code>. The other recognized environment is <code>development</code>. Flask and extensions may choose to enable behaviors based on the environment.</p> <p>If the env is set to <code>development</code>, the <code>flask</code> command will enable debug mode and <code>flask run</code> will enable the interactive debugger and reloader.</p> <div class=\"sphinx-tabs docutils container\"> <div aria-label=\"Tabbed content\" class=\"closeable\" role=\"tablist\">\n<button aria-controls=\"panel-1-QmFzaA==\" aria-selected=\"true\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-1-QmFzaA==\" name=\"QmFzaA==\" role=\"tab\" tabindex=\"0\">Bash</button><button aria-controls=\"panel-1-Q01E\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-1-Q01E\" name=\"Q01E\" role=\"tab\" tabindex=\"-1\">CMD</button><button aria-controls=\"panel-1-UG93ZXJzaGVsbA==\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-1-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tab\" tabindex=\"-1\">Powershell</button>\n</div>\n<div aria-labelledby=\"tab-1-QmFzaA==\" class=\"sphinx-tabs-panel group-tab\" id=\"panel-1-QmFzaA==\" name=\"QmFzaA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">$ export FLASK_ENV=development\n$ flask run\n * Serving Flask app \"hello\"\n * Environment: development\n * Debug mode: on\n * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n * Restarting with inotify reloader\n * Debugger is active!\n * Debugger PIN: 223-456-919\n</pre> </div>\n<div aria-labelledby=\"tab-1-Q01E\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-1-Q01E\" name=\"Q01E\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; set FLASK_ENV=development\n&gt; flask run\n * Serving Flask app \"hello\"\n * Environment: development\n * Debug mode: on\n * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n * Restarting with inotify reloader\n * Debugger is active!\n * Debugger PIN: 223-456-919\n</pre> </div>\n<div aria-labelledby=\"tab-1-UG93ZXJzaGVsbA==\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-1-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; $env:FLASK_ENV = \"development\"\n&gt; flask run\n * Serving Flask app \"hello\"\n * Environment: development\n * Debug mode: on\n * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n * Restarting with inotify reloader\n * Debugger is active!\n * Debugger PIN: 223-456-919\n</pre> </div>\n</div>  <h3 id=\"watch-extra-files-with-the-reloader\">Watch Extra Files with the Reloader</h3> <p>When using development mode, the reloader will trigger whenever your Python code or imported modules change. The reloader can watch additional files with the <code>--extra-files</code> option, or the <code>FLASK_RUN_EXTRA_FILES</code> environment variable. Multiple paths are separated with <code>:</code>, or <code>;</code> on Windows.</p> <div class=\"sphinx-tabs docutils container\"> <div aria-label=\"Tabbed content\" class=\"closeable\" role=\"tablist\">\n<button aria-controls=\"panel-2-QmFzaA==\" aria-selected=\"true\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-2-QmFzaA==\" name=\"QmFzaA==\" role=\"tab\" tabindex=\"0\">Bash</button><button aria-controls=\"panel-2-Q01E\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-2-Q01E\" name=\"Q01E\" role=\"tab\" tabindex=\"-1\">CMD</button><button aria-controls=\"panel-2-UG93ZXJzaGVsbA==\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-2-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tab\" tabindex=\"-1\">Powershell</button>\n</div>\n<div aria-labelledby=\"tab-2-QmFzaA==\" class=\"sphinx-tabs-panel group-tab\" id=\"panel-2-QmFzaA==\" name=\"QmFzaA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">$ flask run --extra-files file1:dirA/file2:dirB/\n# or\n$ export FLASK_RUN_EXTRA_FILES=file1:dirA/file2:dirB/\n$ flask run\n * Running on http://127.0.0.1:8000/\n * Detected change in '/path/to/file1', reloading\n</pre> </div>\n<div aria-labelledby=\"tab-2-Q01E\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-2-Q01E\" name=\"Q01E\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; flask run --extra-files file1:dirA/file2:dirB/\n# or\n&gt; set FLASK_RUN_EXTRA_FILES=file1:dirA/file2:dirB/\n&gt; flask run\n * Running on http://127.0.0.1:8000/\n * Detected change in '/path/to/file1', reloading\n</pre> </div>\n<div aria-labelledby=\"tab-2-UG93ZXJzaGVsbA==\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-2-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; flask run --extra-files file1:dirA/file2:dirB/\n# or\n&gt; $env:FLASK_RUN_EXTRA_FILES = \"file1:dirA/file2:dirB/\"\n&gt; flask run\n * Running on http://127.0.0.1:8000/\n * Detected change in '/path/to/file1', reloading\n</pre> </div>\n</div>    <h2 id=\"debug-mode\">Debug Mode</h2> <p>Debug mode will be enabled when <code id=\"index-1\">FLASK_ENV</code> is <code>development</code>, as described above. If you want to control debug mode separately, use <code id=\"index-2\">FLASK_DEBUG</code>. The value <code>1</code> enables it, <code>0</code> disables it.</p>   <h2 id=\"dotenv\">Environment Variables From dotenv</h2> <p id=\"environment-variables-from-dotenv\">Rather than setting <code>FLASK_APP</code> each time you open a new terminal, you can use Flask’s dotenv support to set environment variables automatically.</p> <p>If <a class=\"reference external\" href=\"https://github.com/theskumar/python-dotenv#readme\">python-dotenv</a> is installed, running the <code>flask</code> command will set environment variables defined in the files <code>.env</code> and <code>.flaskenv</code>. This can be used to avoid having to set <code>FLASK_APP</code> manually every time you open a new terminal, and to set configuration using environment variables similar to how some deployment services work.</p> <p>Variables set on the command line are used over those set in <code>.env</code>, which are used over those set in <code>.flaskenv</code>. <code>.flaskenv</code> should be used for public variables, such as <code>FLASK_APP</code>, while <code>.env</code> should not be committed to your repository so that it can set private variables.</p> <p>Directories are scanned upwards from the directory you call <code>flask</code> from to locate the files. The current working directory will be set to the location of the file, with the assumption that that is the top level project directory.</p> <p>The files are only loaded by the <code>flask</code> command or calling <a class=\"reference internal\" href=\"../api/index#flask.Flask.run\" title=\"flask.Flask.run\"><code>run()</code></a>. If you would like to load these files when running in production, you should call <a class=\"reference internal\" href=\"../api/index#flask.cli.load_dotenv\" title=\"flask.cli.load_dotenv\"><code>load_dotenv()</code></a> manually.</p>  <h3 id=\"setting-command-options\">Setting Command Options</h3> <p>Click is configured to load default values for command options from environment variables. The variables use the pattern <code>FLASK_COMMAND_OPTION</code>. For example, to set the port for the run command, instead of <code>flask run --port 8000</code>:</p> <div class=\"sphinx-tabs docutils container\"> <div aria-label=\"Tabbed content\" class=\"closeable\" role=\"tablist\">\n<button aria-controls=\"panel-3-QmFzaA==\" aria-selected=\"true\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-3-QmFzaA==\" name=\"QmFzaA==\" role=\"tab\" tabindex=\"0\">Bash</button><button aria-controls=\"panel-3-Q01E\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-3-Q01E\" name=\"Q01E\" role=\"tab\" tabindex=\"-1\">CMD</button><button aria-controls=\"panel-3-UG93ZXJzaGVsbA==\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-3-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tab\" tabindex=\"-1\">Powershell</button>\n</div>\n<div aria-labelledby=\"tab-3-QmFzaA==\" class=\"sphinx-tabs-panel group-tab\" id=\"panel-3-QmFzaA==\" name=\"QmFzaA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">$ export FLASK_RUN_PORT=8000\n$ flask run\n * Running on http://127.0.0.1:8000/\n</pre> </div>\n<div aria-labelledby=\"tab-3-Q01E\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-3-Q01E\" name=\"Q01E\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; set FLASK_RUN_PORT=8000\n&gt; flask run\n * Running on http://127.0.0.1:8000/\n</pre> </div>\n<div aria-labelledby=\"tab-3-UG93ZXJzaGVsbA==\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-3-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; $env:FLASK_RUN_PORT = 8000\n&gt; flask run\n * Running on http://127.0.0.1:8000/\n</pre> </div>\n</div> <p>These can be added to the <code>.flaskenv</code> file just like <code>FLASK_APP</code> to control default command options.</p>   <h3 id=\"disable-dotenv\">Disable dotenv</h3> <p>The <code>flask</code> command will show a message if it detects dotenv files but python-dotenv is not installed.</p> <pre data-language=\"bash\">$ flask run\n * Tip: There are .env files present. Do \"pip install python-dotenv\" to use them.\n</pre> <p>You can tell Flask not to load dotenv files even when python-dotenv is installed by setting the <code>FLASK_SKIP_DOTENV</code> environment variable. This can be useful if you want to load them manually, or if you’re using a project runner that loads them already. Keep in mind that the environment variables must be set before the app loads or it won’t configure as expected.</p> <div class=\"sphinx-tabs docutils container\"> <div aria-label=\"Tabbed content\" class=\"closeable\" role=\"tablist\">\n<button aria-controls=\"panel-4-QmFzaA==\" aria-selected=\"true\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-4-QmFzaA==\" name=\"QmFzaA==\" role=\"tab\" tabindex=\"0\">Bash</button><button aria-controls=\"panel-4-Q01E\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-4-Q01E\" name=\"Q01E\" role=\"tab\" tabindex=\"-1\">CMD</button><button aria-controls=\"panel-4-UG93ZXJzaGVsbA==\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-4-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tab\" tabindex=\"-1\">Powershell</button>\n</div>\n<div aria-labelledby=\"tab-4-QmFzaA==\" class=\"sphinx-tabs-panel group-tab\" id=\"panel-4-QmFzaA==\" name=\"QmFzaA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">$ export FLASK_SKIP_DOTENV=1\n$ flask run\n</pre> </div>\n<div aria-labelledby=\"tab-4-Q01E\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-4-Q01E\" name=\"Q01E\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; set FLASK_SKIP_DOTENV=1\n&gt; flask run\n</pre> </div>\n<div aria-labelledby=\"tab-4-UG93ZXJzaGVsbA==\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-4-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; $env:FLASK_SKIP_DOTENV = 1\n&gt; flask run\n</pre> </div>\n</div>    <h2 id=\"environment-variables-from-virtualenv\">Environment Variables From virtualenv</h2> <p>If you do not want to install dotenv support, you can still set environment variables by adding them to the end of the virtualenv’s <code>activate</code> script. Activating the virtualenv will set the variables.</p> <div class=\"sphinx-tabs docutils container\"> <div aria-label=\"Tabbed content\" class=\"closeable\" role=\"tablist\">\n<button aria-controls=\"panel-5-QmFzaA==\" aria-selected=\"true\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-5-QmFzaA==\" name=\"QmFzaA==\" role=\"tab\" tabindex=\"0\">Bash</button><button aria-controls=\"panel-5-Q01E\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-5-Q01E\" name=\"Q01E\" role=\"tab\" tabindex=\"-1\">CMD</button><button aria-controls=\"panel-5-UG93ZXJzaGVsbA==\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-5-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tab\" tabindex=\"-1\">Powershell</button>\n</div>\n<div aria-labelledby=\"tab-5-QmFzaA==\" class=\"sphinx-tabs-panel group-tab\" id=\"panel-5-QmFzaA==\" name=\"QmFzaA==\" role=\"tabpanel\" tabindex=\"0\">\n<p>Unix Bash, <code>venv/bin/activate</code>:</p> <pre data-language=\"python\">$ export FLASK_APP=hello\n</pre> </div>\n<div aria-labelledby=\"tab-5-Q01E\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-5-Q01E\" name=\"Q01E\" role=\"tabpanel\" tabindex=\"0\">\n<p>Windows CMD, <code>venv\\Scripts\\activate.bat</code>:</p> <pre data-language=\"python\">&gt; set FLASK_APP=hello\n</pre> </div>\n<div aria-labelledby=\"tab-5-UG93ZXJzaGVsbA==\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-5-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tabpanel\" tabindex=\"0\">\n<p>Windows Powershell, <code>venv\\Scripts\\activate.ps1</code>:</p> <pre data-language=\"python\">&gt; $env:FLASK_APP = \"hello\"\n</pre> </div>\n</div> <p>It is preferred to use dotenv support over this, since <code>.flaskenv</code> can be committed to the repository so that it works automatically wherever the project is checked out.</p>   <h2 id=\"custom-commands\">Custom Commands</h2> <p>The <code>flask</code> command is implemented using <a class=\"reference external\" href=\"https://click.palletsprojects.com/\">Click</a>. See that project’s documentation for full information about writing commands.</p> <p>This example adds the command <code>create-user</code> that takes the argument <code>name</code>.</p> <pre data-language=\"python\">import click\nfrom flask import Flask\n\napp = Flask(__name__)\n\n@app.cli.command(\"create-user\")\n@click.argument(\"name\")\ndef create_user(name):\n    ...\n</pre> <pre data-language=\"python\">$ flask create-user admin\n</pre> <p>This example adds the same command, but as <code>user create</code>, a command in a group. This is useful if you want to organize multiple related commands.</p> <pre data-language=\"python\">import click\nfrom flask import Flask\nfrom flask.cli import AppGroup\n\napp = Flask(__name__)\nuser_cli = AppGroup('user')\n\n@user_cli.command('create')\n@click.argument('name')\ndef create_user(name):\n    ...\n\napp.cli.add_command(user_cli)\n</pre> <pre data-language=\"python\">$ flask user create demo\n</pre> <p>See <a class=\"reference internal\" href=\"../testing/index#testing-cli\"><span class=\"std std-ref\">Testing CLI Commands</span></a> for an overview of how to test your custom commands.</p>  <h3 id=\"registering-commands-with-blueprints\">Registering Commands with Blueprints</h3> <p>If your application uses blueprints, you can optionally register CLI commands directly onto them. When your blueprint is registered onto your application, the associated commands will be available to the <code>flask</code> command. By default, those commands will be nested in a group matching the name of the blueprint.</p> <pre data-language=\"python\">from flask import Blueprint\n\nbp = Blueprint('students', __name__)\n\n@bp.cli.command('create')\n@click.argument('name')\ndef create(name):\n    ...\n\napp.register_blueprint(bp)\n</pre> <pre data-language=\"text\">$ flask students create alice\n</pre> <p>You can alter the group name by specifying the <code>cli_group</code> parameter when creating the <a class=\"reference internal\" href=\"../api/index#flask.Blueprint\" title=\"flask.Blueprint\"><code>Blueprint</code></a> object, or later with <a class=\"reference internal\" href=\"../api/index#flask.Flask.register_blueprint\" title=\"flask.Flask.register_blueprint\"><code>app.register_blueprint(bp, cli_group='...')</code></a>. The following are equivalent:</p> <pre data-language=\"python\">bp = Blueprint('students', __name__, cli_group='other')\n# or\napp.register_blueprint(bp, cli_group='other')\n</pre> <pre data-language=\"text\">$ flask other create alice\n</pre> <p>Specifying <code>cli_group=None</code> will remove the nesting and merge the commands directly to the application’s level:</p> <pre data-language=\"python\">bp = Blueprint('students', __name__, cli_group=None)\n# or\napp.register_blueprint(bp, cli_group=None)\n</pre> <pre data-language=\"text\">$ flask create alice\n</pre>   <h3 id=\"application-context\">Application Context</h3> <p>Commands added using the Flask app’s <a class=\"reference internal\" href=\"../api/index#flask.Flask.cli\" title=\"flask.Flask.cli\"><code>cli</code></a> <a class=\"reference internal\" href=\"../api/index#flask.cli.AppGroup.command\" title=\"flask.cli.AppGroup.command\"><code>command()</code></a> decorator will be executed with an application context pushed, so your command and extensions have access to the app and its configuration. If you create a command using the Click <a class=\"reference external\" href=\"https://click.palletsprojects.com/en/8.0.x/api/#click.command\" title=\"(in Click v8.0.x)\"><code>command()</code></a> decorator instead of the Flask decorator, you can use <a class=\"reference internal\" href=\"../api/index#flask.cli.with_appcontext\" title=\"flask.cli.with_appcontext\"><code>with_appcontext()</code></a> to get the same behavior.</p> <pre data-language=\"python\">import click\nfrom flask.cli import with_appcontext\n\n@click.command()\n@with_appcontext\ndef do_work():\n    ...\n\napp.cli.add_command(do_work)\n</pre> <p>If you’re sure a command doesn’t need the context, you can disable it:</p> <pre data-language=\"python\">@app.cli.command(with_appcontext=False)\ndef do_work():\n    ...\n</pre>    <h2 id=\"plugins\">Plugins</h2> <p>Flask will automatically load commands specified in the <code>flask.commands</code> <a class=\"reference external\" href=\"https://packaging.python.org/tutorials/packaging-projects/#entry-points\">entry point</a>. This is useful for extensions that want to add commands when they are installed. Entry points are specified in <code>setup.py</code></p> <pre data-language=\"python\">from setuptools import setup\n\nsetup(\n    name='flask-my-extension',\n    ...,\n    entry_points={\n        'flask.commands': [\n            'my-command=flask_my_extension.commands:cli'\n        ],\n    },\n)\n</pre> <p>Inside <code>flask_my_extension/commands.py</code> you can then export a Click object:</p> <pre data-language=\"python\">import click\n\n@click.command()\ndef cli():\n    ...\n</pre> <p>Once that package is installed in the same virtualenv as your Flask project, you can run <code>flask my-command</code> to invoke the command.</p>   <h2 id=\"id1\">Custom Scripts</h2> <p id=\"custom-scripts\">When you are using the app factory pattern, it may be more convenient to define your own Click script. Instead of using <code>FLASK_APP</code> and letting Flask load your application, you can create your own Click object and export it as a <a class=\"reference external\" href=\"https://packaging.python.org/tutorials/packaging-projects/#console-scripts\">console script</a> entry point.</p> <p>Create an instance of <a class=\"reference internal\" href=\"../api/index#flask.cli.FlaskGroup\" title=\"flask.cli.FlaskGroup\"><code>FlaskGroup</code></a> and pass it the factory:</p> <pre data-language=\"python\">import click\nfrom flask import Flask\nfrom flask.cli import FlaskGroup\n\ndef create_app():\n    app = Flask('wiki')\n    # other setup\n    return app\n\n@click.group(cls=FlaskGroup, create_app=create_app)\ndef cli():\n    \"\"\"Management script for the Wiki application.\"\"\"\n</pre> <p>Define the entry point in <code>setup.py</code>:</p> <pre data-language=\"python\">from setuptools import setup\n\nsetup(\n    name='flask-my-extension',\n    ...,\n    entry_points={\n        'console_scripts': [\n            'wiki=wiki:cli'\n        ],\n    },\n)\n</pre> <p>Install the application in the virtualenv in editable mode and the custom script is available. Note that you don’t need to set <code>FLASK_APP</code>.</p> <pre data-language=\"python\">$ pip install -e .\n$ wiki run\n</pre> <div class=\"admonition-errors-in-custom-scripts admonition\"> <p class=\"admonition-title\">Errors in Custom Scripts</p> <p>When using a custom script, if you introduce an error in your module-level code, the reloader will fail because it can no longer load the entry point.</p> <p>The <code>flask</code> command, being separate from your code, does not have this issue and is recommended in most cases.</p> </div>   <h2 id=\"pycharm-integration\">PyCharm Integration</h2> <p>PyCharm Professional provides a special Flask run configuration. For the Community Edition, we need to configure it to call the <code>flask run</code> CLI command with the correct environment variables. These instructions should be similar for any other IDE you might want to use.</p> <p>In PyCharm, with your project open, click on <em>Run</em> from the menu bar and go to <em>Edit Configurations</em>. You’ll be greeted by a screen similar to this:</p> <img alt=\"Screenshot of PyCharms's run configuration settings.\" class=\"screenshot align-center\" src=\"data:image/png;base64,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\"> <p>There’s quite a few options to change, but once we’ve done it for one command, we can easily copy the entire configuration and make a single tweak to give us access to other commands, including any custom ones you may implement yourself.</p> <p>Click the + (<em>Add New Configuration</em>) button and select <em>Python</em>. Give the configuration a name such as “flask run”. For the <code>flask run</code> command, check “Single instance only” since you can’t run the server more than once at the same time.</p> <p>Select <em>Module name</em> from the dropdown (<strong>A</strong>) then input <code>flask</code>.</p> <p>The <em>Parameters</em> field (<strong>B</strong>) is set to the CLI command to execute (with any arguments). In this example we use <code>run</code>, which will run the development server.</p> <p>You can skip this next step if you’re using <a class=\"reference internal\" href=\"#dotenv\"><span class=\"std std-ref\">Environment Variables From dotenv</span></a>. We need to add an environment variable (<strong>C</strong>) to identify our application. Click on the browse button and add an entry with <code>FLASK_APP</code> on the left and the Python import or file on the right (<code>hello</code> for example). Add an entry with <code>FLASK_ENV</code> and set it to <code>development</code>.</p> <p>Next we need to set the working directory (<strong>D</strong>) to be the folder where our application resides.</p> <p>If you have installed your project as a package in your virtualenv, you may untick the <em>PYTHONPATH</em> options (<strong>E</strong>). This will more accurately match how you deploy the app later.</p> <p>Click <em>Apply</em> to save the configuration, or <em>OK</em> to save and close the window. Select the configuration in the main PyCharm window and click the play button next to it to run the server.</p> <p>Now that we have a configuration which runs <code>flask run</code> from within PyCharm, we can copy that configuration and alter the <em>Script</em> argument to run a different CLI command, e.g. <code>flask shell</code>.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/cli/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/cli/</a>\n  </p>\n</div>\n","server/index":"<h1>Development Server</h1> <p>Flask provides a <code>run</code> command to run the application with a development server. In development mode, this server provides an interactive debugger and will reload when code is changed.</p> <div class=\"admonition warning\"> <p class=\"admonition-title\">Warning</p> <p>Do not use the development server when deploying to production. It is intended for use only during local development. It is not designed to be particularly efficient, stable, or secure.</p> <p>See <a class=\"reference internal\" href=\"../deploying/index\"><span class=\"doc\">Deployment Options</span></a> for deployment options.</p> </div>  <h2 id=\"command-line\">Command Line</h2> <p>The <code>flask run</code> command line script is the recommended way to run the development server. It requires setting the <code>FLASK_APP</code> environment variable to point to your application, and <code>FLASK_ENV=development</code> to fully enable development mode.</p> <div class=\"sphinx-tabs docutils container\"> <div aria-label=\"Tabbed content\" class=\"closeable\" role=\"tablist\">\n<button aria-controls=\"panel-0-QmFzaA==\" aria-selected=\"true\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-QmFzaA==\" name=\"QmFzaA==\" role=\"tab\" tabindex=\"0\">Bash</button><button aria-controls=\"panel-0-Q01E\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-Q01E\" name=\"Q01E\" role=\"tab\" tabindex=\"-1\">CMD</button><button aria-controls=\"panel-0-UG93ZXJzaGVsbA==\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tab\" tabindex=\"-1\">Powershell</button>\n</div>\n<div aria-labelledby=\"tab-0-QmFzaA==\" class=\"sphinx-tabs-panel group-tab\" id=\"panel-0-QmFzaA==\" name=\"QmFzaA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">$ export FLASK_APP=hello\n$ export FLASK_ENV=development\n$ flask run\n</pre> </div>\n<div aria-labelledby=\"tab-0-Q01E\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-0-Q01E\" name=\"Q01E\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; set FLASK_APP=hello\n&gt; set FLASK_ENV=development\n&gt; flask run\n</pre> </div>\n<div aria-labelledby=\"tab-0-UG93ZXJzaGVsbA==\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-0-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; $env:FLASK_APP = \"hello\"\n&gt; $env:FLASK_ENV = \"development\"\n&gt; flask run\n</pre> </div>\n</div> <p>This enables the development environment, including the interactive debugger and reloader, and then starts the server on <a class=\"reference external\" href=\"http://localhost:5000/\">http://localhost:5000/</a>. Use <code>flask run --help</code> to see the available options, and <a class=\"reference internal\" href=\"../cli/index\"><span class=\"doc\">Command Line Interface</span></a> for detailed instructions about configuring and using the CLI.</p> <div class=\"admonition note\"> <p class=\"admonition-title\">Note</p> <p>Prior to Flask 1.0 the <code>FLASK_ENV</code> environment variable was not supported and you needed to enable debug mode by exporting <code>FLASK_DEBUG=1</code>. This can still be used to control debug mode, but you should prefer setting the development environment as shown above.</p> </div>  <h3 id=\"lazy-or-eager-loading\">Lazy or Eager Loading</h3> <p>When using the <code>flask run</code> command with the reloader, the server will continue to run even if you introduce syntax errors or other initialization errors into the code. Accessing the site will show the interactive debugger for the error, rather than crashing the server. This feature is called “lazy loading”.</p> <p>If a syntax error is already present when calling <code>flask run</code>, it will fail immediately and show the traceback rather than waiting until the site is accessed. This is intended to make errors more visible initially while still allowing the server to handle errors on reload.</p> <p>To override this behavior and always fail immediately, even on reload, pass the <code>--eager-loading</code> option. To always keep the server running, even on the initial call, pass <code>--lazy-loading</code>.</p>    <h2 id=\"in-code\">In Code</h2> <p>As an alternative to the <code>flask run</code> command, the development server can also be started from Python with the <a class=\"reference internal\" href=\"../api/index#flask.Flask.run\" title=\"flask.Flask.run\"><code>Flask.run()</code></a> method. This method takes arguments similar to the CLI options to control the server. The main difference from the CLI command is that the server will crash if there are errors when reloading.</p> <p><code>debug=True</code> can be passed to enable the debugger and reloader, but the <code>FLASK_ENV=development</code> environment variable is still required to fully enable development mode.</p> <p>Place the call in a main block, otherwise it will interfere when trying to import and run the application with a production server later.</p> <pre data-language=\"python\">if __name__ == \"__main__\":\n    app.run(debug=True)\n</pre> <pre data-language=\"text\">$ python hello.py\n</pre><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/server/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/server/</a>\n  </p>\n</div>\n","shell/index":"<h1>Working with the Shell</h1> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.3.</span></p> </div> </details><p>One of the reasons everybody loves Python is the interactive shell. It basically allows you to execute Python commands in real time and immediately get results back. Flask itself does not come with an interactive shell, because it does not require any specific setup upfront, just import your application and start playing around.</p> <p>There are however some handy helpers to make playing around in the shell a more pleasant experience. The main issue with interactive console sessions is that you’re not triggering a request like a browser does which means that <a class=\"reference internal\" href=\"../api/index#flask.g\" title=\"flask.g\"><code>g</code></a>, <a class=\"reference internal\" href=\"../api/index#flask.request\" title=\"flask.request\"><code>request</code></a> and others are not available. But the code you want to test might depend on them, so what can you do?</p> <p>This is where some helper functions come in handy. Keep in mind however that these functions are not only there for interactive shell usage, but also for unit testing and other situations that require a faked request context.</p> <p>Generally it’s recommended that you read the <a class=\"reference internal\" href=\"../reqcontext/index\"><span class=\"doc\">The Request Context</span></a> chapter of the documentation first.</p>  <h2 id=\"command-line-interface\">Command Line Interface</h2> <p>Starting with Flask 0.11 the recommended way to work with the shell is the <code>flask shell</code> command which does a lot of this automatically for you. For instance the shell is automatically initialized with a loaded application context.</p> <p>For more information see <a class=\"reference internal\" href=\"../cli/index\"><span class=\"doc\">Command Line Interface</span></a>.</p>   <h2 id=\"creating-a-request-context\">Creating a Request Context</h2> <p>The easiest way to create a proper request context from the shell is by using the <a class=\"reference internal\" href=\"../api/index#flask.Flask.test_request_context\" title=\"flask.Flask.test_request_context\"><code>test_request_context</code></a> method which creates us a <a class=\"reference internal\" href=\"../api/index#flask.ctx.RequestContext\" title=\"flask.ctx.RequestContext\"><code>RequestContext</code></a>:</p> <pre data-language=\"python\">&gt;&gt;&gt; ctx = app.test_request_context()\n</pre> <p>Normally you would use the <code>with</code> statement to make this request object active, but in the shell it’s easier to use the <a class=\"reference internal\" href=\"../api/index#flask.ctx.RequestContext.push\" title=\"flask.ctx.RequestContext.push\"><code>push()</code></a> and <a class=\"reference internal\" href=\"../api/index#flask.ctx.RequestContext.pop\" title=\"flask.ctx.RequestContext.pop\"><code>pop()</code></a> methods by hand:</p> <pre data-language=\"python\">&gt;&gt;&gt; ctx.push()\n</pre> <p>From that point onwards you can work with the request object until you call <code>pop</code>:</p> <pre data-language=\"python\">&gt;&gt;&gt; ctx.pop()\n</pre>   <h2 id=\"firing-before-after-request\">Firing Before/After Request</h2> <p>By just creating a request context, you still don’t have run the code that is normally run before a request. This might result in your database being unavailable if you are connecting to the database in a before-request callback or the current user not being stored on the <a class=\"reference internal\" href=\"../api/index#flask.g\" title=\"flask.g\"><code>g</code></a> object etc.</p> <p>This however can easily be done yourself. Just call <a class=\"reference internal\" href=\"../api/index#flask.Flask.preprocess_request\" title=\"flask.Flask.preprocess_request\"><code>preprocess_request()</code></a>:</p> <pre data-language=\"python\">&gt;&gt;&gt; ctx = app.test_request_context()\n&gt;&gt;&gt; ctx.push()\n&gt;&gt;&gt; app.preprocess_request()\n</pre> <p>Keep in mind that the <a class=\"reference internal\" href=\"../api/index#flask.Flask.preprocess_request\" title=\"flask.Flask.preprocess_request\"><code>preprocess_request()</code></a> function might return a response object, in that case just ignore it.</p> <p>To shutdown a request, you need to trick a bit before the after request functions (triggered by <a class=\"reference internal\" href=\"../api/index#flask.Flask.process_response\" title=\"flask.Flask.process_response\"><code>process_response()</code></a>) operate on a response object:</p> <pre data-language=\"python\">&gt;&gt;&gt; app.process_response(app.response_class())\n&lt;Response 0 bytes [200 OK]&gt;\n&gt;&gt;&gt; ctx.pop()\n</pre> <p>The functions registered as <a class=\"reference internal\" href=\"../api/index#flask.Flask.teardown_request\" title=\"flask.Flask.teardown_request\"><code>teardown_request()</code></a> are automatically called when the context is popped. So this is the perfect place to automatically tear down resources that were needed by the request context (such as database connections).</p>   <h2 id=\"further-improving-the-shell-experience\">Further Improving the Shell Experience</h2> <p>If you like the idea of experimenting in a shell, create yourself a module with stuff you want to star import into your interactive session. There you could also define some more helper methods for common things such as initializing the database, dropping tables etc.</p> <p>Just put them into a module (like <code>shelltools</code>) and import from there:</p> <pre data-language=\"python\">&gt;&gt;&gt; from shelltools import *\n</pre><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/shell/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/shell/</a>\n  </p>\n</div>\n","patterns/packages/index":"<h1>Large Applications as Packages</h1> <p>Imagine a simple flask application structure that looks like this:</p> <pre data-language=\"python\">/yourapplication\n    yourapplication.py\n    /static\n        style.css\n    /templates\n        layout.html\n        index.html\n        login.html\n        ...\n</pre> <p>While this is fine for small applications, for larger applications it’s a good idea to use a package instead of a module. The <a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/tutorial/\"><span class=\"doc\">Tutorial</span></a> is structured to use the package pattern, see the <a class=\"reference external\" href=\"https://github.com/pallets/flask/tree/main/examples/tutorial\">example code</a>.</p>  <h2 id=\"simple-packages\">Simple Packages</h2> <p>To convert that into a larger one, just create a new folder <code>yourapplication</code> inside the existing one and move everything below it. Then rename <code>yourapplication.py</code> to <code>__init__.py</code>. (Make sure to delete all <code>.pyc</code> files first, otherwise things would most likely break)</p> <p>You should then end up with something like that:</p> <pre data-language=\"python\">/yourapplication\n    /yourapplication\n        __init__.py\n        /static\n            style.css\n        /templates\n            layout.html\n            index.html\n            login.html\n            ...\n</pre> <p>But how do you run your application now? The naive <code>python\nyourapplication/__init__.py</code> will not work. Let’s just say that Python does not want modules in packages to be the startup file. But that is not a big problem, just add a new file called <code>setup.py</code> next to the inner <code>yourapplication</code> folder with the following contents:</p> <pre data-language=\"python\">from setuptools import setup\n\nsetup(\n    name='yourapplication',\n    packages=['yourapplication'],\n    include_package_data=True,\n    install_requires=[\n        'flask',\n    ],\n)\n</pre> <p>In order to run the application you need to export an environment variable that tells Flask where to find the application instance:</p> <div class=\"sphinx-tabs docutils container\"> <div aria-label=\"Tabbed content\" class=\"closeable\" role=\"tablist\">\n<button aria-controls=\"panel-0-QmFzaA==\" aria-selected=\"true\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-QmFzaA==\" name=\"QmFzaA==\" role=\"tab\" tabindex=\"0\">Bash</button><button aria-controls=\"panel-0-Q01E\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-Q01E\" name=\"Q01E\" role=\"tab\" tabindex=\"-1\">CMD</button><button aria-controls=\"panel-0-UG93ZXJzaGVsbA==\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tab\" tabindex=\"-1\">Powershell</button>\n</div>\n<div aria-labelledby=\"tab-0-QmFzaA==\" class=\"sphinx-tabs-panel group-tab\" id=\"panel-0-QmFzaA==\" name=\"QmFzaA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">$ export FLASK_APP=yourapplication\n</pre> </div>\n<div aria-labelledby=\"tab-0-Q01E\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-0-Q01E\" name=\"Q01E\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; set FLASK_APP=yourapplication\n</pre> </div>\n<div aria-labelledby=\"tab-0-UG93ZXJzaGVsbA==\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-0-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; $env:FLASK_APP = \"yourapplication\"\n</pre> </div>\n</div> <p>If you are outside of the project directory make sure to provide the exact path to your application directory. Similarly you can turn on the development features like this:</p> <div class=\"sphinx-tabs docutils container\"> <div aria-label=\"Tabbed content\" class=\"closeable\" role=\"tablist\">\n<button aria-controls=\"panel-1-QmFzaA==\" aria-selected=\"true\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-1-QmFzaA==\" name=\"QmFzaA==\" role=\"tab\" tabindex=\"0\">Bash</button><button aria-controls=\"panel-1-Q01E\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-1-Q01E\" name=\"Q01E\" role=\"tab\" tabindex=\"-1\">CMD</button><button aria-controls=\"panel-1-UG93ZXJzaGVsbA==\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-1-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tab\" tabindex=\"-1\">Powershell</button>\n</div>\n<div aria-labelledby=\"tab-1-QmFzaA==\" class=\"sphinx-tabs-panel group-tab\" id=\"panel-1-QmFzaA==\" name=\"QmFzaA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">$ export FLASK_ENV=development\n</pre> </div>\n<div aria-labelledby=\"tab-1-Q01E\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-1-Q01E\" name=\"Q01E\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; set FLASK_ENV=development\n</pre> </div>\n<div aria-labelledby=\"tab-1-UG93ZXJzaGVsbA==\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-1-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; $env:FLASK_ENV = \"development\"\n</pre> </div>\n</div> <p>In order to install and run the application you need to issue the following commands:</p> <pre data-language=\"python\">$ pip install -e .\n$ flask run\n</pre> <p>What did we gain from this? Now we can restructure the application a bit into multiple modules. The only thing you have to remember is the following quick checklist:</p> <ol class=\"arabic simple\"> <li>the <code>Flask</code> application object creation has to be in the <code>__init__.py</code> file. That way each module can import it safely and the <code>__name__</code> variable will resolve to the correct package.</li> <li>all the view functions (the ones with a <a class=\"reference internal\" href=\"../../api/index#flask.Flask.route\" title=\"flask.Flask.route\"><code>route()</code></a> decorator on top) have to be imported in the <code>__init__.py</code> file. Not the object itself, but the module it is in. Import the view module <strong>after the application object is created</strong>.</li> </ol> <p>Here’s an example <code>__init__.py</code>:</p> <pre data-language=\"python\">from flask import Flask\napp = Flask(__name__)\n\nimport yourapplication.views\n</pre> <p>And this is what <code>views.py</code> would look like:</p> <pre data-language=\"python\">from yourapplication import app\n\n@app.route('/')\ndef index():\n    return 'Hello World!'\n</pre> <p>You should then end up with something like that:</p> <pre data-language=\"python\">/yourapplication\n    setup.py\n    /yourapplication\n        __init__.py\n        views.py\n        /static\n            style.css\n        /templates\n            layout.html\n            index.html\n            login.html\n            ...\n</pre> <div class=\"admonition-circular-imports admonition\"> <p class=\"admonition-title\">Circular Imports</p> <p>Every Python programmer hates them, and yet we just added some: circular imports (That’s when two modules depend on each other. In this case <code>views.py</code> depends on <code>__init__.py</code>). Be advised that this is a bad idea in general but here it is actually fine. The reason for this is that we are not actually using the views in <code>__init__.py</code> and just ensuring the module is imported and we are doing that at the bottom of the file.</p> <p>There are still some problems with that approach but if you want to use decorators there is no way around that. Check out the <a class=\"reference internal\" href=\"../../becomingbig/index\"><span class=\"doc\">Becoming Big</span></a> section for some inspiration how to deal with that.</p> </div>   <h2 id=\"working-with-blueprints\">Working with Blueprints</h2> <p>If you have larger applications it’s recommended to divide them into smaller groups where each group is implemented with the help of a blueprint. For a gentle introduction into this topic refer to the <a class=\"reference internal\" href=\"../../blueprints/index\"><span class=\"doc\">Modular Applications with Blueprints</span></a> chapter of the documentation.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/packages/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/packages/</a>\n  </p>\n</div>\n","patterns/appfactories/index":"<h1>Application Factories</h1> <p>If you are already using packages and blueprints for your application (<a class=\"reference internal\" href=\"../../blueprints/index\"><span class=\"doc\">Modular Applications with Blueprints</span></a>) there are a couple of really nice ways to further improve the experience. A common pattern is creating the application object when the blueprint is imported. But if you move the creation of this object into a function, you can then create multiple instances of this app later.</p> <p>So why would you want to do this?</p> <ol class=\"arabic simple\"> <li>Testing. You can have instances of the application with different settings to test every case.</li> <li>Multiple instances. Imagine you want to run different versions of the same application. Of course you could have multiple instances with different configs set up in your webserver, but if you use factories, you can have multiple instances of the same application running in the same application process which can be handy.</li> </ol> <p>So how would you then actually implement that?</p>  <h2 id=\"basic-factories\">Basic Factories</h2> <p>The idea is to set up the application in a function. Like this:</p> <pre data-language=\"python\">def create_app(config_filename):\n    app = Flask(__name__)\n    app.config.from_pyfile(config_filename)\n\n    from yourapplication.model import db\n    db.init_app(app)\n\n    from yourapplication.views.admin import admin\n    from yourapplication.views.frontend import frontend\n    app.register_blueprint(admin)\n    app.register_blueprint(frontend)\n\n    return app\n</pre> <p>The downside is that you cannot use the application object in the blueprints at import time. You can however use it from within a request. How do you get access to the application with the config? Use <a class=\"reference internal\" href=\"../../api/index#flask.current_app\" title=\"flask.current_app\"><code>current_app</code></a>:</p> <pre data-language=\"python\">from flask import current_app, Blueprint, render_template\nadmin = Blueprint('admin', __name__, url_prefix='/admin')\n\n@admin.route('/')\ndef index():\n    return render_template(current_app.config['INDEX_TEMPLATE'])\n</pre> <p>Here we look up the name of a template in the config.</p>   <h2 id=\"factories-extensions\">Factories &amp; Extensions</h2> <p>It’s preferable to create your extensions and app factories so that the extension object does not initially get bound to the application.</p> <p>Using <a class=\"reference external\" href=\"https://flask-sqlalchemy.palletsprojects.com/\">Flask-SQLAlchemy</a>, as an example, you should not do something along those lines:</p> <pre data-language=\"python\">def create_app(config_filename):\n    app = Flask(__name__)\n    app.config.from_pyfile(config_filename)\n\n    db = SQLAlchemy(app)\n</pre> <p>But, rather, in model.py (or equivalent):</p> <pre data-language=\"python\">db = SQLAlchemy()\n</pre> <p>and in your application.py (or equivalent):</p> <pre data-language=\"python\">def create_app(config_filename):\n    app = Flask(__name__)\n    app.config.from_pyfile(config_filename)\n\n    from yourapplication.model import db\n    db.init_app(app)\n</pre> <p>Using this design pattern, no application-specific state is stored on the extension object, so one extension object can be used for multiple apps. For more information about the design of extensions refer to <a class=\"reference internal\" href=\"https://flask.palletsprojects.com/en/2.0.x/extensiondev/\"><span class=\"doc\">Flask Extension Development</span></a>.</p>   <h2 id=\"using-applications\">Using Applications</h2> <p>To run such an application, you can use the <strong class=\"command\">flask</strong> command:</p> <div class=\"sphinx-tabs docutils container\"> <div aria-label=\"Tabbed content\" class=\"closeable\" role=\"tablist\">\n<button aria-controls=\"panel-0-QmFzaA==\" aria-selected=\"true\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-QmFzaA==\" name=\"QmFzaA==\" role=\"tab\" tabindex=\"0\">Bash</button><button aria-controls=\"panel-0-Q01E\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-Q01E\" name=\"Q01E\" role=\"tab\" tabindex=\"-1\">CMD</button><button aria-controls=\"panel-0-UG93ZXJzaGVsbA==\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-0-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tab\" tabindex=\"-1\">Powershell</button>\n</div>\n<div aria-labelledby=\"tab-0-QmFzaA==\" class=\"sphinx-tabs-panel group-tab\" id=\"panel-0-QmFzaA==\" name=\"QmFzaA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">$ export FLASK_APP=myapp\n$ flask run\n</pre> </div>\n<div aria-labelledby=\"tab-0-Q01E\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-0-Q01E\" name=\"Q01E\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; set FLASK_APP=myapp\n&gt; flask run\n</pre> </div>\n<div aria-labelledby=\"tab-0-UG93ZXJzaGVsbA==\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-0-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; $env:FLASK_APP = \"myapp\"\n&gt; flask run\n</pre> </div>\n</div> <p>Flask will automatically detect the factory (<code>create_app</code> or <code>make_app</code>) in <code>myapp</code>. You can also pass arguments to the factory like this:</p> <div class=\"sphinx-tabs docutils container\"> <div aria-label=\"Tabbed content\" class=\"closeable\" role=\"tablist\">\n<button aria-controls=\"panel-1-QmFzaA==\" aria-selected=\"true\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-1-QmFzaA==\" name=\"QmFzaA==\" role=\"tab\" tabindex=\"0\">Bash</button><button aria-controls=\"panel-1-Q01E\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-1-Q01E\" name=\"Q01E\" role=\"tab\" tabindex=\"-1\">CMD</button><button aria-controls=\"panel-1-UG93ZXJzaGVsbA==\" aria-selected=\"false\" class=\"sphinx-tabs-tab group-tab\" id=\"tab-1-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tab\" tabindex=\"-1\">Powershell</button>\n</div>\n<div aria-labelledby=\"tab-1-QmFzaA==\" class=\"sphinx-tabs-panel group-tab\" id=\"panel-1-QmFzaA==\" name=\"QmFzaA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">$ export FLASK_APP=\"myapp:create_app('dev')\"\n$ flask run\n</pre> </div>\n<div aria-labelledby=\"tab-1-Q01E\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-1-Q01E\" name=\"Q01E\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; set FLASK_APP=\"myapp:create_app('dev')\"\n&gt; flask run\n</pre> </div>\n<div aria-labelledby=\"tab-1-UG93ZXJzaGVsbA==\" class=\"sphinx-tabs-panel group-tab\" hidden=\"true\" id=\"panel-1-UG93ZXJzaGVsbA==\" name=\"UG93ZXJzaGVsbA==\" role=\"tabpanel\" tabindex=\"0\">\n<pre data-language=\"text\">&gt; $env:FLASK_APP = \"myapp:create_app('dev')\"\n&gt; flask run\n</pre> </div>\n</div> <p>Then the <code>create_app</code> factory in <code>myapp</code> is called with the string <code>'dev'</code> as the argument. See <a class=\"reference internal\" href=\"../../cli/index\"><span class=\"doc\">Command Line Interface</span></a> for more detail.</p>   <h2 id=\"factory-improvements\">Factory Improvements</h2> <p>The factory function above is not very clever, but you can improve it. The following changes are straightforward to implement:</p> <ol class=\"arabic simple\"> <li>Make it possible to pass in configuration values for unit tests so that you don’t have to create config files on the filesystem.</li> <li>Call a function from a blueprint when the application is setting up so that you have a place to modify attributes of the application (like hooking in before/after request handlers etc.)</li> <li>Add in WSGI middlewares when the application is being created if necessary.</li> </ol><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/appfactories/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/appfactories/</a>\n  </p>\n</div>\n","patterns/fabric/index":"<h1>Deploying with Fabric</h1> <p><a class=\"reference external\" href=\"https://www.fabfile.org/\">Fabric</a> is a tool for Python similar to Makefiles but with the ability to execute commands on a remote server. In combination with a properly set up Python package (<a class=\"reference internal\" href=\"../packages/index\"><span class=\"doc\">Large Applications as Packages</span></a>) and a good concept for configurations (<a class=\"reference internal\" href=\"../../config/index\"><span class=\"doc\">Configuration Handling</span></a>) it is very easy to deploy Flask applications to external servers.</p> <p>Before we get started, here a quick checklist of things we have to ensure upfront:</p> <ul class=\"simple\"> <li>Fabric 1.0 has to be installed locally. This tutorial assumes the latest version of Fabric.</li> <li>The application already has to be a package and requires a working <code>setup.py</code> file (<a class=\"reference internal\" href=\"../distribute/index\"><span class=\"doc\">Deploying with Setuptools</span></a>).</li> <li>In the following example we are using <code>mod_wsgi</code> for the remote servers. You can of course use your own favourite server there, but for this example we chose Apache + <code>mod_wsgi</code> because it’s very easy to setup and has a simple way to reload applications without root access.</li> </ul>  <h2 id=\"creating-the-first-fabfile\">Creating the first Fabfile</h2> <p>A fabfile is what controls what Fabric executes. It is named <code>fabfile.py</code> and executed by the <code>fab</code> command. All the functions defined in that file will show up as <code>fab</code> subcommands. They are executed on one or more hosts. These hosts can be defined either in the fabfile or on the command line. In this case we will add them to the fabfile.</p> <p>This is a basic first example that has the ability to upload the current source code to the server and install it into a pre-existing virtual environment:</p> <pre data-language=\"python\">from fabric.api import *\n\n# the user to use for the remote commands\nenv.user = 'appuser'\n# the servers where the commands are executed\nenv.hosts = ['server1.example.com', 'server2.example.com']\n\ndef pack():\n    # build the package\n    local('python setup.py sdist --formats=gztar', capture=False)\n\ndef deploy():\n    # figure out the package name and version\n    dist = local('python setup.py --fullname', capture=True).strip()\n    filename = f'{dist}.tar.gz'\n\n    # upload the package to the temporary folder on the server\n    put(f'dist/{filename}', f'/tmp/{filename}')\n\n    # install the package in the application's virtualenv with pip\n    run(f'/var/www/yourapplication/env/bin/pip install /tmp/{filename}')\n\n    # remove the uploaded package\n    run(f'rm -r /tmp/{filename}')\n\n    # touch the .wsgi file to trigger a reload in mod_wsgi\n    run('touch /var/www/yourapplication.wsgi')\n</pre>   <h2 id=\"running-fabfiles\">Running Fabfiles</h2> <p>Now how do you execute that fabfile? You use the <code>fab</code> command. To deploy the current version of the code on the remote server you would use this command:</p> <pre data-language=\"python\">$ fab pack deploy\n</pre> <p>However this requires that our server already has the <code>/var/www/yourapplication</code> folder created and <code>/var/www/yourapplication/env</code> to be a virtual environment. Furthermore are we not creating the configuration or <code>.wsgi</code> file on the server. So how do we bootstrap a new server into our infrastructure?</p> <p>This now depends on the number of servers we want to set up. If we just have one application server (which the majority of applications will have), creating a command in the fabfile for this is overkill. But obviously you can do that. In that case you would probably call it <code>setup</code> or <code>bootstrap</code> and then pass the servername explicitly on the command line:</p> <pre data-language=\"python\">$ fab -H newserver.example.com bootstrap\n</pre> <p>To setup a new server you would roughly do these steps:</p> <ol class=\"arabic\"> <li>\n<p>Create the directory structure in <code>/var/www</code>:</p> <pre data-language=\"python\">$ mkdir /var/www/yourapplication\n$ cd /var/www/yourapplication\n$ virtualenv --distribute env\n</pre> </li> <li>Upload a new <code>application.wsgi</code> file to the server and the configuration file for the application (eg: <code>application.cfg</code>)</li> <li>Create a new Apache config for <code>yourapplication</code> and activate it. Make sure to activate watching for changes of the <code>.wsgi</code> file so that we can automatically reload the application by touching it. See <a class=\"reference internal\" href=\"../../deploying/mod_wsgi/index\"><span class=\"doc\">mod_wsgi (Apache)</span></a>.</li> </ol> <p>So now the question is, where do the <code>application.wsgi</code> and <code>application.cfg</code> files come from?</p>   <h2 id=\"the-wsgi-file\">The WSGI File</h2> <p>The WSGI file has to import the application and also to set an environment variable so that the application knows where to look for the config. This is a short example that does exactly that:</p> <pre data-language=\"python\">import os\nos.environ['YOURAPPLICATION_CONFIG'] = '/var/www/yourapplication/application.cfg'\nfrom yourapplication import app\n</pre> <p>The application itself then has to initialize itself like this to look for the config at that environment variable:</p> <pre data-language=\"python\">app = Flask(__name__)\napp.config.from_object('yourapplication.default_config')\napp.config.from_envvar('YOURAPPLICATION_CONFIG')\n</pre> <p>This approach is explained in detail in the <a class=\"reference internal\" href=\"../../config/index\"><span class=\"doc\">Configuration Handling</span></a> section of the documentation.</p>   <h2 id=\"the-configuration-file\">The Configuration File</h2> <p>Now as mentioned above, the application will find the correct configuration file by looking up the <code>YOURAPPLICATION_CONFIG</code> environment variable. So we have to put the configuration in a place where the application will able to find it. Configuration files have the unfriendly quality of being different on all computers, so you do not version them usually.</p> <p>A popular approach is to store configuration files for different servers in a separate version control repository and check them out on all servers. Then symlink the file that is active for the server into the location where it’s expected (eg: <code>/var/www/yourapplication</code>).</p> <p>Either way, in our case here we only expect one or two servers and we can upload them ahead of time by hand.</p>   <h2 id=\"first-deployment\">First Deployment</h2> <p>Now we can do our first deployment. We have set up the servers so that they have their virtual environments and activated apache configs. Now we can pack up the application and deploy it:</p> <pre data-language=\"python\">$ fab pack deploy\n</pre> <p>Fabric will now connect to all servers and run the commands as written down in the fabfile. First it will execute pack so that we have our tarball ready and then it will execute deploy and upload the source code to all servers and install it there. Thanks to the <code>setup.py</code> file we will automatically pull in the required libraries into our virtual environment.</p>   <h2 id=\"next-steps\">Next Steps</h2> <p>From that point onwards there is so much that can be done to make deployment actually fun:</p> <ul class=\"simple\"> <li>Create a <code>bootstrap</code> command that initializes new servers. It could initialize a new virtual environment, setup apache appropriately etc.</li> <li>Put configuration files into a separate version control repository and symlink the active configs into place.</li> <li>You could also put your application code into a repository and check out the latest version on the server and then install. That way you can also easily go back to older versions.</li> <li>hook in testing functionality so that you can deploy to an external server and run the test suite.</li> </ul> <p>Working with Fabric is fun and you will notice that it’s quite magical to type <code>fab deploy</code> and see your application being deployed automatically to one or more remote servers.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/fabric/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/fabric/</a>\n  </p>\n</div>\n","patterns/jquery/index":"<h1>AJAX with jQuery</h1> <p><a class=\"reference external\" href=\"https://jquery.com/\">jQuery</a> is a small JavaScript library commonly used to simplify working with the DOM and JavaScript in general. It is the perfect tool to make web applications more dynamic by exchanging JSON between server and client.</p> <p>JSON itself is a very lightweight transport format, very similar to how Python primitives (numbers, strings, dicts and lists) look like which is widely supported and very easy to parse. It became popular a few years ago and quickly replaced XML as transport format in web applications.</p>  <h2 id=\"loading-jquery\">Loading jQuery</h2> <p>In order to use jQuery, you have to download it first and place it in the static folder of your application and then ensure it’s loaded. Ideally you have a layout template that is used for all pages where you just have to add a script statement to the bottom of your <code>&lt;body&gt;</code> to load jQuery:</p> <pre data-language=\"html\">&lt;script type=text/javascript src=\"{{\n  url_for('static', filename='jquery.js') }}\"&gt;&lt;/script&gt;\n</pre> <p>Another method is using Google’s <a class=\"reference external\" href=\"https://developers.google.com/speed/libraries/\">AJAX Libraries API</a> to load jQuery:</p> <pre data-language=\"html\">&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;window.jQuery || document.write('&lt;script src=\"{{\n  url_for('static', filename='jquery.js') }}\"&gt;\\x3C/script&gt;')&lt;/script&gt;\n</pre> <p>In this case you have to put jQuery into your static folder as a fallback, but it will first try to load it directly from Google. This has the advantage that your website will probably load faster for users if they went to at least one other website before using the same jQuery version from Google because it will already be in the browser cache.</p>   <h2 id=\"where-is-my-site\">Where is My Site?</h2> <p>Do you know where your application is? If you are developing the answer is quite simple: it’s on localhost port something and directly on the root of that server. But what if you later decide to move your application to a different location? For example to <code>http://example.com/myapp</code>? On the server side this never was a problem because we were using the handy <a class=\"reference internal\" href=\"../../api/index#flask.url_for\" title=\"flask.url_for\"><code>url_for()</code></a> function that could answer that question for us, but if we are using jQuery we should not hardcode the path to the application but make that dynamic, so how can we do that?</p> <p>A simple method would be to add a script tag to our page that sets a global variable to the prefix to the root of the application. Something like this:</p> <pre data-language=\"html+jinja\">&lt;script type=text/javascript&gt;\n  $SCRIPT_ROOT = {{ request.script_root|tojson }};\n&lt;/script&gt;\n</pre>   <h2 id=\"json-view-functions\">JSON View Functions</h2> <p>Now let’s create a server side function that accepts two URL arguments of numbers which should be added together and then sent back to the application in a JSON object. This is a really ridiculous example and is something you usually would do on the client side alone, but a simple example that shows how you would use jQuery and Flask nonetheless:</p> <pre data-language=\"python\">from flask import Flask, jsonify, render_template, request\napp = Flask(__name__)\n\n@app.route('/_add_numbers')\ndef add_numbers():\n    a = request.args.get('a', 0, type=int)\n    b = request.args.get('b', 0, type=int)\n    return jsonify(result=a + b)\n\n@app.route('/')\ndef index():\n    return render_template('index.html')\n</pre> <p>As you can see I also added an <code>index</code> method here that renders a template. This template will load jQuery as above and have a little form where we can add two numbers and a link to trigger the function on the server side.</p> <p>Note that we are using the <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.MultiDict.get\" title=\"(in Werkzeug v2.0.x)\"><code>get()</code></a> method here which will never fail. If the key is missing a default value (here <code>0</code>) is returned. Furthermore it can convert values to a specific type (like in our case <code>int</code>). This is especially handy for code that is triggered by a script (APIs, JavaScript etc.) because you don’t need special error reporting in that case.</p>   <h2 id=\"the-html\">The HTML</h2> <p>Your index.html template either has to extend a <code>layout.html</code> template with jQuery loaded and the <code>$SCRIPT_ROOT</code> variable set, or do that on the top. Here’s the HTML code needed for our little application (<code>index.html</code>). Notice that we also drop the script directly into the HTML here. It is usually a better idea to have that in a separate script file:</p> <pre data-language=\"html\">&lt;script type=text/javascript&gt;\n  $(function() {\n    $('a#calculate').bind('click', function() {\n      $.getJSON($SCRIPT_ROOT + '/_add_numbers', {\n        a: $('input[name=\"a\"]').val(),\n        b: $('input[name=\"b\"]').val()\n      }, function(data) {\n        $(\"#result\").text(data.result);\n      });\n      return false;\n    });\n  });\n&lt;/script&gt;\n&lt;h1&gt;jQuery Example&lt;/h1&gt;\n&lt;p&gt;&lt;input type=text size=5 name=a&gt; +\n   &lt;input type=text size=5 name=b&gt; =\n   &lt;span id=result&gt;?&lt;/span&gt;\n&lt;p&gt;&lt;a href=# id=calculate&gt;calculate server side&lt;/a&gt;\n</pre> <p>I won’t go into detail here about how jQuery works, just a very quick explanation of the little bit of code above:</p> <ol class=\"arabic simple\"> <li>\n<code>$(function() { ... })</code> specifies code that should run once the browser is done loading the basic parts of the page.</li> <li>\n<code>$('selector')</code> selects an element and lets you operate on it.</li> <li>\n<code>element.bind('event', func)</code> specifies a function that should run when the user clicked on the element. If that function returns <code>false</code>, the default behavior will not kick in (in this case, navigate to the <code>#</code> URL).</li> <li>\n<code>$.getJSON(url, data, func)</code> sends a <code>GET</code> request to <code>url</code> and will send the contents of the <code>data</code> object as query parameters. Once the data arrived, it will call the given function with the return value as argument. Note that we can use the <code>$SCRIPT_ROOT</code> variable here that we set earlier.</li> </ol> <p>Check out the <a class=\"reference external\" href=\"https://github.com/pallets/flask/tree/main/examples/javascript\">example source</a> for a full application demonstrating the code on this page, as well as the same thing using <code>XMLHttpRequest</code> and <code>fetch</code>.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/jquery/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/jquery/</a>\n  </p>\n</div>\n","patterns/sqlite3/index":"<h1>Using SQLite 3 with Flask</h1> <p>In Flask you can easily implement the opening of database connections on demand and closing them when the context dies (usually at the end of the request).</p> <p>Here is a simple example of how you can use SQLite 3 with Flask:</p> <pre data-language=\"python\">import sqlite3\nfrom flask import g\n\nDATABASE = '/path/to/database.db'\n\ndef get_db():\n    db = getattr(g, '_database', None)\n    if db is None:\n        db = g._database = sqlite3.connect(DATABASE)\n    return db\n\n@app.teardown_appcontext\ndef close_connection(exception):\n    db = getattr(g, '_database', None)\n    if db is not None:\n        db.close()\n</pre> <p>Now, to use the database, the application must either have an active application context (which is always true if there is a request in flight) or create an application context itself. At that point the <code>get_db</code> function can be used to get the current database connection. Whenever the context is destroyed the database connection will be terminated.</p> <p>Note: if you use Flask 0.9 or older you need to use <code>flask._app_ctx_stack.top</code> instead of <code>g</code> as the <a class=\"reference internal\" href=\"../../api/index#flask.g\" title=\"flask.g\"><code>flask.g</code></a> object was bound to the request and not application context.</p> <p>Example:</p> <pre data-language=\"python\">@app.route('/')\ndef index():\n    cur = get_db().cursor()\n    ...\n</pre> <div class=\"admonition note\"> <p class=\"admonition-title\">Note</p> <p>Please keep in mind that the teardown request and appcontext functions are always executed, even if a before-request handler failed or was never executed. Because of this we have to make sure here that the database is there before we close it.</p> </div>  <h2 id=\"connect-on-demand\">Connect on Demand</h2> <p>The upside of this approach (connecting on first use) is that this will only open the connection if truly necessary. If you want to use this code outside a request context you can use it in a Python shell by opening the application context by hand:</p> <pre data-language=\"python\">with app.app_context():\n    # now you can use get_db()\n</pre>   <h2 id=\"easy-querying\">Easy Querying</h2> <p>Now in each request handling function you can access <code>get_db()</code> to get the current open database connection. To simplify working with SQLite, a row factory function is useful. It is executed for every result returned from the database to convert the result. For instance, in order to get dictionaries instead of tuples, this could be inserted into the <code>get_db</code> function we created above:</p> <pre data-language=\"python\">def make_dicts(cursor, row):\n    return dict((cursor.description[idx][0], value)\n                for idx, value in enumerate(row))\n\ndb.row_factory = make_dicts\n</pre> <p>This will make the sqlite3 module return dicts for this database connection, which are much nicer to deal with. Even more simply, we could place this in <code>get_db</code> instead:</p> <pre data-language=\"python\">db.row_factory = sqlite3.Row\n</pre> <p>This would use Row objects rather than dicts to return the results of queries. These are <code>namedtuple</code> s, so we can access them either by index or by key. For example, assuming we have a <code>sqlite3.Row</code> called <code>r</code> for the rows <code>id</code>, <code>FirstName</code>, <code>LastName</code>, and <code>MiddleInitial</code>:</p> <pre data-language=\"python\">&gt;&gt;&gt; # You can get values based on the row's name\n&gt;&gt;&gt; r['FirstName']\nJohn\n&gt;&gt;&gt; # Or, you can get them based on index\n&gt;&gt;&gt; r[1]\nJohn\n# Row objects are also iterable:\n&gt;&gt;&gt; for value in r:\n...     print(value)\n1\nJohn\nDoe\nM\n</pre> <p>Additionally, it is a good idea to provide a query function that combines getting the cursor, executing and fetching the results:</p> <pre data-language=\"python\">def query_db(query, args=(), one=False):\n    cur = get_db().execute(query, args)\n    rv = cur.fetchall()\n    cur.close()\n    return (rv[0] if rv else None) if one else rv\n</pre> <p>This handy little function, in combination with a row factory, makes working with the database much more pleasant than it is by just using the raw cursor and connection objects.</p> <p>Here is how you can use it:</p> <pre data-language=\"python\">for user in query_db('select * from users'):\n    print user['username'], 'has the id', user['user_id']\n</pre> <p>Or if you just want a single result:</p> <pre data-language=\"python\">user = query_db('select * from users where username = ?',\n                [the_username], one=True)\nif user is None:\n    print 'No such user'\nelse:\n    print the_username, 'has the id', user['user_id']\n</pre> <p>To pass variable parts to the SQL statement, use a question mark in the statement and pass in the arguments as a list. Never directly add them to the SQL statement with string formatting because this makes it possible to attack the application using <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/SQL_injection\">SQL Injections</a>.</p>   <h2 id=\"initial-schemas\">Initial Schemas</h2> <p>Relational databases need schemas, so applications often ship a <code>schema.sql</code> file that creates the database. It’s a good idea to provide a function that creates the database based on that schema. This function can do that for you:</p> <pre data-language=\"python\">def init_db():\n    with app.app_context():\n        db = get_db()\n        with app.open_resource('schema.sql', mode='r') as f:\n            db.cursor().executescript(f.read())\n        db.commit()\n</pre> <p>You can then create such a database from the Python shell:</p> <pre data-language=\"python\">&gt;&gt;&gt; from yourapplication import init_db\n&gt;&gt;&gt; init_db()\n</pre><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/sqlite3/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/sqlite3/</a>\n  </p>\n</div>\n","patterns/fileuploads/index":"<h1>Uploading Files</h1> <p>Ah yes, the good old problem of file uploads. The basic idea of file uploads is actually quite simple. It basically works like this:</p> <ol class=\"arabic simple\"> <li>A <code>&lt;form&gt;</code> tag is marked with <code>enctype=multipart/form-data</code> and an <code>&lt;input type=file&gt;</code> is placed in that form.</li> <li>The application accesses the file from the <code>files</code> dictionary on the request object.</li> <li>use the <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/datastructures/#werkzeug.datastructures.FileStorage.save\" title=\"(in Werkzeug v2.0.x)\"><code>save()</code></a> method of the file to save the file permanently somewhere on the filesystem.</li> </ol>  <h2 id=\"a-gentle-introduction\">A Gentle Introduction</h2> <p>Let’s start with a very basic application that uploads a file to a specific upload folder and displays a file to the user. Let’s look at the bootstrapping code for our application:</p> <pre data-language=\"python\">import os\nfrom flask import Flask, flash, request, redirect, url_for\nfrom werkzeug.utils import secure_filename\n\nUPLOAD_FOLDER = '/path/to/the/uploads'\nALLOWED_EXTENSIONS = {'txt', 'pdf', 'png', 'jpg', 'jpeg', 'gif'}\n\napp = Flask(__name__)\napp.config['UPLOAD_FOLDER'] = UPLOAD_FOLDER\n</pre> <p>So first we need a couple of imports. Most should be straightforward, the <code>werkzeug.secure_filename()</code> is explained a little bit later. The <code>UPLOAD_FOLDER</code> is where we will store the uploaded files and the <code>ALLOWED_EXTENSIONS</code> is the set of allowed file extensions.</p> <p>Why do we limit the extensions that are allowed? You probably don’t want your users to be able to upload everything there if the server is directly sending out the data to the client. That way you can make sure that users are not able to upload HTML files that would cause XSS problems (see <a class=\"reference internal\" href=\"../../security/index#security-xss\"><span class=\"std std-ref\">Cross-Site Scripting (XSS)</span></a>). Also make sure to disallow <code>.php</code> files if the server executes them, but who has PHP installed on their server, right? :)</p> <p>Next the functions that check if an extension is valid and that uploads the file and redirects the user to the URL for the uploaded file:</p> <pre data-language=\"python\">def allowed_file(filename):\n    return '.' in filename and \\\n           filename.rsplit('.', 1)[1].lower() in ALLOWED_EXTENSIONS\n\n@app.route('/', methods=['GET', 'POST'])\ndef upload_file():\n    if request.method == 'POST':\n        # check if the post request has the file part\n        if 'file' not in request.files:\n            flash('No file part')\n            return redirect(request.url)\n        file = request.files['file']\n        # If the user does not select a file, the browser submits an\n        # empty file without a filename.\n        if file.filename == '':\n            flash('No selected file')\n            return redirect(request.url)\n        if file and allowed_file(file.filename):\n            filename = secure_filename(file.filename)\n            file.save(os.path.join(app.config['UPLOAD_FOLDER'], filename))\n            return redirect(url_for('download_file', name=filename))\n    return '''\n    &lt;!doctype html&gt;\n    &lt;title&gt;Upload new File&lt;/title&gt;\n    &lt;h1&gt;Upload new File&lt;/h1&gt;\n    &lt;form method=post enctype=multipart/form-data&gt;\n      &lt;input type=file name=file&gt;\n      &lt;input type=submit value=Upload&gt;\n    &lt;/form&gt;\n    '''\n</pre> <p>So what does that <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/utils/#werkzeug.utils.secure_filename\" title=\"(in Werkzeug v2.0.x)\"><code>secure_filename()</code></a> function actually do? Now the problem is that there is that principle called “never trust user input”. This is also true for the filename of an uploaded file. All submitted form data can be forged, and filenames can be dangerous. For the moment just remember: always use that function to secure a filename before storing it directly on the filesystem.</p> <div class=\"admonition-information-for-the-pros admonition\"> <p class=\"admonition-title\">Information for the Pros</p> <p>So you’re interested in what that <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/utils/#werkzeug.utils.secure_filename\" title=\"(in Werkzeug v2.0.x)\"><code>secure_filename()</code></a> function does and what the problem is if you’re not using it? So just imagine someone would send the following information as <code>filename</code> to your application:</p> <pre data-language=\"python\">filename = \"../../../../home/username/.bashrc\"\n</pre> <p>Assuming the number of <code>../</code> is correct and you would join this with the <code>UPLOAD_FOLDER</code> the user might have the ability to modify a file on the server’s filesystem he or she should not modify. This does require some knowledge about how the application looks like, but trust me, hackers are patient :)</p> <p>Now let’s look how that function works:</p> <pre data-language=\"python\">&gt;&gt;&gt; secure_filename('../../../../home/username/.bashrc')\n'home_username_.bashrc'\n</pre> </div> <p>We want to be able to serve the uploaded files so they can be downloaded by users. We’ll define a <code>download_file</code> view to serve files in the upload folder by name. <code>url_for(\"download_file\", name=name)</code> generates download URLs.</p> <pre data-language=\"python\">from flask import send_from_directory\n\n@app.route('/uploads/&lt;name&gt;')\ndef download_file(name):\n    return send_from_directory(app.config[\"UPLOAD_FOLDER\"], name)\n</pre> <p>If you’re using middleware or the HTTP server to serve files, you can register the <code>download_file</code> endpoint as <code>build_only</code> so <code>url_for</code> will work without a view function.</p> <pre data-language=\"python\">app.add_url_rule(\n    \"/uploads/&lt;name&gt;\", endpoint=\"download_file\", build_only=True\n)\n</pre>   <h2 id=\"improving-uploads\">Improving Uploads</h2> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.6.</span></p> </div> </details><p>So how exactly does Flask handle uploads? Well it will store them in the webserver’s memory if the files are reasonably small, otherwise in a temporary location (as returned by <a class=\"reference external\" href=\"https://docs.python.org/3/library/tempfile.html#tempfile.gettempdir\" title=\"(in Python v3.9)\"><code>tempfile.gettempdir()</code></a>). But how do you specify the maximum file size after which an upload is aborted? By default Flask will happily accept file uploads with an unlimited amount of memory, but you can limit that by setting the <code>MAX_CONTENT_LENGTH</code> config key:</p> <pre data-language=\"python\">from flask import Flask, Request\n\napp = Flask(__name__)\napp.config['MAX_CONTENT_LENGTH'] = 16 * 1000 * 1000\n</pre> <p>The code above will limit the maximum allowed payload to 16 megabytes. If a larger file is transmitted, Flask will raise a <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/exceptions/#werkzeug.exceptions.RequestEntityTooLarge\" title=\"(in Werkzeug v2.0.x)\"><code>RequestEntityTooLarge</code></a> exception.</p> <div class=\"admonition-connection-reset-issue admonition\"> <p class=\"admonition-title\">Connection Reset Issue</p> <p>When using the local development server, you may get a connection reset error instead of a 413 response. You will get the correct status response when running the app with a production WSGI server.</p> </div> <p>This feature was added in Flask 0.6 but can be achieved in older versions as well by subclassing the request object. For more information on that consult the Werkzeug documentation on file handling.</p>   <h2 id=\"upload-progress-bars\">Upload Progress Bars</h2> <p>A while ago many developers had the idea to read the incoming file in small chunks and store the upload progress in the database to be able to poll the progress with JavaScript from the client. The client asks the server every 5 seconds how much it has transmitted, but this is something it should already know.</p>   <h2 id=\"an-easier-solution\">An Easier Solution</h2> <p>Now there are better solutions that work faster and are more reliable. There are JavaScript libraries like <a class=\"reference external\" href=\"https://jquery.com/\">jQuery</a> that have form plugins to ease the construction of progress bar.</p> <p>Because the common pattern for file uploads exists almost unchanged in all applications dealing with uploads, there is also a Flask extension called <a class=\"reference external\" href=\"https://flask-uploads.readthedocs.io/en/latest/\">Flask-Uploads</a> that implements a full fledged upload mechanism that allows controlling which file extensions are allowed to be uploaded.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/fileuploads/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/fileuploads/</a>\n  </p>\n</div>\n","patterns/distribute/index":"<h1>Deploying with Setuptools</h1> <p><a class=\"reference external\" href=\"https://pypi.org/project/setuptools/\">Setuptools</a>, is an extension library that is commonly used to distribute Python libraries and extensions. It extends distutils, a basic module installation system shipped with Python to also support various more complex constructs that make larger applications easier to distribute:</p> <ul class=\"simple\"> <li>\n<strong>support for dependencies</strong>: a library or application can declare a list of other libraries it depends on which will be installed automatically for you.</li> <li>\n<strong>package registry</strong>: setuptools registers your package with your Python installation. This makes it possible to query information provided by one package from another package. The best known feature of this system is the entry point support which allows one package to declare an “entry point” that another package can hook into to extend the other package.</li> <li>\n<strong>installation manager</strong>: <strong class=\"command\">pip</strong> can install other libraries for you.</li> </ul> <p>Flask itself, and all the libraries you can find on PyPI are distributed with either setuptools or distutils.</p> <p>In this case we assume your application is called <code>yourapplication.py</code> and you are not using a module, but a package. If you have not yet converted your application into a package, head over to <a class=\"reference internal\" href=\"../packages/index\"><span class=\"doc\">Large Applications as Packages</span></a> to see how this can be done.</p> <p>A working deployment with setuptools is the first step into more complex and more automated deployment scenarios. If you want to fully automate the process, also read the <a class=\"reference internal\" href=\"../fabric/index\"><span class=\"doc\">Deploying with Fabric</span></a> chapter.</p>  <h2 id=\"basic-setup-script\">Basic Setup Script</h2> <p>Because you have Flask installed, you have setuptools available on your system. Flask already depends upon setuptools.</p> <p>Standard disclaimer applies: <a class=\"reference internal\" href=\"../../installation/index#install-create-env\"><span class=\"std std-ref\">use a virtualenv</span></a>.</p> <p>Your setup code always goes into a file named <code>setup.py</code> next to your application. The name of the file is only convention, but because everybody will look for a file with that name, you better not change it.</p> <p>A basic <code>setup.py</code> file for a Flask application looks like this:</p> <pre data-language=\"python\">from setuptools import setup\n\nsetup(\n    name='Your Application',\n    version='1.0',\n    long_description=__doc__,\n    packages=['yourapplication'],\n    include_package_data=True,\n    zip_safe=False,\n    install_requires=['Flask']\n)\n</pre> <p>Please keep in mind that you have to list subpackages explicitly. If you want setuptools to lookup the packages for you automatically, you can use the <code>find_packages</code> function:</p> <pre data-language=\"python\">from setuptools import setup, find_packages\n\nsetup(\n    ...\n    packages=find_packages()\n)\n</pre> <p>Most parameters to the <code>setup</code> function should be self explanatory, <code>include_package_data</code> and <code>zip_safe</code> might not be. <code>include_package_data</code> tells setuptools to look for a <code>MANIFEST.in</code> file and install all the entries that match as package data. We will use this to distribute the static files and templates along with the Python module (see <a class=\"reference internal\" href=\"#distributing-resources\"><span class=\"std std-ref\">Distributing Resources</span></a>). The <code>zip_safe</code> flag can be used to force or prevent zip Archive creation. In general you probably don’t want your packages to be installed as zip files because some tools do not support them and they make debugging a lot harder.</p>   <h2 id=\"tagging-builds\">Tagging Builds</h2> <p>It is useful to distinguish between release and development builds. Add a <code>setup.cfg</code> file to configure these options.</p> <pre data-language=\"python\">[egg_info]\ntag_build = .dev\ntag_date = 1\n\n[aliases]\nrelease = egg_info -Db ''\n</pre> <p>Running <code>python setup.py sdist</code> will create a development package with “.dev” and the current date appended: <code>flaskr-1.0.dev20160314.tar.gz</code>. Running <code>python setup.py release sdist</code> will create a release package with only the version: <code>flaskr-1.0.tar.gz</code>.</p>   <h2 id=\"id1\">Distributing Resources</h2> <p id=\"distributing-resources\">If you try to install the package you just created, you will notice that folders like <code>static</code> or <code>templates</code> are not installed for you. The reason for this is that setuptools does not know which files to add for you. What you should do, is to create a <code>MANIFEST.in</code> file next to your <code>setup.py</code> file. This file lists all the files that should be added to your tarball:</p> <pre data-language=\"python\">recursive-include yourapplication/templates *\nrecursive-include yourapplication/static *\n</pre> <p>Don’t forget that even if you enlist them in your <code>MANIFEST.in</code> file, they won’t be installed for you unless you set the <code>include_package_data</code> parameter of the <code>setup</code> function to <code>True</code>!</p>   <h2 id=\"declaring-dependencies\">Declaring Dependencies</h2> <p>Dependencies are declared in the <code>install_requires</code> parameter as a list. Each item in that list is the name of a package that should be pulled from PyPI on installation. By default it will always use the most recent version, but you can also provide minimum and maximum version requirements. Here some examples:</p> <pre data-language=\"python\">install_requires=[\n    'Flask&gt;=0.2',\n    'SQLAlchemy&gt;=0.6',\n    'BrokenPackage&gt;=0.7,&lt;=1.0'\n]\n</pre> <p>As mentioned earlier, dependencies are pulled from PyPI. What if you want to depend on a package that cannot be found on PyPI and won’t be because it is an internal package you don’t want to share with anyone? Just do it as if there was a PyPI entry and provide a list of alternative locations where setuptools should look for tarballs:</p> <pre data-language=\"python\">dependency_links=['http://example.com/yourfiles']\n</pre> <p>Make sure that page has a directory listing and the links on the page are pointing to the actual tarballs with their correct filenames as this is how setuptools will find the files. If you have an internal company server that contains the packages, provide the URL to that server.</p>   <h2 id=\"installing-developing\">Installing / Developing</h2> <p>To install your application (ideally into a virtualenv) just run the <code>setup.py</code> script with the <code>install</code> parameter. It will install your application into the virtualenv’s site-packages folder and also download and install all dependencies:</p> <pre data-language=\"python\">$ python setup.py install\n</pre> <p>If you are developing on the package and also want the requirements to be installed, you can use the <code>develop</code> command instead:</p> <pre data-language=\"python\">$ python setup.py develop\n</pre> <p>This has the advantage of just installing a link to the site-packages folder instead of copying the data over. You can then continue to work on the code without having to run <code>install</code> again after each change.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/distribute/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/distribute/</a>\n  </p>\n</div>\n","patterns/caching/index":"<h1>Caching</h1> <p>When your application runs slow, throw some caches in. Well, at least it’s the easiest way to speed up things. What does a cache do? Say you have a function that takes some time to complete but the results would still be good enough if they were 5 minutes old. So then the idea is that you actually put the result of that calculation into a cache for some time.</p> <p>Flask itself does not provide caching for you, but <a class=\"reference external\" href=\"https://flask-caching.readthedocs.io/en/latest/\">Flask-Caching</a>, an extension for Flask does. Flask-Caching supports various backends, and it is even possible to develop your own caching backend.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/caching/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/caching/</a>\n  </p>\n</div>\n","patterns/viewdecorators/index":"<h1>View Decorators</h1> <p>Python has a really interesting feature called function decorators. This allows some really neat things for web applications. Because each view in Flask is a function, decorators can be used to inject additional functionality to one or more functions. The <a class=\"reference internal\" href=\"../../api/index#flask.Flask.route\" title=\"flask.Flask.route\"><code>route()</code></a> decorator is the one you probably used already. But there are use cases for implementing your own decorator. For instance, imagine you have a view that should only be used by people that are logged in. If a user goes to the site and is not logged in, they should be redirected to the login page. This is a good example of a use case where a decorator is an excellent solution.</p>  <h2 id=\"login-required-decorator\">Login Required Decorator</h2> <p>So let’s implement such a decorator. A decorator is a function that wraps and replaces another function. Since the original function is replaced, you need to remember to copy the original function’s information to the new function. Use <a class=\"reference external\" href=\"https://docs.python.org/3/library/functools.html#functools.wraps\" title=\"(in Python v3.9)\"><code>functools.wraps()</code></a> to handle this for you.</p> <p>This example assumes that the login page is called <code>'login'</code> and that the current user is stored in <code>g.user</code> and is <code>None</code> if there is no-one logged in.</p> <pre data-language=\"python\">from functools import wraps\nfrom flask import g, request, redirect, url_for\n\ndef login_required(f):\n    @wraps(f)\n    def decorated_function(*args, **kwargs):\n        if g.user is None:\n            return redirect(url_for('login', next=request.url))\n        return f(*args, **kwargs)\n    return decorated_function\n</pre> <p>To use the decorator, apply it as innermost decorator to a view function. When applying further decorators, always remember that the <a class=\"reference internal\" href=\"../../api/index#flask.Flask.route\" title=\"flask.Flask.route\"><code>route()</code></a> decorator is the outermost.</p> <pre data-language=\"python\">@app.route('/secret_page')\n@login_required\ndef secret_page():\n    pass\n</pre> <div class=\"admonition note\"> <p class=\"admonition-title\">Note</p> <p>The <code>next</code> value will exist in <code>request.args</code> after a <code>GET</code> request for the login page. You’ll have to pass it along when sending the <code>POST</code> request from the login form. You can do this with a hidden input tag, then retrieve it from <code>request.form</code> when logging the user in.</p> <pre data-language=\"python\">&lt;input type=\"hidden\" value=\"{{ request.args.get('next', '') }}\"/&gt;\n</pre> </div>   <h2 id=\"caching-decorator\">Caching Decorator</h2> <p>Imagine you have a view function that does an expensive calculation and because of that you would like to cache the generated results for a certain amount of time. A decorator would be nice for that. We’re assuming you have set up a cache like mentioned in <a class=\"reference internal\" href=\"../caching/index\"><span class=\"doc\">Caching</span></a>.</p> <p>Here is an example cache function. It generates the cache key from a specific prefix (actually a format string) and the current path of the request. Notice that we are using a function that first creates the decorator that then decorates the function. Sounds awful? Unfortunately it is a little bit more complex, but the code should still be straightforward to read.</p> <p>The decorated function will then work as follows</p> <ol class=\"arabic simple\"> <li>get the unique cache key for the current request based on the current path.</li> <li>get the value for that key from the cache. If the cache returned something we will return that value.</li> <li>otherwise the original function is called and the return value is stored in the cache for the timeout provided (by default 5 minutes).</li> </ol> <p>Here the code:</p> <pre data-language=\"python\">from functools import wraps\nfrom flask import request\n\ndef cached(timeout=5 * 60, key='view/{}'):\n    def decorator(f):\n        @wraps(f)\n        def decorated_function(*args, **kwargs):\n            cache_key = key.format(request.path)\n            rv = cache.get(cache_key)\n            if rv is not None:\n                return rv\n            rv = f(*args, **kwargs)\n            cache.set(cache_key, rv, timeout=timeout)\n            return rv\n        return decorated_function\n    return decorator\n</pre> <p>Notice that this assumes an instantiated <code>cache</code> object is available, see <a class=\"reference internal\" href=\"../caching/index\"><span class=\"doc\">Caching</span></a>.</p>   <h2 id=\"templating-decorator\">Templating Decorator</h2> <p>A common pattern invented by the TurboGears guys a while back is a templating decorator. The idea of that decorator is that you return a dictionary with the values passed to the template from the view function and the template is automatically rendered. With that, the following three examples do exactly the same:</p> <pre data-language=\"python\">@app.route('/')\ndef index():\n    return render_template('index.html', value=42)\n\n@app.route('/')\n@templated('index.html')\ndef index():\n    return dict(value=42)\n\n@app.route('/')\n@templated()\ndef index():\n    return dict(value=42)\n</pre> <p>As you can see, if no template name is provided it will use the endpoint of the URL map with dots converted to slashes + <code>'.html'</code>. Otherwise the provided template name is used. When the decorated function returns, the dictionary returned is passed to the template rendering function. If <code>None</code> is returned, an empty dictionary is assumed, if something else than a dictionary is returned we return it from the function unchanged. That way you can still use the redirect function or return simple strings.</p> <p>Here is the code for that decorator:</p> <pre data-language=\"python\">from functools import wraps\nfrom flask import request, render_template\n\ndef templated(template=None):\n    def decorator(f):\n        @wraps(f)\n        def decorated_function(*args, **kwargs):\n            template_name = template\n            if template_name is None:\n                template_name = f\"'{request.endpoint.replace('.', '/')}.html'\"\n            ctx = f(*args, **kwargs)\n            if ctx is None:\n                ctx = {}\n            elif not isinstance(ctx, dict):\n                return ctx\n            return render_template(template_name, **ctx)\n        return decorated_function\n    return decorator\n</pre>   <h2 id=\"endpoint-decorator\">Endpoint Decorator</h2> <p>When you want to use the werkzeug routing system for more flexibility you need to map the endpoint as defined in the <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/routing/#werkzeug.routing.Rule\" title=\"(in Werkzeug v2.0.x)\"><code>Rule</code></a> to a view function. This is possible with this decorator. For example:</p> <pre data-language=\"python\">from flask import Flask\nfrom werkzeug.routing import Rule\n\napp = Flask(__name__)\napp.url_map.add(Rule('/', endpoint='index'))\n\n@app.endpoint('index')\ndef my_index():\n    return \"Hello world\"\n</pre><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/viewdecorators/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/viewdecorators/</a>\n  </p>\n</div>\n","patterns/wtforms/index":"<h1>Form Validation with WTForms</h1> <p>When you have to work with form data submitted by a browser view, code quickly becomes very hard to read. There are libraries out there designed to make this process easier to manage. One of them is <a class=\"reference external\" href=\"https://wtforms.readthedocs.io/\">WTForms</a> which we will handle here. If you find yourself in the situation of having many forms, you might want to give it a try.</p> <p>When you are working with WTForms you have to define your forms as classes first. I recommend breaking up the application into multiple modules (<a class=\"reference internal\" href=\"../packages/index\"><span class=\"doc\">Large Applications as Packages</span></a>) for that and adding a separate module for the forms.</p> <div class=\"admonition-getting-the-most-out-of-wtforms-with-an-extension admonition\"> <p class=\"admonition-title\">Getting the most out of WTForms with an Extension</p> <p>The <a class=\"reference external\" href=\"https://flask-wtf.readthedocs.io/en/stable/\">Flask-WTF</a> extension expands on this pattern and adds a few little helpers that make working with forms and Flask more fun. You can get it from <a class=\"reference external\" href=\"https://pypi.org/project/Flask-WTF/\">PyPI</a>.</p> </div>  <h2 id=\"the-forms\">The Forms</h2> <p>This is an example form for a typical registration page:</p> <pre data-language=\"python\">from wtforms import Form, BooleanField, StringField, PasswordField, validators\n\nclass RegistrationForm(Form):\n    username = StringField('Username', [validators.Length(min=4, max=25)])\n    email = StringField('Email Address', [validators.Length(min=6, max=35)])\n    password = PasswordField('New Password', [\n        validators.DataRequired(),\n        validators.EqualTo('confirm', message='Passwords must match')\n    ])\n    confirm = PasswordField('Repeat Password')\n    accept_tos = BooleanField('I accept the TOS', [validators.DataRequired()])\n</pre>   <h2 id=\"in-the-view\">In the View</h2> <p>In the view function, the usage of this form looks like this:</p> <pre data-language=\"python\">@app.route('/register', methods=['GET', 'POST'])\ndef register():\n    form = RegistrationForm(request.form)\n    if request.method == 'POST' and form.validate():\n        user = User(form.username.data, form.email.data,\n                    form.password.data)\n        db_session.add(user)\n        flash('Thanks for registering')\n        return redirect(url_for('login'))\n    return render_template('register.html', form=form)\n</pre> <p>Notice we’re implying that the view is using SQLAlchemy here (<a class=\"reference internal\" href=\"../sqlalchemy/index\"><span class=\"doc\">SQLAlchemy in Flask</span></a>), but that’s not a requirement, of course. Adapt the code as necessary.</p> <p>Things to remember:</p> <ol class=\"arabic simple\"> <li>create the form from the request <code>form</code> value if the data is submitted via the HTTP <code>POST</code> method and <code>args</code> if the data is submitted as <code>GET</code>.</li> <li>to validate the data, call the <code>validate()</code> method, which will return <code>True</code> if the data validates, <code>False</code> otherwise.</li> <li>to access individual values from the form, access <code>form.&lt;NAME&gt;.data</code>.</li> </ol>   <h2 id=\"forms-in-templates\">Forms in Templates</h2> <p>Now to the template side. When you pass the form to the templates, you can easily render them there. Look at the following example template to see how easy this is. WTForms does half the form generation for us already. To make it even nicer, we can write a macro that renders a field with label and a list of errors if there are any.</p> <p>Here’s an example <code>_formhelpers.html</code> template with such a macro:</p> <pre data-language=\"html+jinja\">{% macro render_field(field) %}\n  &lt;dt&gt;{{ field.label }}\n  &lt;dd&gt;{{ field(**kwargs)|safe }}\n  {% if field.errors %}\n    &lt;ul class=errors&gt;\n    {% for error in field.errors %}\n      &lt;li&gt;{{ error }}&lt;/li&gt;\n    {% endfor %}\n    &lt;/ul&gt;\n  {% endif %}\n  &lt;/dd&gt;\n{% endmacro %}\n</pre> <p>This macro accepts a couple of keyword arguments that are forwarded to WTForm’s field function, which renders the field for us. The keyword arguments will be inserted as HTML attributes. So, for example, you can call <code>render_field(form.username, class='username')</code> to add a class to the input element. Note that WTForms returns standard Python strings, so we have to tell Jinja2 that this data is already HTML-escaped with the <code>|safe</code> filter.</p> <p>Here is the <code>register.html</code> template for the function we used above, which takes advantage of the <code>_formhelpers.html</code> template:</p> <pre data-language=\"html+jinja\">{% from \"_formhelpers.html\" import render_field %}\n&lt;form method=post&gt;\n  &lt;dl&gt;\n    {{ render_field(form.username) }}\n    {{ render_field(form.email) }}\n    {{ render_field(form.password) }}\n    {{ render_field(form.confirm) }}\n    {{ render_field(form.accept_tos) }}\n  &lt;/dl&gt;\n  &lt;p&gt;&lt;input type=submit value=Register&gt;\n&lt;/form&gt;\n</pre> <p>For more information about WTForms, head over to the <a class=\"reference external\" href=\"https://wtforms.readthedocs.io/\">WTForms website</a>.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/wtforms/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/wtforms/</a>\n  </p>\n</div>\n","patterns/templateinheritance/index":"<h1>Template Inheritance</h1> <p>The most powerful part of Jinja is template inheritance. Template inheritance allows you to build a base “skeleton” template that contains all the common elements of your site and defines <strong>blocks</strong> that child templates can override.</p> <p>Sounds complicated but is very basic. It’s easiest to understand it by starting with an example.</p>  <h2 id=\"base-template\">Base Template</h2> <p>This template, which we’ll call <code>layout.html</code>, defines a simple HTML skeleton document that you might use for a simple two-column page. It’s the job of “child” templates to fill the empty blocks with content:</p> <pre data-language=\"html+jinja\">&lt;!doctype html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    {% block head %}\n    &lt;link rel=\"stylesheet\" href=\"{{ url_for('static', filename='style.css') }}\"&gt;\n    &lt;title&gt;{% block title %}{% endblock %} - My Webpage&lt;/title&gt;\n    {% endblock %}\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div id=\"content\"&gt;{% block content %}{% endblock %}&lt;/div&gt;\n    &lt;div id=\"footer\"&gt;\n      {% block footer %}\n      &amp;copy; Copyright 2010 by &lt;a href=\"http://domain.invalid/\"&gt;you&lt;/a&gt;.\n      {% endblock %}\n    &lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</pre> <p>In this example, the <code>{% block %}</code> tags define four blocks that child templates can fill in. All the <code>block</code> tag does is tell the template engine that a child template may override those portions of the template.</p>   <h2 id=\"child-template\">Child Template</h2> <p>A child template might look like this:</p> <pre data-language=\"html+jinja\">{% extends \"layout.html\" %}\n{% block title %}Index{% endblock %}\n{% block head %}\n  {{ super() }}\n  &lt;style type=\"text/css\"&gt;\n    .important { color: #336699; }\n  &lt;/style&gt;\n{% endblock %}\n{% block content %}\n  &lt;h1&gt;Index&lt;/h1&gt;\n  &lt;p class=\"important\"&gt;\n    Welcome on my awesome homepage.\n{% endblock %}\n</pre> <p>The <code>{% extends %}</code> tag is the key here. It tells the template engine that this template “extends” another template. When the template system evaluates this template, first it locates the parent. The extends tag must be the first tag in the template. To render the contents of a block defined in the parent template, use <code>{{ super() }}</code>.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/templateinheritance/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/templateinheritance/</a>\n  </p>\n</div>\n","patterns/flashing/index":"<h1>Message Flashing</h1> <p>Good applications and user interfaces are all about feedback. If the user does not get enough feedback they will probably end up hating the application. Flask provides a really simple way to give feedback to a user with the flashing system. The flashing system basically makes it possible to record a message at the end of a request and access it next request and only next request. This is usually combined with a layout template that does this. Note that browsers and sometimes web servers enforce a limit on cookie sizes. This means that flashing messages that are too large for session cookies causes message flashing to fail silently.</p>  <h2 id=\"simple-flashing\">Simple Flashing</h2> <p>So here is a full example:</p> <pre data-language=\"python\">from flask import Flask, flash, redirect, render_template, \\\n     request, url_for\n\napp = Flask(__name__)\napp.secret_key = b'_5#y2L\"F4Q8z\\n\\xec]/'\n\n@app.route('/')\ndef index():\n    return render_template('index.html')\n\n@app.route('/login', methods=['GET', 'POST'])\ndef login():\n    error = None\n    if request.method == 'POST':\n        if request.form['username'] != 'admin' or \\\n                request.form['password'] != 'secret':\n            error = 'Invalid credentials'\n        else:\n            flash('You were successfully logged in')\n            return redirect(url_for('index'))\n    return render_template('login.html', error=error)\n</pre> <p>And here is the <code>layout.html</code> template which does the magic:</p> <pre data-language=\"html+jinja\">&lt;!doctype html&gt;\n&lt;title&gt;My Application&lt;/title&gt;\n{% with messages = get_flashed_messages() %}\n  {% if messages %}\n    &lt;ul class=flashes&gt;\n    {% for message in messages %}\n      &lt;li&gt;{{ message }}&lt;/li&gt;\n    {% endfor %}\n    &lt;/ul&gt;\n  {% endif %}\n{% endwith %}\n{% block body %}{% endblock %}\n</pre> <p>Here is the <code>index.html</code> template which inherits from <code>layout.html</code>:</p> <pre data-language=\"html+jinja\">{% extends \"layout.html\" %}\n{% block body %}\n  &lt;h1&gt;Overview&lt;/h1&gt;\n  &lt;p&gt;Do you want to &lt;a href=\"{{ url_for('login') }}\"&gt;log in?&lt;/a&gt;\n{% endblock %}\n</pre> <p>And here is the <code>login.html</code> template which also inherits from <code>layout.html</code>:</p> <pre data-language=\"html+jinja\">{% extends \"layout.html\" %}\n{% block body %}\n  &lt;h1&gt;Login&lt;/h1&gt;\n  {% if error %}\n    &lt;p class=error&gt;&lt;strong&gt;Error:&lt;/strong&gt; {{ error }}\n  {% endif %}\n  &lt;form method=post&gt;\n    &lt;dl&gt;\n      &lt;dt&gt;Username:\n      &lt;dd&gt;&lt;input type=text name=username value=\"{{\n          request.form.username }}\"&gt;\n      &lt;dt&gt;Password:\n      &lt;dd&gt;&lt;input type=password name=password&gt;\n    &lt;/dl&gt;\n    &lt;p&gt;&lt;input type=submit value=Login&gt;\n  &lt;/form&gt;\n{% endblock %}\n</pre>   <h2 id=\"flashing-with-categories\">Flashing With Categories</h2> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.3.</span></p> </div> </details><p>It is also possible to provide categories when flashing a message. The default category if nothing is provided is <code>'message'</code>. Alternative categories can be used to give the user better feedback. For example error messages could be displayed with a red background.</p> <p>To flash a message with a different category, just use the second argument to the <a class=\"reference internal\" href=\"../../api/index#flask.flash\" title=\"flask.flash\"><code>flash()</code></a> function:</p> <pre data-language=\"python\">flash('Invalid password provided', 'error')\n</pre> <p>Inside the template you then have to tell the <a class=\"reference internal\" href=\"../../api/index#flask.get_flashed_messages\" title=\"flask.get_flashed_messages\"><code>get_flashed_messages()</code></a> function to also return the categories. The loop looks slightly different in that situation then:</p> <pre data-language=\"html+jinja\">{% with messages = get_flashed_messages(with_categories=true) %}\n  {% if messages %}\n    &lt;ul class=flashes&gt;\n    {% for category, message in messages %}\n      &lt;li class=\"{{ category }}\"&gt;{{ message }}&lt;/li&gt;\n    {% endfor %}\n    &lt;/ul&gt;\n  {% endif %}\n{% endwith %}\n</pre> <p>This is just one example of how to render these flashed messages. One might also use the category to add a prefix such as <code>&lt;strong&gt;Error:&lt;/strong&gt;</code> to the message.</p>   <h2 id=\"filtering-flash-messages\">Filtering Flash Messages</h2> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9.</span></p> </div> </details><p>Optionally you can pass a list of categories which filters the results of <a class=\"reference internal\" href=\"../../api/index#flask.get_flashed_messages\" title=\"flask.get_flashed_messages\"><code>get_flashed_messages()</code></a>. This is useful if you wish to render each category in a separate block.</p> <pre data-language=\"html+jinja\">{% with errors = get_flashed_messages(category_filter=[\"error\"]) %}\n{% if errors %}\n&lt;div class=\"alert-message block-message error\"&gt;\n  &lt;a class=\"close\" href=\"#\"&gt;×&lt;/a&gt;\n  &lt;ul&gt;\n    {%- for msg in errors %}\n    &lt;li&gt;{{ msg }}&lt;/li&gt;\n    {% endfor -%}\n  &lt;/ul&gt;\n&lt;/div&gt;\n{% endif %}\n{% endwith %}\n</pre><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/flashing/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/flashing/</a>\n  </p>\n</div>\n","patterns/lazyloading/index":"<h1>Lazily Loading Views</h1> <p>Flask is usually used with the decorators. Decorators are simple and you have the URL right next to the function that is called for that specific URL. However there is a downside to this approach: it means all your code that uses decorators has to be imported upfront or Flask will never actually find your function.</p> <p>This can be a problem if your application has to import quick. It might have to do that on systems like Google’s App Engine or other systems. So if you suddenly notice that your application outgrows this approach you can fall back to a centralized URL mapping.</p> <p>The system that enables having a central URL map is the <a class=\"reference internal\" href=\"../../api/index#flask.Flask.add_url_rule\" title=\"flask.Flask.add_url_rule\"><code>add_url_rule()</code></a> function. Instead of using decorators, you have a file that sets up the application with all URLs.</p>  <h2 id=\"converting-to-centralized-url-map\">Converting to Centralized URL Map</h2> <p>Imagine the current application looks somewhat like this:</p> <pre data-language=\"python\">from flask import Flask\napp = Flask(__name__)\n\n@app.route('/')\ndef index():\n    pass\n\n@app.route('/user/&lt;username&gt;')\ndef user(username):\n    pass\n</pre> <p>Then, with the centralized approach you would have one file with the views (<code>views.py</code>) but without any decorator:</p> <pre data-language=\"python\">def index():\n    pass\n\ndef user(username):\n    pass\n</pre> <p>And then a file that sets up an application which maps the functions to URLs:</p> <pre data-language=\"python\">from flask import Flask\nfrom yourapplication import views\napp = Flask(__name__)\napp.add_url_rule('/', view_func=views.index)\napp.add_url_rule('/user/&lt;username&gt;', view_func=views.user)\n</pre>   <h2 id=\"loading-late\">Loading Late</h2> <p>So far we only split up the views and the routing, but the module is still loaded upfront. The trick is to actually load the view function as needed. This can be accomplished with a helper class that behaves just like a function but internally imports the real function on first use:</p> <pre data-language=\"python\">from werkzeug.utils import import_string, cached_property\n\nclass LazyView(object):\n\n    def __init__(self, import_name):\n        self.__module__, self.__name__ = import_name.rsplit('.', 1)\n        self.import_name = import_name\n\n    @cached_property\n    def view(self):\n        return import_string(self.import_name)\n\n    def __call__(self, *args, **kwargs):\n        return self.view(*args, **kwargs)\n</pre> <p>What’s important here is is that <code>__module__</code> and <code>__name__</code> are properly set. This is used by Flask internally to figure out how to name the URL rules in case you don’t provide a name for the rule yourself.</p> <p>Then you can define your central place to combine the views like this:</p> <pre data-language=\"python\">from flask import Flask\nfrom yourapplication.helpers import LazyView\napp = Flask(__name__)\napp.add_url_rule('/',\n                 view_func=LazyView('yourapplication.views.index'))\napp.add_url_rule('/user/&lt;username&gt;',\n                 view_func=LazyView('yourapplication.views.user'))\n</pre> <p>You can further optimize this in terms of amount of keystrokes needed to write this by having a function that calls into <a class=\"reference internal\" href=\"../../api/index#flask.Flask.add_url_rule\" title=\"flask.Flask.add_url_rule\"><code>add_url_rule()</code></a> by prefixing a string with the project name and a dot, and by wrapping <code>view_func</code> in a <code>LazyView</code> as needed.</p> <pre data-language=\"python\">def url(import_name, url_rules=[], **options):\n    view = LazyView(f\"yourapplication.{import_name}\")\n    for url_rule in url_rules:\n        app.add_url_rule(url_rule, view_func=view, **options)\n\n# add a single route to the index view\nurl('views.index', ['/'])\n\n# add two routes to a single function endpoint\nurl_rules = ['/user/','/user/&lt;username&gt;']\nurl('views.user', url_rules)\n</pre> <p>One thing to keep in mind is that before and after request handlers have to be in a file that is imported upfront to work properly on the first request. The same goes for any kind of remaining decorator.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/lazyloading/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/lazyloading/</a>\n  </p>\n</div>\n","patterns/mongoengine/index":"<h1>MongoDB with MongoEngine</h1> <p>Using a document database like MongoDB is a common alternative to relational SQL databases. This pattern shows how to use <a class=\"reference external\" href=\"http://mongoengine.org\">MongoEngine</a>, a document mapper library, to integrate with MongoDB.</p> <p>A running MongoDB server and <a class=\"reference external\" href=\"https://flask-mongoengine.readthedocs.io\">Flask-MongoEngine</a> are required.</p> <pre data-language=\"python\">pip install flask-mongoengine\n</pre>  <h2 id=\"configuration\">Configuration</h2> <p>Basic setup can be done by defining <code>MONGODB_SETTINGS</code> on <code>app.config</code> and creating a <code>MongoEngine</code> instance.</p> <pre data-language=\"python\">from flask import Flask\nfrom flask_mongoengine import MongoEngine\n\napp = Flask(__name__)\napp.config['MONGODB_SETTINGS'] = {\n    \"db\": \"myapp\",\n}\ndb = MongoEngine(app)\n</pre>   <h2 id=\"mapping-documents\">Mapping Documents</h2> <p>To declare a model that represents a Mongo document, create a class that inherits from <code>Document</code> and declare each of the fields.</p> <pre data-language=\"python\">import mongoengine as me\n\nclass Movie(me.Document):\n    title = me.StringField(required=True)\n    year = me.IntField()\n    rated = me.StringField()\n    director = me.StringField()\n    actors = me.ListField()\n</pre> <p>If the document has nested fields, use <code>EmbeddedDocument</code> to defined the fields of the embedded document and <code>EmbeddedDocumentField</code> to declare it on the parent document.</p> <pre data-language=\"python\">class Imdb(me.EmbeddedDocument):\n    imdb_id = me.StringField()\n    rating = me.DecimalField()\n    votes = me.IntField()\n\nclass Movie(me.Document):\n    ...\n    imdb = me.EmbeddedDocumentField(Imdb)\n</pre>   <h2 id=\"creating-data\">Creating Data</h2> <p>Instantiate your document class with keyword arguments for the fields. You can also assign values to the field attributes after instantiation. Then call <code>doc.save()</code>.</p> <pre data-language=\"python\">bttf = Movie(title=\"Back To The Future\", year=1985)\nbttf.actors = [\n    \"Michael J. Fox\",\n    \"Christopher Lloyd\"\n]\nbttf.imdb = Imdb(imdb_id=\"tt0088763\", rating=8.5)\nbttf.save()\n</pre>   <h2 id=\"queries\">Queries</h2> <p>Use the class <code>objects</code> attribute to make queries. A keyword argument looks for an equal value on the field.</p> <pre data-language=\"python\">bttf = Movies.objects(title=\"Back To The Future\").get_or_404()\n</pre> <p>Query operators may be used by concatenating them with the field name using a double-underscore. <code>objects</code>, and queries returned by calling it, are iterable.</p> <pre data-language=\"python\">some_theron_movie = Movie.objects(actors__in=[\"Charlize Theron\"]).first()\n\nfor recents in Movie.objects(year__gte=2017):\n    print(recents.title)\n</pre>   <h2 id=\"documentation\">Documentation</h2> <p>There are many more ways to define and query documents with MongoEngine. For more information, check out the <a class=\"reference external\" href=\"http://mongoengine.org\">official documentation</a>.</p> <p>Flask-MongoEngine adds helpful utilities on top of MongoEngine. Check out their <a class=\"reference external\" href=\"https://flask-mongoengine.readthedocs.io\">documentation</a> as well.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/mongoengine/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/mongoengine/</a>\n  </p>\n</div>\n","patterns/favicon/index":"<h1>Adding a favicon</h1> <p>A “favicon” is an icon used by browsers for tabs and bookmarks. This helps to distinguish your website and to give it a unique brand.</p> <p>A common question is how to add a favicon to a Flask application. First, of course, you need an icon. It should be 16 × 16 pixels and in the ICO file format. This is not a requirement but a de-facto standard supported by all relevant browsers. Put the icon in your static directory as <code>favicon.ico</code>.</p> <p>Now, to get browsers to find your icon, the correct way is to add a link tag in your HTML. So, for example:</p> <pre data-language=\"html+jinja\">&lt;link rel=\"shortcut icon\" href=\"{{ url_for('static', filename='favicon.ico') }}\"&gt;\n</pre> <p>That’s all you need for most browsers, however some really old ones do not support this standard. The old de-facto standard is to serve this file, with this name, at the website root. If your application is not mounted at the root path of the domain you either need to configure the web server to serve the icon at the root or if you can’t do that you’re out of luck. If however your application is the root you can simply route a redirect:</p> <pre data-language=\"python\">app.add_url_rule('/favicon.ico',\n                 redirect_to=url_for('static', filename='favicon.ico'))\n</pre> <p>If you want to save the extra redirect request you can also write a view using <a class=\"reference internal\" href=\"../../api/index#flask.send_from_directory\" title=\"flask.send_from_directory\"><code>send_from_directory()</code></a>:</p> <pre data-language=\"python\">import os\nfrom flask import send_from_directory\n\n@app.route('/favicon.ico')\ndef favicon():\n    return send_from_directory(os.path.join(app.root_path, 'static'),\n                               'favicon.ico', mimetype='image/vnd.microsoft.icon')\n</pre> <p>We can leave out the explicit mimetype and it will be guessed, but we may as well specify it to avoid the extra guessing, as it will always be the same.</p> <p>The above will serve the icon via your application and if possible it’s better to configure your dedicated web server to serve it; refer to the web server’s documentation.</p>  <h2 id=\"see-also\">See also</h2> <ul class=\"simple\"> <li>The <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Favicon\">Favicon</a> article on Wikipedia</li> </ul><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/favicon/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/favicon/</a>\n  </p>\n</div>\n","patterns/streaming/index":"<h1>Streaming Contents</h1> <p>Sometimes you want to send an enormous amount of data to the client, much more than you want to keep in memory. When you are generating the data on the fly though, how do you send that back to the client without the roundtrip to the filesystem?</p> <p>The answer is by using generators and direct responses.</p>  <h2 id=\"basic-usage\">Basic Usage</h2> <p>This is a basic view function that generates a lot of CSV data on the fly. The trick is to have an inner function that uses a generator to generate data and to then invoke that function and pass it to a response object:</p> <pre data-language=\"python\">@app.route('/large.csv')\ndef generate_large_csv():\n    def generate():\n        for row in iter_all_rows():\n            yield f\"{','.join(row)}\\n\"\n    return app.response_class(generate(), mimetype='text/csv')\n</pre> <p>Each <code>yield</code> expression is directly sent to the browser. Note though that some WSGI middlewares might break streaming, so be careful there in debug environments with profilers and other things you might have enabled.</p>   <h2 id=\"streaming-from-templates\">Streaming from Templates</h2> <p>The Jinja2 template engine also supports rendering templates piece by piece. This functionality is not directly exposed by Flask because it is quite uncommon, but you can easily do it yourself:</p> <pre data-language=\"python\">def stream_template(template_name, **context):\n    app.update_template_context(context)\n    t = app.jinja_env.get_template(template_name)\n    rv = t.stream(context)\n    rv.enable_buffering(5)\n    return rv\n\n@app.route('/my-large-page.html')\ndef render_large_template():\n    rows = iter_all_rows()\n    return app.response_class(stream_template('the_template.html', rows=rows))\n</pre> <p>The trick here is to get the template object from the Jinja2 environment on the application and to call <a class=\"reference external\" href=\"https://jinja.palletsprojects.com/en/3.0.x/api/#jinja2.Template.stream\" title=\"(in Jinja v3.0.x)\"><code>stream()</code></a> instead of <a class=\"reference external\" href=\"https://jinja.palletsprojects.com/en/3.0.x/api/#jinja2.Template.render\" title=\"(in Jinja v3.0.x)\"><code>render()</code></a> which returns a stream object instead of a string. Since we’re bypassing the Flask template render functions and using the template object itself we have to make sure to update the render context ourselves by calling <a class=\"reference internal\" href=\"../../api/index#flask.Flask.update_template_context\" title=\"flask.Flask.update_template_context\"><code>update_template_context()</code></a>. The template is then evaluated as the stream is iterated over. Since each time you do a yield the server will flush the content to the client you might want to buffer up a few items in the template which you can do with <code>rv.enable_buffering(size)</code>. <code>5</code> is a sane default.</p>   <h2 id=\"streaming-with-context\">Streaming with Context</h2> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.9.</span></p> </div> </details><p>Note that when you stream data, the request context is already gone the moment the function executes. Flask 0.9 provides you with a helper that can keep the request context around during the execution of the generator:</p> <pre data-language=\"python\">from flask import stream_with_context, request\n\n@app.route('/stream')\ndef streamed_response():\n    def generate():\n        yield 'Hello '\n        yield request.args['name']\n        yield '!'\n    return app.response_class(stream_with_context(generate()))\n</pre> <p>Without the <a class=\"reference internal\" href=\"../../api/index#flask.stream_with_context\" title=\"flask.stream_with_context\"><code>stream_with_context()</code></a> function you would get a <a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#RuntimeError\" title=\"(in Python v3.9)\"><code>RuntimeError</code></a> at that point.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/streaming/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/streaming/</a>\n  </p>\n</div>\n","patterns/deferredcallbacks/index":"<h1>Deferred Request Callbacks</h1> <p>One of the design principles of Flask is that response objects are created and passed down a chain of potential callbacks that can modify them or replace them. When the request handling starts, there is no response object yet. It is created as necessary either by a view function or by some other component in the system.</p> <p>What happens if you want to modify the response at a point where the response does not exist yet? A common example for that would be a <a class=\"reference internal\" href=\"../../api/index#flask.Flask.before_request\" title=\"flask.Flask.before_request\"><code>before_request()</code></a> callback that wants to set a cookie on the response object.</p> <p>One way is to avoid the situation. Very often that is possible. For instance you can try to move that logic into a <a class=\"reference internal\" href=\"../../api/index#flask.Flask.after_request\" title=\"flask.Flask.after_request\"><code>after_request()</code></a> callback instead. However, sometimes moving code there makes it more complicated or awkward to reason about.</p> <p>As an alternative, you can use <a class=\"reference internal\" href=\"../../api/index#flask.after_this_request\" title=\"flask.after_this_request\"><code>after_this_request()</code></a> to register callbacks that will execute after only the current request. This way you can defer code execution from anywhere in the application, based on the current request.</p> <p>At any time during a request, we can register a function to be called at the end of the request. For example you can remember the current language of the user in a cookie in a <a class=\"reference internal\" href=\"../../api/index#flask.Flask.before_request\" title=\"flask.Flask.before_request\"><code>before_request()</code></a> callback:</p> <pre data-language=\"python\">from flask import request, after_this_request\n\n@app.before_request\ndef detect_user_language():\n    language = request.cookies.get('user_lang')\n\n    if language is None:\n        language = guess_language_from_request()\n\n        # when the response exists, set a cookie with the language\n        @after_this_request\n        def remember_language(response):\n            response.set_cookie('user_lang', language)\n            return response\n\n    g.language = language\n</pre><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/deferredcallbacks/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/deferredcallbacks/</a>\n  </p>\n</div>\n","patterns/methodoverrides/index":"<h1>Adding HTTP Method Overrides</h1> <p>Some HTTP proxies do not support arbitrary HTTP methods or newer HTTP methods (such as PATCH). In that case it’s possible to “proxy” HTTP methods through another HTTP method in total violation of the protocol.</p> <p>The way this works is by letting the client do an HTTP POST request and set the <code>X-HTTP-Method-Override</code> header. Then the method is replaced with the header value before being passed to Flask.</p> <p>This can be accomplished with an HTTP middleware:</p> <pre data-language=\"python\">class HTTPMethodOverrideMiddleware(object):\n    allowed_methods = frozenset([\n        'GET',\n        'HEAD',\n        'POST',\n        'DELETE',\n        'PUT',\n        'PATCH',\n        'OPTIONS'\n    ])\n    bodyless_methods = frozenset(['GET', 'HEAD', 'OPTIONS', 'DELETE'])\n\n    def __init__(self, app):\n        self.app = app\n\n    def __call__(self, environ, start_response):\n        method = environ.get('HTTP_X_HTTP_METHOD_OVERRIDE', '').upper()\n        if method in self.allowed_methods:\n            environ['REQUEST_METHOD'] = method\n        if method in self.bodyless_methods:\n            environ['CONTENT_LENGTH'] = '0'\n        return self.app(environ, start_response)\n</pre> <p>To use this with Flask, wrap the app object with the middleware:</p> <pre data-language=\"python\">from flask import Flask\n\napp = Flask(__name__)\napp.wsgi_app = HTTPMethodOverrideMiddleware(app.wsgi_app)\n</pre><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/methodoverrides/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/methodoverrides/</a>\n  </p>\n</div>\n","patterns/requestchecksum/index":"<h1>Request Content Checksums</h1> <p>Various pieces of code can consume the request data and preprocess it. For instance JSON data ends up on the request object already read and processed, form data ends up there as well but goes through a different code path. This seems inconvenient when you want to calculate the checksum of the incoming request data. This is necessary sometimes for some APIs.</p> <p>Fortunately this is however very simple to change by wrapping the input stream.</p> <p>The following example calculates the SHA1 checksum of the incoming data as it gets read and stores it in the WSGI environment:</p> <pre data-language=\"python\">import hashlib\n\nclass ChecksumCalcStream(object):\n\n    def __init__(self, stream):\n        self._stream = stream\n        self._hash = hashlib.sha1()\n\n    def read(self, bytes):\n        rv = self._stream.read(bytes)\n        self._hash.update(rv)\n        return rv\n\n    def readline(self, size_hint):\n        rv = self._stream.readline(size_hint)\n        self._hash.update(rv)\n        return rv\n\ndef generate_checksum(request):\n    env = request.environ\n    stream = ChecksumCalcStream(env['wsgi.input'])\n    env['wsgi.input'] = stream\n    return stream._hash\n</pre> <p>To use this, all you need to do is to hook the calculating stream in before the request starts consuming data. (Eg: be careful accessing <code>request.form</code> or anything of that nature. <code>before_request_handlers</code> for instance should be careful not to access it).</p> <p>Example usage:</p> <pre data-language=\"python\">@app.route('/special-api', methods=['POST'])\ndef special_api():\n    hash = generate_checksum(request)\n    # Accessing this parses the input stream\n    files = request.files\n    # At this point the hash is fully constructed.\n    checksum = hash.hexdigest()\n    return f\"Hash was: {checksum}\"\n</pre><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/requestchecksum/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/requestchecksum/</a>\n  </p>\n</div>\n","patterns/appdispatch/index":"<h1>Application Dispatching</h1> <p>Application dispatching is the process of combining multiple Flask applications on the WSGI level. You can combine not only Flask applications but any WSGI application. This would allow you to run a Django and a Flask application in the same interpreter side by side if you want. The usefulness of this depends on how the applications work internally.</p> <p>The fundamental difference from <a class=\"reference internal\" href=\"../packages/index\"><span class=\"doc\">Large Applications as Packages</span></a> is that in this case you are running the same or different Flask applications that are entirely isolated from each other. They run different configurations and are dispatched on the WSGI level.</p>  <h2 id=\"working-with-this-document\">Working with this Document</h2> <p>Each of the techniques and examples below results in an <code>application</code> object that can be run with any WSGI server. For production, see <a class=\"reference internal\" href=\"../../deploying/index\"><span class=\"doc\">Deployment Options</span></a>. For development, Werkzeug provides a server through <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/serving/#werkzeug.serving.run_simple\" title=\"(in Werkzeug v2.0.x)\"><code>werkzeug.serving.run_simple()</code></a>:</p> <pre data-language=\"python\">from werkzeug.serving import run_simple\nrun_simple('localhost', 5000, application, use_reloader=True)\n</pre> <p>Note that <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/serving/#werkzeug.serving.run_simple\" title=\"(in Werkzeug v2.0.x)\"><code>run_simple</code></a> is not intended for use in production. Use a production WSGI server. See <a class=\"reference internal\" href=\"../../deploying/index\"><span class=\"doc\">Deployment Options</span></a>.</p> <p>In order to use the interactive debugger, debugging must be enabled both on the application and the simple server. Here is the “hello world” example with debugging and <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/serving/#werkzeug.serving.run_simple\" title=\"(in Werkzeug v2.0.x)\"><code>run_simple</code></a>:</p> <pre data-language=\"python\">from flask import Flask\nfrom werkzeug.serving import run_simple\n\napp = Flask(__name__)\napp.debug = True\n\n@app.route('/')\ndef hello_world():\n    return 'Hello World!'\n\nif __name__ == '__main__':\n    run_simple('localhost', 5000, app,\n               use_reloader=True, use_debugger=True, use_evalex=True)\n</pre>   <h2 id=\"combining-applications\">Combining Applications</h2> <p>If you have entirely separated applications and you want them to work next to each other in the same Python interpreter process you can take advantage of the <code>werkzeug.wsgi.DispatcherMiddleware</code>. The idea here is that each Flask application is a valid WSGI application and they are combined by the dispatcher middleware into a larger one that is dispatched based on prefix.</p> <p>For example you could have your main application run on <code>/</code> and your backend interface on <code>/backend</code>:</p> <pre data-language=\"python\">from werkzeug.middleware.dispatcher import DispatcherMiddleware\nfrom frontend_app import application as frontend\nfrom backend_app import application as backend\n\napplication = DispatcherMiddleware(frontend, {\n    '/backend': backend\n})\n</pre>   <h2 id=\"dispatch-by-subdomain\">Dispatch by Subdomain</h2> <p>Sometimes you might want to use multiple instances of the same application with different configurations. Assuming the application is created inside a function and you can call that function to instantiate it, that is really easy to implement. In order to develop your application to support creating new instances in functions have a look at the <a class=\"reference internal\" href=\"../appfactories/index\"><span class=\"doc\">Application Factories</span></a> pattern.</p> <p>A very common example would be creating applications per subdomain. For instance you configure your webserver to dispatch all requests for all subdomains to your application and you then use the subdomain information to create user-specific instances. Once you have your server set up to listen on all subdomains you can use a very simple WSGI application to do the dynamic application creation.</p> <p>The perfect level for abstraction in that regard is the WSGI layer. You write your own WSGI application that looks at the request that comes and delegates it to your Flask application. If that application does not exist yet, it is dynamically created and remembered:</p> <pre data-language=\"python\">from threading import Lock\n\nclass SubdomainDispatcher(object):\n\n    def __init__(self, domain, create_app):\n        self.domain = domain\n        self.create_app = create_app\n        self.lock = Lock()\n        self.instances = {}\n\n    def get_application(self, host):\n        host = host.split(':')[0]\n        assert host.endswith(self.domain), 'Configuration error'\n        subdomain = host[:-len(self.domain)].rstrip('.')\n        with self.lock:\n            app = self.instances.get(subdomain)\n            if app is None:\n                app = self.create_app(subdomain)\n                self.instances[subdomain] = app\n            return app\n\n    def __call__(self, environ, start_response):\n        app = self.get_application(environ['HTTP_HOST'])\n        return app(environ, start_response)\n</pre> <p>This dispatcher can then be used like this:</p> <pre data-language=\"python\">from myapplication import create_app, get_user_for_subdomain\nfrom werkzeug.exceptions import NotFound\n\ndef make_app(subdomain):\n    user = get_user_for_subdomain(subdomain)\n    if user is None:\n        # if there is no user for that subdomain we still have\n        # to return a WSGI application that handles that request.\n        # We can then just return the NotFound() exception as\n        # application which will render a default 404 page.\n        # You might also redirect the user to the main page then\n        return NotFound()\n\n    # otherwise create the application for the specific user\n    return create_app(user)\n\napplication = SubdomainDispatcher('example.com', make_app)\n</pre>   <h2 id=\"dispatch-by-path\">Dispatch by Path</h2> <p>Dispatching by a path on the URL is very similar. Instead of looking at the <code>Host</code> header to figure out the subdomain one simply looks at the request path up to the first slash:</p> <pre data-language=\"python\">from threading import Lock\nfrom werkzeug.wsgi import pop_path_info, peek_path_info\n\nclass PathDispatcher(object):\n\n    def __init__(self, default_app, create_app):\n        self.default_app = default_app\n        self.create_app = create_app\n        self.lock = Lock()\n        self.instances = {}\n\n    def get_application(self, prefix):\n        with self.lock:\n            app = self.instances.get(prefix)\n            if app is None:\n                app = self.create_app(prefix)\n                if app is not None:\n                    self.instances[prefix] = app\n            return app\n\n    def __call__(self, environ, start_response):\n        app = self.get_application(peek_path_info(environ))\n        if app is not None:\n            pop_path_info(environ)\n        else:\n            app = self.default_app\n        return app(environ, start_response)\n</pre> <p>The big difference between this and the subdomain one is that this one falls back to another application if the creator function returns <code>None</code>:</p> <pre data-language=\"python\">from myapplication import create_app, default_app, get_user_for_prefix\n\ndef make_app(prefix):\n    user = get_user_for_prefix(prefix)\n    if user is not None:\n        return create_app(user)\n\napplication = PathDispatcher(default_app, make_app)\n</pre><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/appdispatch/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/appdispatch/</a>\n  </p>\n</div>\n","patterns/urlprocessors/index":"<h1>Using URL Processors</h1> <details class=\"changelog\"> <summary>Changelog</summary><div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 0.7.</span></p> </div> </details><p>Flask 0.7 introduces the concept of URL processors. The idea is that you might have a bunch of resources with common parts in the URL that you don’t always explicitly want to provide. For instance you might have a bunch of URLs that have the language code in it but you don’t want to have to handle it in every single function yourself.</p> <p>URL processors are especially helpful when combined with blueprints. We will handle both application specific URL processors here as well as blueprint specifics.</p>  <h2 id=\"internationalized-application-urls\">Internationalized Application URLs</h2> <p>Consider an application like this:</p> <pre data-language=\"python\">from flask import Flask, g\n\napp = Flask(__name__)\n\n@app.route('/&lt;lang_code&gt;/')\ndef index(lang_code):\n    g.lang_code = lang_code\n    ...\n\n@app.route('/&lt;lang_code&gt;/about')\ndef about(lang_code):\n    g.lang_code = lang_code\n    ...\n</pre> <p>This is an awful lot of repetition as you have to handle the language code setting on the <a class=\"reference internal\" href=\"../../api/index#flask.g\" title=\"flask.g\"><code>g</code></a> object yourself in every single function. Sure, a decorator could be used to simplify this, but if you want to generate URLs from one function to another you would have to still provide the language code explicitly which can be annoying.</p> <p>For the latter, this is where <a class=\"reference internal\" href=\"../../api/index#flask.Flask.url_defaults\" title=\"flask.Flask.url_defaults\"><code>url_defaults()</code></a> functions come in. They can automatically inject values into a call to <a class=\"reference internal\" href=\"../../api/index#flask.url_for\" title=\"flask.url_for\"><code>url_for()</code></a>. The code below checks if the language code is not yet in the dictionary of URL values and if the endpoint wants a value named <code>'lang_code'</code>:</p> <pre data-language=\"python\">@app.url_defaults\ndef add_language_code(endpoint, values):\n    if 'lang_code' in values or not g.lang_code:\n        return\n    if app.url_map.is_endpoint_expecting(endpoint, 'lang_code'):\n        values['lang_code'] = g.lang_code\n</pre> <p>The method <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/routing/#werkzeug.routing.Map.is_endpoint_expecting\" title=\"(in Werkzeug v2.0.x)\"><code>is_endpoint_expecting()</code></a> of the URL map can be used to figure out if it would make sense to provide a language code for the given endpoint.</p> <p>The reverse of that function are <a class=\"reference internal\" href=\"../../api/index#flask.Flask.url_value_preprocessor\" title=\"flask.Flask.url_value_preprocessor\"><code>url_value_preprocessor()</code></a>s. They are executed right after the request was matched and can execute code based on the URL values. The idea is that they pull information out of the values dictionary and put it somewhere else:</p> <pre data-language=\"python\">@app.url_value_preprocessor\ndef pull_lang_code(endpoint, values):\n    g.lang_code = values.pop('lang_code', None)\n</pre> <p>That way you no longer have to do the <code>lang_code</code> assignment to <a class=\"reference internal\" href=\"../../api/index#flask.g\" title=\"flask.g\"><code>g</code></a> in every function. You can further improve that by writing your own decorator that prefixes URLs with the language code, but the more beautiful solution is using a blueprint. Once the <code>'lang_code'</code> is popped from the values dictionary and it will no longer be forwarded to the view function reducing the code to this:</p> <pre data-language=\"python\">from flask import Flask, g\n\napp = Flask(__name__)\n\n@app.url_defaults\ndef add_language_code(endpoint, values):\n    if 'lang_code' in values or not g.lang_code:\n        return\n    if app.url_map.is_endpoint_expecting(endpoint, 'lang_code'):\n        values['lang_code'] = g.lang_code\n\n@app.url_value_preprocessor\ndef pull_lang_code(endpoint, values):\n    g.lang_code = values.pop('lang_code', None)\n\n@app.route('/&lt;lang_code&gt;/')\ndef index():\n    ...\n\n@app.route('/&lt;lang_code&gt;/about')\ndef about():\n    ...\n</pre>   <h2 id=\"internationalized-blueprint-urls\">Internationalized Blueprint URLs</h2> <p>Because blueprints can automatically prefix all URLs with a common string it’s easy to automatically do that for every function. Furthermore blueprints can have per-blueprint URL processors which removes a whole lot of logic from the <a class=\"reference internal\" href=\"../../api/index#flask.Flask.url_defaults\" title=\"flask.Flask.url_defaults\"><code>url_defaults()</code></a> function because it no longer has to check if the URL is really interested in a <code>'lang_code'</code> parameter:</p> <pre data-language=\"python\">from flask import Blueprint, g\n\nbp = Blueprint('frontend', __name__, url_prefix='/&lt;lang_code&gt;')\n\n@bp.url_defaults\ndef add_language_code(endpoint, values):\n    values.setdefault('lang_code', g.lang_code)\n\n@bp.url_value_preprocessor\ndef pull_lang_code(endpoint, values):\n    g.lang_code = values.pop('lang_code')\n\n@bp.route('/')\ndef index():\n    ...\n\n@bp.route('/about')\ndef about():\n    ...\n</pre><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/urlprocessors/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/urlprocessors/</a>\n  </p>\n</div>\n","patterns/sqlalchemy/index":"<h1>SQLAlchemy in Flask</h1> <p>Many people prefer <a class=\"reference external\" href=\"https://www.sqlalchemy.org/\">SQLAlchemy</a> for database access. In this case it’s encouraged to use a package instead of a module for your flask application and drop the models into a separate module (<a class=\"reference internal\" href=\"../packages/index\"><span class=\"doc\">Large Applications as Packages</span></a>). While that is not necessary, it makes a lot of sense.</p> <p>There are four very common ways to use SQLAlchemy. I will outline each of them here:</p>  <h2 id=\"flask-sqlalchemy-extension\">Flask-SQLAlchemy Extension</h2> <p>Because SQLAlchemy is a common database abstraction layer and object relational mapper that requires a little bit of configuration effort, there is a Flask extension that handles that for you. This is recommended if you want to get started quickly.</p> <p>You can download <a class=\"reference external\" href=\"https://flask-sqlalchemy.palletsprojects.com/\">Flask-SQLAlchemy</a> from <a class=\"reference external\" href=\"https://pypi.org/project/Flask-SQLAlchemy/\">PyPI</a>.</p>   <h2 id=\"declarative\">Declarative</h2> <p>The declarative extension in SQLAlchemy is the most recent method of using SQLAlchemy. It allows you to define tables and models in one go, similar to how Django works. In addition to the following text I recommend the official documentation on the <a class=\"reference external\" href=\"https://docs.sqlalchemy.org/en/latest/orm/extensions/declarative/\">declarative</a> extension.</p> <p>Here’s the example <code>database.py</code> module for your application:</p> <pre data-language=\"python\">from sqlalchemy import create_engine\nfrom sqlalchemy.orm import scoped_session, sessionmaker\nfrom sqlalchemy.ext.declarative import declarative_base\n\nengine = create_engine('sqlite:////tmp/test.db')\ndb_session = scoped_session(sessionmaker(autocommit=False,\n                                         autoflush=False,\n                                         bind=engine))\nBase = declarative_base()\nBase.query = db_session.query_property()\n\ndef init_db():\n    # import all modules here that might define models so that\n    # they will be registered properly on the metadata.  Otherwise\n    # you will have to import them first before calling init_db()\n    import yourapplication.models\n    Base.metadata.create_all(bind=engine)\n</pre> <p>To define your models, just subclass the <code>Base</code> class that was created by the code above. If you are wondering why we don’t have to care about threads here (like we did in the SQLite3 example above with the <a class=\"reference internal\" href=\"../../api/index#flask.g\" title=\"flask.g\"><code>g</code></a> object): that’s because SQLAlchemy does that for us already with the <code>scoped_session</code>.</p> <p>To use SQLAlchemy in a declarative way with your application, you just have to put the following code into your application module. Flask will automatically remove database sessions at the end of the request or when the application shuts down:</p> <pre data-language=\"python\">from yourapplication.database import db_session\n\n@app.teardown_appcontext\ndef shutdown_session(exception=None):\n    db_session.remove()\n</pre> <p>Here is an example model (put this into <code>models.py</code>, e.g.):</p> <pre data-language=\"python\">from sqlalchemy import Column, Integer, String\nfrom yourapplication.database import Base\n\nclass User(Base):\n    __tablename__ = 'users'\n    id = Column(Integer, primary_key=True)\n    name = Column(String(50), unique=True)\n    email = Column(String(120), unique=True)\n\n    def __init__(self, name=None, email=None):\n        self.name = name\n        self.email = email\n\n    def __repr__(self):\n        return f'&lt;User {self.name!r}&gt;'\n</pre> <p>To create the database you can use the <code>init_db</code> function:</p> <pre data-language=\"python\">&gt;&gt;&gt; from yourapplication.database import init_db\n&gt;&gt;&gt; init_db()\n</pre> <p>You can insert entries into the database like this:</p> <pre data-language=\"python\">&gt;&gt;&gt; from yourapplication.database import db_session\n&gt;&gt;&gt; from yourapplication.models import User\n&gt;&gt;&gt; u = User('admin', 'admin@localhost')\n&gt;&gt;&gt; db_session.add(u)\n&gt;&gt;&gt; db_session.commit()\n</pre> <p>Querying is simple as well:</p> <pre data-language=\"python\">&gt;&gt;&gt; User.query.all()\n[&lt;User 'admin'&gt;]\n&gt;&gt;&gt; User.query.filter(User.name == 'admin').first()\n&lt;User 'admin'&gt;\n</pre>   <h2 id=\"manual-object-relational-mapping\">Manual Object Relational Mapping</h2> <p>Manual object relational mapping has a few upsides and a few downsides versus the declarative approach from above. The main difference is that you define tables and classes separately and map them together. It’s more flexible but a little more to type. In general it works like the declarative approach, so make sure to also split up your application into multiple modules in a package.</p> <p>Here is an example <code>database.py</code> module for your application:</p> <pre data-language=\"python\">from sqlalchemy import create_engine, MetaData\nfrom sqlalchemy.orm import scoped_session, sessionmaker\n\nengine = create_engine('sqlite:////tmp/test.db')\nmetadata = MetaData()\ndb_session = scoped_session(sessionmaker(autocommit=False,\n                                         autoflush=False,\n                                         bind=engine))\ndef init_db():\n    metadata.create_all(bind=engine)\n</pre> <p>As in the declarative approach, you need to close the session after each request or application context shutdown. Put this into your application module:</p> <pre data-language=\"python\">from yourapplication.database import db_session\n\n@app.teardown_appcontext\ndef shutdown_session(exception=None):\n    db_session.remove()\n</pre> <p>Here is an example table and model (put this into <code>models.py</code>):</p> <pre data-language=\"python\">from sqlalchemy import Table, Column, Integer, String\nfrom sqlalchemy.orm import mapper\nfrom yourapplication.database import metadata, db_session\n\nclass User(object):\n    query = db_session.query_property()\n\n    def __init__(self, name=None, email=None):\n        self.name = name\n        self.email = email\n\n    def __repr__(self):\n        return f'&lt;User {self.name!r}&gt;'\n\nusers = Table('users', metadata,\n    Column('id', Integer, primary_key=True),\n    Column('name', String(50), unique=True),\n    Column('email', String(120), unique=True)\n)\nmapper(User, users)\n</pre> <p>Querying and inserting works exactly the same as in the example above.</p>   <h2 id=\"sql-abstraction-layer\">SQL Abstraction Layer</h2> <p>If you just want to use the database system (and SQL) abstraction layer you basically only need the engine:</p> <pre data-language=\"python\">from sqlalchemy import create_engine, MetaData, Table\n\nengine = create_engine('sqlite:////tmp/test.db')\nmetadata = MetaData(bind=engine)\n</pre> <p>Then you can either declare the tables in your code like in the examples above, or automatically load them:</p> <pre data-language=\"python\">from sqlalchemy import Table\n\nusers = Table('users', metadata, autoload=True)\n</pre> <p>To insert data you can use the <code>insert</code> method. We have to get a connection first so that we can use a transaction:</p> <pre data-language=\"python\">&gt;&gt;&gt; con = engine.connect()\n&gt;&gt;&gt; con.execute(users.insert(), name='admin', email='admin@localhost')\n</pre> <p>SQLAlchemy will automatically commit for us.</p> <p>To query your database, you use the engine directly or use a connection:</p> <pre data-language=\"python\">&gt;&gt;&gt; users.select(users.c.id == 1).execute().first()\n(1, 'admin', 'admin@localhost')\n</pre> <p>These results are also dict-like tuples:</p> <pre data-language=\"python\">&gt;&gt;&gt; r = users.select(users.c.id == 1).execute().first()\n&gt;&gt;&gt; r['name']\n'admin'\n</pre> <p>You can also pass strings of SQL statements to the <code>execute()</code> method:</p> <pre data-language=\"python\">&gt;&gt;&gt; engine.execute('select * from users where id = :1', [1]).first()\n(1, 'admin', 'admin@localhost')\n</pre> <p>For more information about SQLAlchemy, head over to the <a class=\"reference external\" href=\"https://www.sqlalchemy.org/\">website</a>.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/sqlalchemy/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/sqlalchemy/</a>\n  </p>\n</div>\n","patterns/celery/index":"<h1>Celery Background Tasks</h1> <p>If your application has a long running task, such as processing some uploaded data or sending email, you don’t want to wait for it to finish during a request. Instead, use a task queue to send the necessary data to another process that will run the task in the background while the request returns immediately.</p> <p>Celery is a powerful task queue that can be used for simple background tasks as well as complex multi-stage programs and schedules. This guide will show you how to configure Celery using Flask, but assumes you’ve already read the <a class=\"reference external\" href=\"https://celery.readthedocs.io/en/latest/getting-started/first-steps-with-celery.html\">First Steps with Celery</a> guide in the Celery documentation.</p>  <h2 id=\"install\">Install</h2> <p>Celery is a separate Python package. Install it from PyPI using pip:</p> <pre data-language=\"python\">$ pip install celery\n</pre>   <h2 id=\"configure\">Configure</h2> <p>The first thing you need is a Celery instance, this is called the celery application. It serves the same purpose as the <a class=\"reference internal\" href=\"../../api/index#flask.Flask\" title=\"flask.Flask\"><code>Flask</code></a> object in Flask, just for Celery. Since this instance is used as the entry-point for everything you want to do in Celery, like creating tasks and managing workers, it must be possible for other modules to import it.</p> <p>For instance you can place this in a <code>tasks</code> module. While you can use Celery without any reconfiguration with Flask, it becomes a bit nicer by subclassing tasks and adding support for Flask’s application contexts and hooking it up with the Flask configuration.</p> <p>This is all that is necessary to properly integrate Celery with Flask:</p> <pre data-language=\"python\">from celery import Celery\n\ndef make_celery(app):\n    celery = Celery(\n        app.import_name,\n        backend=app.config['CELERY_RESULT_BACKEND'],\n        broker=app.config['CELERY_BROKER_URL']\n    )\n    celery.conf.update(app.config)\n\n    class ContextTask(celery.Task):\n        def __call__(self, *args, **kwargs):\n            with app.app_context():\n                return self.run(*args, **kwargs)\n\n    celery.Task = ContextTask\n    return celery\n</pre> <p>The function creates a new Celery object, configures it with the broker from the application config, updates the rest of the Celery config from the Flask config and then creates a subclass of the task that wraps the task execution in an application context.</p>   <h2 id=\"an-example-task\">An example task</h2> <p>Let’s write a task that adds two numbers together and returns the result. We configure Celery’s broker and backend to use Redis, create a <code>celery</code> application using the factor from above, and then use it to define the task.</p> <pre data-language=\"python\">from flask import Flask\n\nflask_app = Flask(__name__)\nflask_app.config.update(\n    CELERY_BROKER_URL='redis://localhost:6379',\n    CELERY_RESULT_BACKEND='redis://localhost:6379'\n)\ncelery = make_celery(flask_app)\n\n@celery.task()\ndef add_together(a, b):\n    return a + b\n</pre> <p>This task can now be called in the background:</p> <pre data-language=\"python\">result = add_together.delay(23, 42)\nresult.wait()  # 65\n</pre>   <h2 id=\"run-a-worker\">Run a worker</h2> <p>If you jumped in and already executed the above code you will be disappointed to learn that <code>.wait()</code> will never actually return. That’s because you also need to run a Celery worker to receive and execute the task.</p> <pre data-language=\"python\">$ celery -A your_application.celery worker\n</pre> <p>The <code>your_application</code> string has to point to your application’s package or module that creates the <code>celery</code> object.</p> <p>Now that the worker is running, <code>wait</code> will return the result once the task is finished.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/celery/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/celery/</a>\n  </p>\n</div>\n","patterns/subclassing/index":"<h1>Subclassing Flask</h1> <p>The <a class=\"reference internal\" href=\"../../api/index#flask.Flask\" title=\"flask.Flask\"><code>Flask</code></a> class is designed for subclassing.</p> <p>For example, you may want to override how request parameters are handled to preserve their order:</p> <pre data-language=\"python\">from flask import Flask, Request\nfrom werkzeug.datastructures import ImmutableOrderedMultiDict\nclass MyRequest(Request):\n    \"\"\"Request subclass to override request parameter storage\"\"\"\n    parameter_storage_class = ImmutableOrderedMultiDict\nclass MyFlask(Flask):\n    \"\"\"Flask subclass using the custom request class\"\"\"\n    request_class = MyRequest\n</pre> <p>This is the recommended approach for overriding or augmenting Flask’s internal functionality.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/subclassing/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/subclassing/</a>\n  </p>\n</div>\n","patterns/singlepageapplications/index":"<h1>Single-Page Applications</h1> <p>Flask can be used to serve Single-Page Applications (SPA) by placing static files produced by your frontend framework in a subfolder inside of your project. You will also need to create a catch-all endpoint that routes all requests to your SPA.</p> <p>The following example demonstrates how to serve an SPA along with an API:</p> <pre data-language=\"python\">from flask import Flask, jsonify\n\napp = Flask(__name__, static_folder='app', static_url_path=\"/app\")\n\n\n@app.route(\"/heartbeat\")\ndef heartbeat():\n    return jsonify({\"status\": \"healthy\"})\n\n\n@app.route('/', defaults={'path': ''})\n@app.route('/&lt;path:path&gt;')\ndef catch_all(path):\n    return app.send_static_file(\"index.html\")\n</pre><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/patterns/singlepageapplications/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/patterns/singlepageapplications/</a>\n  </p>\n</div>\n","deploying/index":"<h1>Deployment Options</h1> <p>While lightweight and easy to use, <strong>Flask’s built-in server is not suitable for production</strong> as it doesn’t scale well. Some of the options available for properly running Flask in production are documented here.</p> <p>If you want to deploy your Flask application to a WSGI server not listed here, look up the server documentation about how to use a WSGI app with it. Just remember that your <code>Flask</code> application object is the actual WSGI application.</p>  <h2 id=\"hosted-options\">Hosted options</h2> <ul class=\"simple\"> <li><a class=\"reference external\" href=\"https://devcenter.heroku.com/articles/getting-started-with-python\">Deploying Flask on Heroku</a></li> <li><a class=\"reference external\" href=\"https://cloud.google.com/appengine/docs/standard/python3/runtime\">Deploying Flask on Google App Engine</a></li> <li><a class=\"reference external\" href=\"https://cloud.google.com/run/docs/quickstarts/build-and-deploy/python\">Deploying Flask on Google Cloud Run</a></li> <li><a class=\"reference external\" href=\"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create-deploy-python-flask.html\">Deploying Flask on AWS Elastic Beanstalk</a></li> <li><a class=\"reference external\" href=\"https://docs.microsoft.com/en-us/azure/app-service/containers/how-to-configure-python\">Deploying on Azure (IIS)</a></li> <li><a class=\"reference external\" href=\"https://help.pythonanywhere.com/pages/Flask/\">Deploying on PythonAnywhere</a></li> </ul>   <h2 id=\"self-hosted-options\">Self-hosted options</h2>  <ul> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"wsgi-standalone/index\">Standalone WSGI Containers</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"wsgi-standalone/index#gunicorn\">Gunicorn</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"wsgi-standalone/index#uwsgi\">uWSGI</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"wsgi-standalone/index#gevent\">Gevent</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"wsgi-standalone/index#twisted-web\">Twisted Web</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"wsgi-standalone/index#proxy-setups\">Proxy Setups</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"uwsgi/index\">uWSGI</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"uwsgi/index#starting-your-app-with-uwsgi\">Starting your app with uwsgi</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"uwsgi/index#configuring-nginx\">Configuring nginx</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"mod_wsgi/index\">mod_wsgi (Apache)</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"mod_wsgi/index#installing-mod-wsgi\">Installing <code>mod_wsgi</code></a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"mod_wsgi/index#creating-a-wsgi-file\">Creating a <code>.wsgi</code> file</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"mod_wsgi/index#configuring-apache\">Configuring Apache</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"mod_wsgi/index#troubleshooting\">Troubleshooting</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"mod_wsgi/index#support-for-automatic-reloading\">Support for Automatic Reloading</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"mod_wsgi/index#working-with-virtual-environments\">Working with Virtual Environments</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"fastcgi/index\">FastCGI</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"fastcgi/index#creating-a-fcgi-file\">Creating a <code>.fcgi</code> file</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"fastcgi/index#configuring-apache\">Configuring Apache</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"fastcgi/index#configuring-lighttpd\">Configuring lighttpd</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"fastcgi/index#configuring-nginx\">Configuring nginx</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"fastcgi/index#running-fastcgi-processes\">Running FastCGI Processes</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"fastcgi/index#debugging\">Debugging</a></li> </ul> </li> <li class=\"toctree-l1\">\n<a class=\"reference internal\" href=\"cgi/index\">CGI</a><ul> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"cgi/index#creating-a-cgi-file\">Creating a <code>.cgi</code> file</a></li> <li class=\"toctree-l2\"><a class=\"reference internal\" href=\"cgi/index#server-setup\">Server Setup</a></li> </ul> </li> <li class=\"toctree-l1\"><a class=\"reference internal\" href=\"asgi/index\">ASGI</a></li> </ul><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/deploying/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/deploying/</a>\n  </p>\n</div>\n","async-await/index":"<h1 id=\"async-await\">Using async and await</h1> <div class=\"versionadded\"> <p><span class=\"versionmodified added\">New in version 2.0.</span></p> </div> <p>Routes, error handlers, before request, after request, and teardown functions can all be coroutine functions if Flask is installed with the <code>async</code> extra (<code>pip install flask[async]</code>). This allows views to be defined with <code>async def</code> and use <code>await</code>.</p> <pre data-language=\"python\">@app.route(\"/get-data\")\nasync def get_data():\n    data = await async_db_query(...)\n    return jsonify(data)\n</pre> <div class=\"admonition-using-async-on-windows-on-python-3-8 admonition\"> <p class=\"admonition-title\">Using <code>async</code> on Windows on Python 3.8</p> <p>Python 3.8 has a bug related to asyncio on Windows. If you encounter something like <code>ValueError: set_wakeup_fd only works in main thread</code>, please upgrade to Python 3.9.</p> </div>  <h2 id=\"performance\">Performance</h2> <p>Async functions require an event loop to run. Flask, as a WSGI application, uses one worker to handle one request/response cycle. When a request comes in to an async view, Flask will start an event loop in a thread, run the view function there, then return the result.</p> <p>Each request still ties up one worker, even for async views. The upside is that you can run async code within a view, for example to make multiple concurrent database queries, HTTP requests to an external API, etc. However, the number of requests your application can handle at one time will remain the same.</p> <p><strong>Async is not inherently faster than sync code.</strong> Async is beneficial when performing concurrent IO-bound tasks, but will probably not improve CPU-bound tasks. Traditional Flask views will still be appropriate for most use cases, but Flask’s async support enables writing and using code that wasn’t possible natively before.</p>   <h2 id=\"background-tasks\">Background tasks</h2> <p>Async functions will run in an event loop until they complete, at which stage the event loop will stop. This means any additional spawned tasks that haven’t completed when the async function completes will be cancelled. Therefore you cannot spawn background tasks, for example via <code>asyncio.create_task</code>.</p> <p>If you wish to use background tasks it is best to use a task queue to trigger background work, rather than spawn tasks in a view function. With that in mind you can spawn asyncio tasks by serving Flask with an ASGI server and utilising the asgiref WsgiToAsgi adapter as described in <a class=\"reference internal\" href=\"../deploying/asgi/index#asgi\"><span class=\"std std-ref\">ASGI</span></a>. This works as the adapter creates an event loop that runs continually.</p>   <h2 id=\"when-to-use-quart-instead\">When to use Quart instead</h2> <p>Flask’s async support is less performant than async-first frameworks due to the way it is implemented. If you have a mainly async codebase it would make sense to consider <a class=\"reference external\" href=\"https://gitlab.com/pgjones/quart\">Quart</a>. Quart is a reimplementation of Flask based on the <a class=\"reference external\" href=\"https://asgi.readthedocs.io/en/latest/\">ASGI</a> standard instead of WSGI. This allows it to handle many concurrent requests, long running requests, and websockets without requiring multiple worker processes or threads.</p> <p>It has also already been possible to run Flask with Gevent or Eventlet to get many of the benefits of async request handling. These libraries patch low-level Python functions to accomplish this, whereas <code>async</code>/ <code>await</code> and ASGI use standard, modern Python capabilities. Deciding whether you should use Flask, Quart, or something else is ultimately up to understanding the specific needs of your project.</p>   <h2 id=\"extensions\">Extensions</h2> <p>Flask extensions predating Flask’s async support do not expect async views. If they provide decorators to add functionality to views, those will probably not work with async views because they will not await the function or be awaitable. Other functions they provide will not be awaitable either and will probably be blocking if called within an async view.</p> <p>Extension authors can support async functions by utilising the <a class=\"reference internal\" href=\"../api/index#flask.Flask.ensure_sync\" title=\"flask.Flask.ensure_sync\"><code>flask.Flask.ensure_sync()</code></a> method. For example, if the extension provides a view function decorator add <code>ensure_sync</code> before calling the decorated function,</p> <pre data-language=\"python\">def extension(func):\n    @wraps(func)\n    def wrapper(*args, **kwargs):\n        ...  # Extension logic\n        return current_app.ensure_sync(func)(*args, **kwargs)\n\n    return wrapper\n</pre> <p>Check the changelog of the extension you want to use to see if they’ve implemented async support, or make a feature request or PR to them.</p>   <h2 id=\"other-event-loops\">Other event loops</h2> <p>At the moment Flask only supports <a class=\"reference external\" href=\"https://docs.python.org/3/library/asyncio.html#module-asyncio\" title=\"(in Python v3.9)\"><code>asyncio</code></a>. It’s possible to override <a class=\"reference internal\" href=\"../api/index#flask.Flask.ensure_sync\" title=\"flask.Flask.ensure_sync\"><code>flask.Flask.ensure_sync()</code></a> to change how async functions are wrapped to use a different library.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/async-await/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/async-await/</a>\n  </p>\n</div>\n","design/index":"<h1>Design Decisions in Flask</h1> <p>If you are curious why Flask does certain things the way it does and not differently, this section is for you. This should give you an idea about some of the design decisions that may appear arbitrary and surprising at first, especially in direct comparison with other frameworks.</p>  <h2 id=\"the-explicit-application-object\">The Explicit Application Object</h2> <p>A Python web application based on WSGI has to have one central callable object that implements the actual application. In Flask this is an instance of the <a class=\"reference internal\" href=\"../api/index#flask.Flask\" title=\"flask.Flask\"><code>Flask</code></a> class. Each Flask application has to create an instance of this class itself and pass it the name of the module, but why can’t Flask do that itself?</p> <p>Without such an explicit application object the following code:</p> <pre data-language=\"python\">from flask import Flask\napp = Flask(__name__)\n\n@app.route('/')\ndef index():\n    return 'Hello World!'\n</pre> <p>Would look like this instead:</p> <pre data-language=\"python\">from hypothetical_flask import route\n\n@route('/')\ndef index():\n    return 'Hello World!'\n</pre> <p>There are three major reasons for this. The most important one is that implicit application objects require that there may only be one instance at the time. There are ways to fake multiple applications with a single application object, like maintaining a stack of applications, but this causes some problems I won’t outline here in detail. Now the question is: when does a microframework need more than one application at the same time? A good example for this is unit testing. When you want to test something it can be very helpful to create a minimal application to test specific behavior. When the application object is deleted everything it allocated will be freed again.</p> <p>Another thing that becomes possible when you have an explicit object lying around in your code is that you can subclass the base class (<a class=\"reference internal\" href=\"../api/index#flask.Flask\" title=\"flask.Flask\"><code>Flask</code></a>) to alter specific behavior. This would not be possible without hacks if the object were created ahead of time for you based on a class that is not exposed to you.</p> <p>But there is another very important reason why Flask depends on an explicit instantiation of that class: the package name. Whenever you create a Flask instance you usually pass it <code>__name__</code> as package name. Flask depends on that information to properly load resources relative to your module. With Python’s outstanding support for reflection it can then access the package to figure out where the templates and static files are stored (see <a class=\"reference internal\" href=\"../api/index#flask.Flask.open_resource\" title=\"flask.Flask.open_resource\"><code>open_resource()</code></a>). Now obviously there are frameworks around that do not need any configuration and will still be able to load templates relative to your application module. But they have to use the current working directory for that, which is a very unreliable way to determine where the application is. The current working directory is process-wide and if you are running multiple applications in one process (which could happen in a webserver without you knowing) the paths will be off. Worse: many webservers do not set the working directory to the directory of your application but to the document root which does not have to be the same folder.</p> <p>The third reason is “explicit is better than implicit”. That object is your WSGI application, you don’t have to remember anything else. If you want to apply a WSGI middleware, just wrap it and you’re done (though there are better ways to do that so that you do not lose the reference to the application object <a class=\"reference internal\" href=\"../api/index#flask.Flask.wsgi_app\" title=\"flask.Flask.wsgi_app\"><code>wsgi_app()</code></a>).</p> <p>Furthermore this design makes it possible to use a factory function to create the application which is very helpful for unit testing and similar things (<a class=\"reference internal\" href=\"../patterns/appfactories/index\"><span class=\"doc\">Application Factories</span></a>).</p>   <h2 id=\"the-routing-system\">The Routing System</h2> <p>Flask uses the Werkzeug routing system which was designed to automatically order routes by complexity. This means that you can declare routes in arbitrary order and they will still work as expected. This is a requirement if you want to properly implement decorator based routing since decorators could be fired in undefined order when the application is split into multiple modules.</p> <p>Another design decision with the Werkzeug routing system is that routes in Werkzeug try to ensure that URLs are unique. Werkzeug will go quite far with that in that it will automatically redirect to a canonical URL if a route is ambiguous.</p>   <h2 id=\"one-template-engine\">One Template Engine</h2> <p>Flask decides on one template engine: Jinja2. Why doesn’t Flask have a pluggable template engine interface? You can obviously use a different template engine, but Flask will still configure Jinja2 for you. While that limitation that Jinja2 is <em>always</em> configured will probably go away, the decision to bundle one template engine and use that will not.</p> <p>Template engines are like programming languages and each of those engines has a certain understanding about how things work. On the surface they all work the same: you tell the engine to evaluate a template with a set of variables and take the return value as string.</p> <p>But that’s about where similarities end. Jinja2 for example has an extensive filter system, a certain way to do template inheritance, support for reusable blocks (macros) that can be used from inside templates and also from Python code, supports iterative template rendering, configurable syntax and more. On the other hand an engine like Genshi is based on XML stream evaluation, template inheritance by taking the availability of XPath into account and more. Mako on the other hand treats templates similar to Python modules.</p> <p>When it comes to connecting a template engine with an application or framework there is more than just rendering templates. For instance, Flask uses Jinja2’s extensive autoescaping support. Also it provides ways to access macros from Jinja2 templates.</p> <p>A template abstraction layer that would not take the unique features of the template engines away is a science on its own and a too large undertaking for a microframework like Flask.</p> <p>Furthermore extensions can then easily depend on one template language being present. You can easily use your own templating language, but an extension could still depend on Jinja itself.</p>   <h2 id=\"micro-with-dependencies\">Micro with Dependencies</h2> <p>Why does Flask call itself a microframework and yet it depends on two libraries (namely Werkzeug and Jinja2). Why shouldn’t it? If we look over to the Ruby side of web development there we have a protocol very similar to WSGI. Just that it’s called Rack there, but besides that it looks very much like a WSGI rendition for Ruby. But nearly all applications in Ruby land do not work with Rack directly, but on top of a library with the same name. This Rack library has two equivalents in Python: WebOb (formerly Paste) and Werkzeug. Paste is still around but from my understanding it’s sort of deprecated in favour of WebOb. The development of WebOb and Werkzeug started side by side with similar ideas in mind: be a good implementation of WSGI for other applications to take advantage.</p> <p>Flask is a framework that takes advantage of the work already done by Werkzeug to properly interface WSGI (which can be a complex task at times). Thanks to recent developments in the Python package infrastructure, packages with dependencies are no longer an issue and there are very few reasons against having libraries that depend on others.</p>   <h2 id=\"thread-locals\">Thread Locals</h2> <p>Flask uses thread local objects (context local objects in fact, they support greenlet contexts as well) for request, session and an extra object you can put your own things on (<a class=\"reference internal\" href=\"../api/index#flask.g\" title=\"flask.g\"><code>g</code></a>). Why is that and isn’t that a bad idea?</p> <p>Yes it is usually not such a bright idea to use thread locals. They cause troubles for servers that are not based on the concept of threads and make large applications harder to maintain. However Flask is just not designed for large applications or asynchronous servers. Flask wants to make it quick and easy to write a traditional web application.</p> <p>Also see the <a class=\"reference internal\" href=\"../becomingbig/index\"><span class=\"doc\">Becoming Big</span></a> section of the documentation for some inspiration for larger applications based on Flask.</p>   <h2 id=\"async-await-and-asgi-support\">Async/await and ASGI support</h2> <p>Flask supports <code>async</code> coroutines for view functions by executing the coroutine on a separate thread instead of using an event loop on the main thread as an async-first (ASGI) framework would. This is necessary for Flask to remain backwards compatible with extensions and code built before <code>async</code> was introduced into Python. This compromise introduces a performance cost compared with the ASGI frameworks, due to the overhead of the threads.</p> <p>Due to how tied to WSGI Flask’s code is, it’s not clear if it’s possible to make the <code>Flask</code> class support ASGI and WSGI at the same time. Work is currently being done in Werkzeug to work with ASGI, which may eventually enable support in Flask as well.</p> <p>See <a class=\"reference internal\" href=\"../async-await/index\"><span class=\"doc\">Using async and await</span></a> for more discussion.</p>   <h2 id=\"what-flask-is-what-flask-is-not\">What Flask is, What Flask is Not</h2> <p>Flask will never have a database layer. It will not have a form library or anything else in that direction. Flask itself just bridges to Werkzeug to implement a proper WSGI application and to Jinja2 to handle templating. It also binds to a few common standard library packages such as logging. Everything else is up for extensions.</p> <p>Why is this the case? Because people have different preferences and requirements and Flask could not meet those if it would force any of this into the core. The majority of web applications will need a template engine in some sort. However not every application needs a SQL database.</p> <p>The idea of Flask is to build a good foundation for all applications. Everything else is up to you or extensions.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/design/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/design/</a>\n  </p>\n</div>\n","changes/index":"<h1>Changes</h1>  <h2 id=\"version-2-0-1\">Version 2.0.1</h2> <p>Unreleased</p> <ul class=\"simple\"> <li>Re-add the <code>filename</code> parameter in <code>send_from_directory</code>. The <code>filename</code> parameter has been renamed to <code>path</code>, the old name is deprecated. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/4019\">#4019</a>\n</li> </ul>   <h2 id=\"version-2-0-0\">Version 2.0.0</h2> <p>Released 2021-05-11</p> <ul class=\"simple\"> <li>Drop support for Python 2 and 3.5.</li> <li>Bump minimum versions of other Pallets projects: Werkzeug &gt;= 2, Jinja2 &gt;= 3, MarkupSafe &gt;= 2, ItsDangerous &gt;= 2, Click &gt;= 8. Be sure to check the change logs for each project. For better compatibility with other applications (e.g. Celery) that still require Click 7, there is no hard dependency on Click 8 yet, but using Click 7 will trigger a DeprecationWarning and Flask 2.1 will depend on Click 8.</li> <li>JSON support no longer uses simplejson. To use another JSON module, override <code>app.json_encoder</code> and <code>json_decoder</code>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3555\">#3555</a>\n</li> <li>The <code>encoding</code> option to JSON functions is deprecated. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3562\">#3562</a>\n</li> <li>Passing <code>script_info</code> to app factory functions is deprecated. This was not portable outside the <code>flask</code> command. Use <code>click.get_current_context().obj</code> if it’s needed. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3552\">#3552</a>\n</li> <li>The CLI shows better error messages when the app failed to load when looking up commands. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2741\">#2741</a>\n</li> <li>Add <a class=\"reference internal\" href=\"../api/index#flask.sessions.SessionInterface.get_cookie_name\" title=\"flask.sessions.SessionInterface.get_cookie_name\"><code>sessions.SessionInterface.get_cookie_name()</code></a> to allow setting the session cookie name dynamically. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3369\">#3369</a>\n</li> <li>Add <a class=\"reference internal\" href=\"../api/index#flask.Config.from_file\" title=\"flask.Config.from_file\"><code>Config.from_file()</code></a> to load config using arbitrary file loaders, such as <code>toml.load</code> or <code>json.load</code>. <code>Config.from_json()</code> is deprecated in favor of this. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3398\">#3398</a>\n</li> <li>The <code>flask run</code> command will only defer errors on reload. Errors present during the initial call will cause the server to exit with the traceback immediately. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3431\">#3431</a>\n</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.send_file\" title=\"flask.send_file\"><code>send_file()</code></a> raises a <a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#ValueError\" title=\"(in Python v3.9)\"><code>ValueError</code></a> when passed an <a class=\"reference external\" href=\"https://docs.python.org/3/library/io.html#module-io\" title=\"(in Python v3.9)\"><code>io</code></a> object in text mode. Previously, it would respond with 200 OK and an empty file. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3358\">#3358</a>\n</li> <li>When using ad-hoc certificates, check for the cryptography library instead of PyOpenSSL. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3492\">#3492</a>\n</li> <li>When specifying a factory function with <code>FLASK_APP</code>, keyword argument can be passed. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3553\">#3553</a>\n</li> <li>When loading a <code>.env</code> or <code>.flaskenv</code> file, the current working directory is no longer changed to the location of the file. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3560\">#3560</a>\n</li> <li>When returning a <code>(response, headers)</code> tuple from a view, the headers replace rather than extend existing headers on the response. For example, this allows setting the <code>Content-Type</code> for <code>jsonify()</code>. Use <code>response.headers.extend()</code> if extending is desired. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3628\">#3628</a>\n</li> <li>The <code>Scaffold</code> class provides a common API for the <code>Flask</code> and <code>Blueprint</code> classes. <code>Blueprint</code> information is stored in attributes just like <code>Flask</code>, rather than opaque lambda functions. This is intended to improve consistency and maintainability. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3215\">#3215</a>\n</li> <li>Include <code>samesite</code> and <code>secure</code> options when removing the session cookie. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3726\">#3726</a>\n</li> <li>Support passing a <code>pathlib.Path</code> to <code>static_folder</code>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3579\">#3579</a>\n</li> <li>\n<code>send_file</code> and <code>send_from_directory</code> are wrappers around the implementations in <code>werkzeug.utils</code>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3828\">#3828</a>\n</li> <li>Some <code>send_file</code> parameters have been renamed, the old names are deprecated. <code>attachment_filename</code> is renamed to <code>download_name</code>. <code>cache_timeout</code> is renamed to <code>max_age</code>. <code>add_etags</code> is renamed to <code>etag</code>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3828\">#3828</a>, <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3883\">#3883</a>\n</li> <li>\n<code>send_file</code> passes <code>download_name</code> even if <code>as_attachment=False</code> by using <code>Content-Disposition: inline</code>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3828\">#3828</a>\n</li> <li>\n<code>send_file</code> sets <code>conditional=True</code> and <code>max_age=None</code> by default. <code>Cache-Control</code> is set to <code>no-cache</code> if <code>max_age</code> is not set, otherwise <code>public</code>. This tells browsers to validate conditional requests instead of using a timed cache. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3828\">#3828</a>\n</li> <li>\n<code>helpers.safe_join</code> is deprecated. Use <code>werkzeug.utils.safe_join</code> instead. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3828\">#3828</a>\n</li> <li>The request context does route matching before opening the session. This could allow a session interface to change behavior based on <code>request.endpoint</code>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3776\">#3776</a>\n</li> <li>Use Jinja’s implementation of the <code>|tojson</code> filter. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3881\">#3881</a>\n</li> <li>Add route decorators for common HTTP methods. For example, <code>@app.post(\"/login\")</code> is a shortcut for <code>@app.route(\"/login\", methods=[\"POST\"])</code>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3907\">#3907</a>\n</li> <li>Support async views, error handlers, before and after request, and teardown functions. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3412\">#3412</a>\n</li> <li>Support nesting blueprints. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/593\">#593</a>, <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/1548\">#1548</a>, <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3923\">#3923</a>\n</li> <li>Set the default encoding to “UTF-8” when loading <code>.env</code> and <code>.flaskenv</code> files to allow to use non-ASCII characters. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3931\">#3931</a>\n</li> <li>\n<code>flask shell</code> sets up tab and history completion like the default <code>python</code> shell if <code>readline</code> is installed. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3941\">#3941</a>\n</li> <li>\n<code>helpers.total_seconds()</code> is deprecated. Use <code>timedelta.total_seconds()</code> instead. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3962\">#3962</a>\n</li> <li>Add type hinting. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3973\">#3973</a>.</li> </ul>   <h2 id=\"version-1-1-2\">Version 1.1.2</h2> <p>Released 2020-04-03</p> <ul class=\"simple\"> <li>Work around an issue when running the <code>flask</code> command with an external debugger on Windows. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3297\">#3297</a>\n</li> <li>The static route will not catch all URLs if the <code>Flask</code> <code>static_folder</code> argument ends with a slash. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3452\">#3452</a>\n</li> </ul>   <h2 id=\"version-1-1-1\">Version 1.1.1</h2> <p>Released 2019-07-08</p> <ul class=\"simple\"> <li>The <code>flask.json_available</code> flag was added back for compatibility with some extensions. It will raise a deprecation warning when used, and will be removed in version 2.0.0. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3288\">#3288</a>\n</li> </ul>   <h2 id=\"version-1-1-0\">Version 1.1.0</h2> <p>Released 2019-07-04</p> <ul class=\"simple\"> <li>Bump minimum Werkzeug version to &gt;= 0.15.</li> <li>Drop support for Python 3.4.</li> <li>\n<p>Error handlers for <code>InternalServerError</code> or <code>500</code> will always be passed an instance of <code>InternalServerError</code>. If they are invoked due to an unhandled exception, that original exception is now available as <code>e.original_exception</code> rather than being passed directly to the handler. The same is true if the handler is for the base <code>HTTPException</code>. This makes error handler behavior more consistent. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3266\">#3266</a></p> <ul> <li>\n<code>Flask.finalize_request()</code> is called for all unhandled exceptions even if there is no <code>500</code> error handler.</li> </ul> </li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.Flask.logger\" title=\"flask.Flask.logger\"><code>Flask.logger</code></a> takes the same name as <a class=\"reference internal\" href=\"../api/index#flask.Flask.name\" title=\"flask.Flask.name\"><code>Flask.name</code></a> (the value passed as <code>Flask(import_name)</code>. This reverts 1.0’s behavior of always logging to <code>\"flask.app\"</code>, in order to support multiple apps in the same process. A warning will be shown if old configuration is detected that needs to be moved. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2866\">#2866</a>\n</li> <li>\n<code>flask.RequestContext.copy()</code> includes the current session object in the request context copy. This prevents <code>session</code> pointing to an out-of-date object. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2935\">#2935</a>\n</li> <li>Using built-in RequestContext, unprintable Unicode characters in Host header will result in a HTTP 400 response and not HTTP 500 as previously. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2994\">#2994</a>\n</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.send_file\" title=\"flask.send_file\"><code>send_file()</code></a> supports <a class=\"reference external\" href=\"https://docs.python.org/3/library/os.html#os.PathLike\" title=\"(in Python v3.9)\"><code>PathLike</code></a> objects as described in PEP 0519, to support <a class=\"reference external\" href=\"https://docs.python.org/3/library/pathlib.html#module-pathlib\" title=\"(in Python v3.9)\"><code>pathlib</code></a> in Python 3. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3059\">#3059</a>\n</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.send_file\" title=\"flask.send_file\"><code>send_file()</code></a> supports <a class=\"reference external\" href=\"https://docs.python.org/3/library/io.html#io.BytesIO\" title=\"(in Python v3.9)\"><code>BytesIO</code></a> partial content. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2957\">#2957</a>\n</li> <li>\n<code>open_resource()</code> accepts the “rt” file mode. This still does the same thing as “r”. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3163\">#3163</a>\n</li> <li>The <code>MethodView.methods</code> attribute set in a base class is used by subclasses. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3138\">#3138</a>\n</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.Flask.jinja_options\" title=\"flask.Flask.jinja_options\"><code>Flask.jinja_options</code></a> is a <code>dict</code> instead of an <code>ImmutableDict</code> to allow easier configuration. Changes must still be made before creating the environment. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3190\">#3190</a>\n</li> <li>Flask’s <code>JSONMixin</code> for the request and response wrappers was moved into Werkzeug. Use Werkzeug’s version with Flask-specific support. This bumps the Werkzeug dependency to &gt;= 0.15. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3125\">#3125</a>\n</li> <li>The <code>flask</code> command entry point is simplified to take advantage of Werkzeug 0.15’s better reloader support. This bumps the Werkzeug dependency to &gt;= 0.15. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3022\">#3022</a>\n</li> <li>Support <code>static_url_path</code> that ends with a forward slash. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3134\">#3134</a>\n</li> <li>Support empty <code>static_folder</code> without requiring setting an empty <code>static_url_path</code> as well. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3124\">#3124</a>\n</li> <li>\n<code>jsonify()</code> supports <code>dataclasses.dataclass</code> objects. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3195\">#3195</a>\n</li> <li>Allow customizing the <a class=\"reference internal\" href=\"../api/index#flask.Flask.url_map_class\" title=\"flask.Flask.url_map_class\"><code>Flask.url_map_class</code></a> used for routing. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3069\">#3069</a>\n</li> <li>The development server port can be set to 0, which tells the OS to pick an available port. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2926\">#2926</a>\n</li> <li>The return value from <a class=\"reference internal\" href=\"../api/index#flask.cli.load_dotenv\" title=\"flask.cli.load_dotenv\"><code>cli.load_dotenv()</code></a> is more consistent with the documentation. It will return <code>False</code> if python-dotenv is not installed, or if the given path isn’t a file. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2937\">#2937</a>\n</li> <li>Signaling support has a stub for the <code>connect_via</code> method when the Blinker library is not installed. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3208\">#3208</a>\n</li> <li>Add an <code>--extra-files</code> option to the <code>flask run</code> CLI command to specify extra files that will trigger the reloader on change. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2897\">#2897</a>\n</li> <li>Allow returning a dictionary from a view function. Similar to how returning a string will produce a <code>text/html</code> response, returning a dict will call <code>jsonify</code> to produce a <code>application/json</code> response. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3111\">#3111</a>\n</li> <li>Blueprints have a <code>cli</code> Click group like <code>app.cli</code>. CLI commands registered with a blueprint will be available as a group under the <code>flask</code> command. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/1357\">#1357</a>.</li> <li>When using the test client as a context manager (<code>with client:</code>), all preserved request contexts are popped when the block exits, ensuring nested contexts are cleaned up correctly. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3157\">#3157</a>\n</li> <li>Show a better error message when the view return type is not supported. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3214\">#3214</a>\n</li> <li>\n<code>flask.testing.make_test_environ_builder()</code> has been deprecated in favour of a new class <code>flask.testing.EnvironBuilder</code>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/3232\">#3232</a>\n</li> <li>The <code>flask run</code> command no longer fails if Python is not built with SSL support. Using the <code>--cert</code> option will show an appropriate error message. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3211\">#3211</a>\n</li> <li>URL matching now occurs after the request context is pushed, rather than when it’s created. This allows custom URL converters to access the app and request contexts, such as to query a database for an id. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3088\">#3088</a>\n</li> </ul>   <h2 id=\"version-1-0-4\">Version 1.0.4</h2> <p>Released 2019-07-04</p> <ul class=\"simple\"> <li>The key information for <code>BadRequestKeyError</code> is no longer cleared outside debug mode, so error handlers can still access it. This requires upgrading to Werkzeug 0.15.5. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3249\">#3249</a>\n</li> <li>\n<code>send_file</code> url quotes the “:” and “/” characters for more compatible UTF-8 filename support in some browsers. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3074\">#3074</a>\n</li> <li>Fixes for PEP451 import loaders and pytest 5.x. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3275\">#3275</a>\n</li> <li>Show message about dotenv on stderr instead of stdout. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3285\">#3285</a>\n</li> </ul>   <h2 id=\"version-1-0-3\">Version 1.0.3</h2> <p>Released 2019-05-17</p> <ul class=\"simple\"> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.send_file\" title=\"flask.send_file\"><code>send_file()</code></a> encodes filenames as ASCII instead of Latin-1 (ISO-8859-1). This fixes compatibility with Gunicorn, which is stricter about header encodings than PEP 3333. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2766\">#2766</a>\n</li> <li>Allow custom CLIs using <code>FlaskGroup</code> to set the debug flag without it always being overwritten based on environment variables. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2765\">#2765</a>\n</li> <li>\n<code>flask --version</code> outputs Werkzeug’s version and simplifies the Python version. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2825\">#2825</a>\n</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.send_file\" title=\"flask.send_file\"><code>send_file()</code></a> handles an <code>attachment_filename</code> that is a native Python 2 string (bytes) with UTF-8 coded bytes. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2933\">#2933</a>\n</li> <li>A catch-all error handler registered for <code>HTTPException</code> will not handle <code>RoutingException</code>, which is used internally during routing. This fixes the unexpected behavior that had been introduced in 1.0. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2986\">#2986</a>\n</li> <li>Passing the <code>json</code> argument to <code>app.test_client</code> does not push/pop an extra app context. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2900\">#2900</a>\n</li> </ul>   <h2 id=\"version-1-0-2\">Version 1.0.2</h2> <p>Released 2018-05-02</p> <ul class=\"simple\"> <li>Fix more backwards compatibility issues with merging slashes between a blueprint prefix and route. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2748\">#2748</a>\n</li> <li>Fix error with <code>flask routes</code> command when there are no routes. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2751\">#2751</a>\n</li> </ul>   <h2 id=\"version-1-0-1\">Version 1.0.1</h2> <p>Released 2018-04-29</p> <ul class=\"simple\"> <li>Fix registering partials (with no <code>__name__</code>) as view functions. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2730\">#2730</a>\n</li> <li>Don’t treat lists returned from view functions the same as tuples. Only tuples are interpreted as response data. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2736\">#2736</a>\n</li> <li>Extra slashes between a blueprint’s <code>url_prefix</code> and a route URL are merged. This fixes some backwards compatibility issues with the change in 1.0. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2731\">#2731</a>, <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2742\">#2742</a>\n</li> <li>Only trap <code>BadRequestKeyError</code> errors in debug mode, not all <code>BadRequest</code> errors. This allows <code>abort(400)</code> to continue working as expected. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2735\">#2735</a>\n</li> <li>The <code>FLASK_SKIP_DOTENV</code> environment variable can be set to <code>1</code> to skip automatically loading dotenv files. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2722\">#2722</a>\n</li> </ul>   <h2 id=\"version-1-0\">Version 1.0</h2> <p>Released 2018-04-26</p> <ul class=\"simple\"> <li>Python 2.6 and 3.3 are no longer supported.</li> <li>Bump minimum dependency versions to the latest stable versions: Werkzeug &gt;= 0.14, Jinja &gt;= 2.10, itsdangerous &gt;= 0.24, Click &gt;= 5.1. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2586\">#2586</a>\n</li> <li>Skip <a class=\"reference internal\" href=\"../api/index#flask.Flask.run\" title=\"flask.Flask.run\"><code>app.run</code></a> when a Flask application is run from the command line. This avoids some behavior that was confusing to debug.</li> <li>Change the default for <a class=\"reference internal\" href=\"../config/index#JSONIFY_PRETTYPRINT_REGULAR\" title=\"JSONIFY_PRETTYPRINT_REGULAR\"><code>JSONIFY_PRETTYPRINT_REGULAR</code></a> to <code>False</code>. <a class=\"reference internal\" href=\"../api/index#flask.json.jsonify\" title=\"flask.json.jsonify\"><code>jsonify()</code></a> returns a compact format by default, and an indented format in debug mode. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2193\">#2193</a>\n</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.Flask\" title=\"flask.Flask\"><code>Flask.__init__</code></a> accepts the <code>host_matching</code> argument and sets it on <a class=\"reference internal\" href=\"../api/index#flask.Flask.url_map\" title=\"flask.Flask.url_map\"><code>url_map</code></a>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/1559\">#1559</a>\n</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.Flask\" title=\"flask.Flask\"><code>Flask.__init__</code></a> accepts the <code>static_host</code> argument and passes it as the <code>host</code> argument when defining the static route. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/1559\">#1559</a>\n</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.send_file\" title=\"flask.send_file\"><code>send_file()</code></a> supports Unicode in <code>attachment_filename</code>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2223\">#2223</a>\n</li> <li>Pass <code>_scheme</code> argument from <a class=\"reference internal\" href=\"../api/index#flask.url_for\" title=\"flask.url_for\"><code>url_for()</code></a> to <a class=\"reference internal\" href=\"../api/index#flask.Flask.handle_url_build_error\" title=\"flask.Flask.handle_url_build_error\"><code>handle_url_build_error()</code></a>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2017\">#2017</a>\n</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.Flask.add_url_rule\" title=\"flask.Flask.add_url_rule\"><code>add_url_rule()</code></a> accepts the <code>provide_automatic_options</code> argument to disable adding the <code>OPTIONS</code> method. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/1489\">#1489</a>\n</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.views.MethodView\" title=\"flask.views.MethodView\"><code>MethodView</code></a> subclasses inherit method handlers from base classes. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/1936\">#1936</a>\n</li> <li>Errors caused while opening the session at the beginning of the request are handled by the app’s error handlers. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2254\">#2254</a>\n</li> <li>Blueprints gained <a class=\"reference internal\" href=\"../api/index#flask.Blueprint.json_encoder\" title=\"flask.Blueprint.json_encoder\"><code>json_encoder</code></a> and <a class=\"reference internal\" href=\"../api/index#flask.Blueprint.json_decoder\" title=\"flask.Blueprint.json_decoder\"><code>json_decoder</code></a> attributes to override the app’s encoder and decoder. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/1898\">#1898</a>\n</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.Flask.make_response\" title=\"flask.Flask.make_response\"><code>Flask.make_response()</code></a> raises <code>TypeError</code> instead of <code>ValueError</code> for bad response types. The error messages have been improved to describe why the type is invalid. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2256\">#2256</a>\n</li> <li>Add <code>routes</code> CLI command to output routes registered on the application. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2259\">#2259</a>\n</li> <li>Show warning when session cookie domain is a bare hostname or an IP address, as these may not behave properly in some browsers, such as Chrome. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2282\">#2282</a>\n</li> <li>Allow IP address as exact session cookie domain. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2282\">#2282</a>\n</li> <li>\n<code>SESSION_COOKIE_DOMAIN</code> is set if it is detected through <code>SERVER_NAME</code>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2282\">#2282</a>\n</li> <li>Auto-detect zero-argument app factory called <code>create_app</code> or <code>make_app</code> from <code>FLASK_APP</code>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2297\">#2297</a>\n</li> <li>Factory functions are not required to take a <code>script_info</code> parameter to work with the <code>flask</code> command. If they take a single parameter or a parameter named <code>script_info</code>, the <a class=\"reference internal\" href=\"../api/index#flask.cli.ScriptInfo\" title=\"flask.cli.ScriptInfo\"><code>ScriptInfo</code></a> object will be passed. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2319\">#2319</a>\n</li> <li>\n<code>FLASK_APP</code> can be set to an app factory, with arguments if needed, for example <code>FLASK_APP=myproject.app:create_app('dev')</code>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2326\">#2326</a>\n</li> <li>\n<code>FLASK_APP</code> can point to local packages that are not installed in editable mode, although <code>pip install -e</code> is still preferred. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2414\">#2414</a>\n</li> <li>The <a class=\"reference internal\" href=\"../api/index#flask.views.View\" title=\"flask.views.View\"><code>View</code></a> class attribute <a class=\"reference internal\" href=\"../api/index#flask.views.View.provide_automatic_options\" title=\"flask.views.View.provide_automatic_options\"><code>provide_automatic_options</code></a> is set in <a class=\"reference internal\" href=\"../api/index#flask.views.View.as_view\" title=\"flask.views.View.as_view\"><code>as_view()</code></a>, to be detected by <a class=\"reference internal\" href=\"../api/index#flask.Flask.add_url_rule\" title=\"flask.Flask.add_url_rule\"><code>add_url_rule()</code></a>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2316\">#2316</a>\n</li> <li>Error handling will try handlers registered for <code>blueprint, code</code>, <code>app, code</code>, <code>blueprint, exception</code>, <code>app, exception</code>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2314\">#2314</a>\n</li> <li>\n<code>Cookie</code> is added to the response’s <code>Vary</code> header if the session is accessed at all during the request (and not deleted). <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2288\">#2288</a>\n</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.Flask.test_request_context\" title=\"flask.Flask.test_request_context\"><code>test_request_context()</code></a> accepts <code>subdomain</code> and <code>url_scheme</code> arguments for use when building the base URL. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/1621\">#1621</a>\n</li> <li>Set <a class=\"reference internal\" href=\"../config/index#APPLICATION_ROOT\" title=\"APPLICATION_ROOT\"><code>APPLICATION_ROOT</code></a> to <code>'/'</code> by default. This was already the implicit default when it was set to <code>None</code>.</li> <li>\n<a class=\"reference internal\" href=\"../config/index#TRAP_BAD_REQUEST_ERRORS\" title=\"TRAP_BAD_REQUEST_ERRORS\"><code>TRAP_BAD_REQUEST_ERRORS</code></a> is enabled by default in debug mode. <code>BadRequestKeyError</code> has a message with the bad key in debug mode instead of the generic bad request message. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2348\">#2348</a>\n</li> <li>Allow registering new tags with <a class=\"reference internal\" href=\"../api/index#flask.json.tag.TaggedJSONSerializer\" title=\"flask.json.tag.TaggedJSONSerializer\"><code>TaggedJSONSerializer</code></a> to support storing other types in the session cookie. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2352\">#2352</a>\n</li> <li>Only open the session if the request has not been pushed onto the context stack yet. This allows <a class=\"reference internal\" href=\"../api/index#flask.stream_with_context\" title=\"flask.stream_with_context\"><code>stream_with_context()</code></a> generators to access the same session that the containing view uses. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2354\">#2354</a>\n</li> <li>Add <code>json</code> keyword argument for the test client request methods. This will dump the given object as JSON and set the appropriate content type. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2358\">#2358</a>\n</li> <li>Extract JSON handling to a mixin applied to both the <a class=\"reference internal\" href=\"../api/index#flask.Request\" title=\"flask.Request\"><code>Request</code></a> and <a class=\"reference internal\" href=\"../api/index#flask.Response\" title=\"flask.Response\"><code>Response</code></a> classes. This adds the <a class=\"reference internal\" href=\"../api/index#flask.Response.is_json\" title=\"flask.Response.is_json\"><code>is_json()</code></a> and <a class=\"reference internal\" href=\"../api/index#flask.Response.get_json\" title=\"flask.Response.get_json\"><code>get_json()</code></a> methods to the response to make testing JSON response much easier. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2358\">#2358</a>\n</li> <li>Removed error handler caching because it caused unexpected results for some exception inheritance hierarchies. Register handlers explicitly for each exception if you want to avoid traversing the MRO. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2362\">#2362</a>\n</li> <li>Fix incorrect JSON encoding of aware, non-UTC datetimes. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2374\">#2374</a>\n</li> <li>Template auto reloading will honor debug mode even even if <a class=\"reference internal\" href=\"../api/index#flask.Flask.jinja_env\" title=\"flask.Flask.jinja_env\"><code>jinja_env</code></a> was already accessed. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2373\">#2373</a>\n</li> <li>\n<p>The following old deprecated code was removed. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2385\">#2385</a></p> <ul> <li>\n<code>flask.ext</code> - import extensions directly by their name instead of through the <code>flask.ext</code> namespace. For example, <code>import flask.ext.sqlalchemy</code> becomes <code>import flask_sqlalchemy</code>.</li> <li>\n<code>Flask.init_jinja_globals</code> - extend <a class=\"reference internal\" href=\"../api/index#flask.Flask.create_jinja_environment\" title=\"flask.Flask.create_jinja_environment\"><code>Flask.create_jinja_environment()</code></a> instead.</li> <li>\n<code>Flask.error_handlers</code> - tracked by <a class=\"reference internal\" href=\"../api/index#flask.Flask.error_handler_spec\" title=\"flask.Flask.error_handler_spec\"><code>Flask.error_handler_spec</code></a>, use <a class=\"reference internal\" href=\"../api/index#flask.Flask.errorhandler\" title=\"flask.Flask.errorhandler\"><code>Flask.errorhandler()</code></a> to register handlers.</li> <li>\n<code>Flask.request_globals_class</code> - use <a class=\"reference internal\" href=\"../api/index#flask.Flask.app_ctx_globals_class\" title=\"flask.Flask.app_ctx_globals_class\"><code>Flask.app_ctx_globals_class</code></a> instead.</li> <li>\n<code>Flask.static_path</code> - use <a class=\"reference internal\" href=\"../api/index#flask.Flask.static_url_path\" title=\"flask.Flask.static_url_path\"><code>Flask.static_url_path</code></a> instead.</li> <li>\n<code>Request.module</code> - use <a class=\"reference internal\" href=\"../api/index#flask.Request.blueprint\" title=\"flask.Request.blueprint\"><code>Request.blueprint</code></a> instead.</li> </ul> </li> <li>The <a class=\"reference internal\" href=\"../api/index#flask.Request.json\" title=\"flask.Request.json\"><code>Request.json</code></a> property is no longer deprecated. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/1421\">#1421</a>\n</li> <li>Support passing a <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/test/#werkzeug.test.EnvironBuilder\" title=\"(in Werkzeug v2.0.x)\"><code>EnvironBuilder</code></a> or <code>dict</code> to <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/en/2.0.x/test/#werkzeug.test.Client.open\" title=\"(in Werkzeug v2.0.x)\"><code>test_client.open</code></a>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2412\">#2412</a>\n</li> <li>The <code>flask</code> command and <a class=\"reference internal\" href=\"../api/index#flask.Flask.run\" title=\"flask.Flask.run\"><code>Flask.run()</code></a> will load environment variables from <code>.env</code> and <code>.flaskenv</code> files if python-dotenv is installed. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2416\">#2416</a>\n</li> <li>When passing a full URL to the test client, the scheme in the URL is used instead of <a class=\"reference internal\" href=\"../config/index#PREFERRED_URL_SCHEME\" title=\"PREFERRED_URL_SCHEME\"><code>PREFERRED_URL_SCHEME</code></a>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2430\">#2430</a>\n</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.Flask.logger\" title=\"flask.Flask.logger\"><code>Flask.logger</code></a> has been simplified. <code>LOGGER_NAME</code> and <code>LOGGER_HANDLER_POLICY</code> config was removed. The logger is always named <code>flask.app</code>. The level is only set on first access, it doesn’t check <a class=\"reference internal\" href=\"../api/index#flask.Flask.debug\" title=\"flask.Flask.debug\"><code>Flask.debug</code></a> each time. Only one format is used, not different ones depending on <a class=\"reference internal\" href=\"../api/index#flask.Flask.debug\" title=\"flask.Flask.debug\"><code>Flask.debug</code></a>. No handlers are removed, and a handler is only added if no handlers are already configured. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2436\">#2436</a>\n</li> <li>Blueprint view function names may not contain dots. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2450\">#2450</a>\n</li> <li>Fix a <code>ValueError</code> caused by invalid <code>Range</code> requests in some cases. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2526\">#2526</a>\n</li> <li>The development server uses threads by default. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2529\">#2529</a>\n</li> <li>Loading config files with <code>silent=True</code> will ignore <a class=\"reference external\" href=\"https://docs.python.org/3/library/errno.html#errno.ENOTDIR\" title=\"(in Python v3.9)\"><code>ENOTDIR</code></a> errors. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2581\">#2581</a>\n</li> <li>Pass <code>--cert</code> and <code>--key</code> options to <code>flask run</code> to run the development server over HTTPS. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2606\">#2606</a>\n</li> <li>Added <a class=\"reference internal\" href=\"../config/index#SESSION_COOKIE_SAMESITE\" title=\"SESSION_COOKIE_SAMESITE\"><code>SESSION_COOKIE_SAMESITE</code></a> to control the <code>SameSite</code> attribute on the session cookie. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2607\">#2607</a>\n</li> <li>Added <a class=\"reference internal\" href=\"../api/index#flask.Flask.test_cli_runner\" title=\"flask.Flask.test_cli_runner\"><code>test_cli_runner()</code></a> to create a Click runner that can invoke Flask CLI commands for testing. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2636\">#2636</a>\n</li> <li>Subdomain matching is disabled by default and setting <a class=\"reference internal\" href=\"../config/index#SERVER_NAME\" title=\"SERVER_NAME\"><code>SERVER_NAME</code></a> does not implicitly enable it. It can be enabled by passing <code>subdomain_matching=True</code> to the <code>Flask</code> constructor. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2635\">#2635</a>\n</li> <li>A single trailing slash is stripped from the blueprint <code>url_prefix</code> when it is registered with the app. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2629\">#2629</a>\n</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.Request.get_json\" title=\"flask.Request.get_json\"><code>Request.get_json()</code></a> doesn’t cache the result if parsing fails when <code>silent</code> is true. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2651\">#2651</a>\n</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.Request.get_json\" title=\"flask.Request.get_json\"><code>Request.get_json()</code></a> no longer accepts arbitrary encodings. Incoming JSON should be encoded using UTF-8 per <a class=\"rfc reference external\" href=\"https://tools.ietf.org/html/rfc8259.html\" id=\"index-0\"><strong>RFC 8259</strong></a>, but Flask will autodetect UTF-8, -16, or -32. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2691\">#2691</a>\n</li> <li>Added <a class=\"reference internal\" href=\"../config/index#MAX_COOKIE_SIZE\" title=\"MAX_COOKIE_SIZE\"><code>MAX_COOKIE_SIZE</code></a> and <a class=\"reference internal\" href=\"../api/index#flask.Response.max_cookie_size\" title=\"flask.Response.max_cookie_size\"><code>Response.max_cookie_size</code></a> to control when Werkzeug warns about large cookies that browsers may ignore. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2693\">#2693</a>\n</li> <li>Updated documentation theme to make docs look better in small windows. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2709\">#2709</a>\n</li> <li>Rewrote the tutorial docs and example project to take a more structured approach to help new users avoid common pitfalls. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2676\">#2676</a>\n</li> </ul>   <h2 id=\"version-0-12-5\">Version 0.12.5</h2> <p>Released 2020-02-10</p> <ul class=\"simple\"> <li>Pin Werkzeug to &lt; 1.0.0. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/3497\">#3497</a>\n</li> </ul>   <h2 id=\"version-0-12-4\">Version 0.12.4</h2> <p>Released 2018-04-29</p> <ul class=\"simple\"> <li>Repackage 0.12.3 to fix package layout issue. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2728\">#2728</a>\n</li> </ul>   <h2 id=\"version-0-12-3\">Version 0.12.3</h2> <p>Released 2018-04-26</p> <ul class=\"simple\"> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.Request.get_json\" title=\"flask.Request.get_json\"><code>Request.get_json()</code></a> no longer accepts arbitrary encodings. Incoming JSON should be encoded using UTF-8 per <a class=\"rfc reference external\" href=\"https://tools.ietf.org/html/rfc8259.html\" id=\"index-1\"><strong>RFC 8259</strong></a>, but Flask will autodetect UTF-8, -16, or -32. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2692\">#2692</a>\n</li> <li>Fix a Python warning about imports when using <code>python -m flask</code>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2666\">#2666</a>\n</li> <li>Fix a <code>ValueError</code> caused by invalid <code>Range</code> requests in some cases.</li> </ul>   <h2 id=\"version-0-12-2\">Version 0.12.2</h2> <p>Released 2017-05-16</p> <ul class=\"simple\"> <li>Fix a bug in <code>safe_join</code> on Windows.</li> </ul>   <h2 id=\"version-0-12-1\">Version 0.12.1</h2> <p>Released 2017-03-31</p> <ul class=\"simple\"> <li>Prevent <code>flask run</code> from showing a <code>NoAppException</code> when an <code>ImportError</code> occurs within the imported application module.</li> <li>Fix encoding behavior of <code>app.config.from_pyfile</code> for Python 3. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2118\">#2118</a>\n</li> <li>Use the <code>SERVER_NAME</code> config if it is present as default values for <code>app.run</code>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/2109\">#2109</a>, <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2152\">#2152</a>\n</li> <li>Call <code>ctx.auto_pop</code> with the exception object instead of <code>None</code>, in the event that a <code>BaseException</code> such as <code>KeyboardInterrupt</code> is raised in a request handler.</li> </ul>   <h2 id=\"version-0-12\">Version 0.12</h2> <p>Released 2016-12-21, codename Punsch</p> <ul class=\"simple\"> <li>The cli command now responds to <code>--version</code>.</li> <li>Mimetype guessing and ETag generation for file-like objects in <code>send_file</code> has been removed. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/104\">#104</a>, :pr`1849`</li> <li>Mimetype guessing in <code>send_file</code> now fails loudly and doesn’t fall back to <code>application/octet-stream</code>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/1988\">#1988</a>\n</li> <li>Make <code>flask.safe_join</code> able to join multiple paths like <code>os.path.join</code> <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/1730\">#1730</a>\n</li> <li>Revert a behavior change that made the dev server crash instead of returning an Internal Server Error. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/2006\">#2006</a>\n</li> <li>Correctly invoke response handlers for both regular request dispatching as well as error handlers.</li> <li>Disable logger propagation by default for the app logger.</li> <li>Add support for range requests in <code>send_file</code>.</li> <li>\n<code>app.test_client</code> includes preset default environment, which can now be directly set, instead of per <code>client.get</code>.</li> <li>Fix crash when running under PyPy3. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/1814\">#1814</a>\n</li> </ul>   <h2 id=\"version-0-11-1\">Version 0.11.1</h2> <p>Released 2016-06-07</p> <ul class=\"simple\"> <li>Fixed a bug that prevented <code>FLASK_APP=foobar/__init__.py</code> from working. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/1872\">#1872</a>\n</li> </ul>   <h2 id=\"version-0-11\">Version 0.11</h2> <p>Released 2016-05-29, codename Absinthe</p> <ul class=\"simple\"> <li>Added support to serializing top-level arrays to <code>flask.jsonify()</code>. This introduces a security risk in ancient browsers.</li> <li>Added before_render_template signal.</li> <li>Added <code>**kwargs</code> to <code>flask.Test.test_client()</code> to support passing additional keyword arguments to the constructor of <a class=\"reference internal\" href=\"../api/index#flask.Flask.test_client_class\" title=\"flask.Flask.test_client_class\"><code>flask.Flask.test_client_class</code></a>.</li> <li>Added <code>SESSION_REFRESH_EACH_REQUEST</code> config key that controls the set-cookie behavior. If set to <code>True</code> a permanent session will be refreshed each request and get their lifetime extended, if set to <code>False</code> it will only be modified if the session actually modifies. Non permanent sessions are not affected by this and will always expire if the browser window closes.</li> <li>Made Flask support custom JSON mimetypes for incoming data.</li> <li>Added support for returning tuples in the form <code>(response,\nheaders)</code> from a view function.</li> <li>Added <code>flask.Config.from_json()</code>.</li> <li>Added <a class=\"reference internal\" href=\"../api/index#flask.Flask.config_class\" title=\"flask.Flask.config_class\"><code>flask.Flask.config_class</code></a>.</li> <li>Added <a class=\"reference internal\" href=\"../api/index#flask.Config.get_namespace\" title=\"flask.Config.get_namespace\"><code>flask.Config.get_namespace()</code></a>.</li> <li>Templates are no longer automatically reloaded outside of debug mode. This can be configured with the new <code>TEMPLATES_AUTO_RELOAD</code> config key.</li> <li>Added a workaround for a limitation in Python 3.3’s namespace loader.</li> <li>Added support for explicit root paths when using Python 3.3’s namespace packages.</li> <li>Added <strong class=\"command\">flask</strong> and the <code>flask.cli</code> module to start the local debug server through the click CLI system. This is recommended over the old <code>flask.run()</code> method as it works faster and more reliable due to a different design and also replaces <code>Flask-Script</code>.</li> <li>Error handlers that match specific classes are now checked first, thereby allowing catching exceptions that are subclasses of HTTP exceptions (in <code>werkzeug.exceptions</code>). This makes it possible for an extension author to create exceptions that will by default result in the HTTP error of their choosing, but may be caught with a custom error handler if desired.</li> <li>Added <a class=\"reference internal\" href=\"../api/index#flask.Config.from_mapping\" title=\"flask.Config.from_mapping\"><code>flask.Config.from_mapping()</code></a>.</li> <li>Flask will now log by default even if debug is disabled. The log format is now hardcoded but the default log handling can be disabled through the <code>LOGGER_HANDLER_POLICY</code> configuration key.</li> <li>Removed deprecated module functionality.</li> <li>Added the <code>EXPLAIN_TEMPLATE_LOADING</code> config flag which when enabled will instruct Flask to explain how it locates templates. This should help users debug when the wrong templates are loaded.</li> <li>Enforce blueprint handling in the order they were registered for template loading.</li> <li>Ported test suite to py.test.</li> <li>Deprecated <code>request.json</code> in favour of <code>request.get_json()</code>.</li> <li>Add “pretty” and “compressed” separators definitions in jsonify() method. Reduces JSON response size when <code>JSONIFY_PRETTYPRINT_REGULAR=False</code> by removing unnecessary white space included by default after separators.</li> <li>JSON responses are now terminated with a newline character, because it is a convention that UNIX text files end with a newline and some clients don’t deal well when this newline is missing. This came up originally as a part of <a class=\"reference external\" href=\"https://github.com/postmanlabs/httpbin/issues/168\">https://github.com/postmanlabs/httpbin/issues/168</a>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/1262\">#1262</a>\n</li> <li>The automatically provided <code>OPTIONS</code> method is now correctly disabled if the user registered an overriding rule with the lowercase-version <code>options</code>. <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/1288\">#1288</a>\n</li> <li>\n<code>flask.json.jsonify</code> now supports the <code>datetime.date</code> type. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/1326\">#1326</a>\n</li> <li>Don’t leak exception info of already caught exceptions to context teardown handlers. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/1393\">#1393</a>\n</li> <li>Allow custom Jinja environment subclasses. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/1422\">#1422</a>\n</li> <li>Updated extension dev guidelines.</li> <li>\n<code>flask.g</code> now has <code>pop()</code> and <code>setdefault</code> methods.</li> <li>Turn on autoescape for <code>flask.templating.render_template_string</code> by default. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/1515\">#1515</a>\n</li> <li>\n<code>flask.ext</code> is now deprecated. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/1484\">#1484</a>\n</li> <li>\n<code>send_from_directory</code> now raises BadRequest if the filename is invalid on the server OS. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/1763\">#1763</a>\n</li> <li>Added the <code>JSONIFY_MIMETYPE</code> configuration variable. <a class=\"reference external\" href=\"https://github.com/pallets/flask/pull/1728\">#1728</a>\n</li> <li>Exceptions during teardown handling will no longer leave bad application contexts lingering around.</li> <li>Fixed broken <code>test_appcontext_signals()</code> test case.</li> <li>Raise an <a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#AttributeError\" title=\"(in Python v3.9)\"><code>AttributeError</code></a> in <code>flask.helpers.find_package()</code> with a useful message explaining why it is raised when a PEP 302 import hook is used without an <code>is_package()</code> method.</li> <li>Fixed an issue causing exceptions raised before entering a request or app context to be passed to teardown handlers.</li> <li>Fixed an issue with query parameters getting removed from requests in the test client when absolute URLs were requested.</li> <li>Made <code>@before_first_request</code> into a decorator as intended.</li> <li>Fixed an etags bug when sending a file streams with a name.</li> <li>Fixed <code>send_from_directory</code> not expanding to the application root path correctly.</li> <li>Changed logic of before first request handlers to flip the flag after invoking. This will allow some uses that are potentially dangerous but should probably be permitted.</li> <li>Fixed Python 3 bug when a handler from <code>app.url_build_error_handlers</code> reraises the <code>BuildError</code>.</li> </ul>   <h2 id=\"version-0-10-1\">Version 0.10.1</h2> <p>Released 2013-06-14</p> <ul class=\"simple\"> <li>Fixed an issue where <code>|tojson</code> was not quoting single quotes which made the filter not work properly in HTML attributes. Now it’s possible to use that filter in single quoted attributes. This should make using that filter with angular.js easier.</li> <li>Added support for byte strings back to the session system. This broke compatibility with the common case of people putting binary data for token verification into the session.</li> <li>Fixed an issue where registering the same method twice for the same endpoint would trigger an exception incorrectly.</li> </ul>   <h2 id=\"version-0-10\">Version 0.10</h2> <p>Released 2013-06-13, codename Limoncello</p> <ul class=\"simple\"> <li>Changed default cookie serialization format from pickle to JSON to limit the impact an attacker can do if the secret key leaks.</li> <li>Added <code>template_test</code> methods in addition to the already existing <code>template_filter</code> method family.</li> <li>Added <code>template_global</code> methods in addition to the already existing <code>template_filter</code> method family.</li> <li>Set the content-length header for x-sendfile.</li> <li>\n<code>tojson</code> filter now does not escape script blocks in HTML5 parsers.</li> <li>\n<code>tojson</code> used in templates is now safe by default due. This was allowed due to the different escaping behavior.</li> <li>Flask will now raise an error if you attempt to register a new function on an already used endpoint.</li> <li>Added wrapper module around simplejson and added default serialization of datetime objects. This allows much easier customization of how JSON is handled by Flask or any Flask extension.</li> <li>Removed deprecated internal <code>flask.session</code> module alias. Use <code>flask.sessions</code> instead to get the session module. This is not to be confused with <code>flask.session</code> the session proxy.</li> <li>Templates can now be rendered without request context. The behavior is slightly different as the <code>request</code>, <code>session</code> and <code>g</code> objects will not be available and blueprint’s context processors are not called.</li> <li>The config object is now available to the template as a real global and not through a context processor which makes it available even in imported templates by default.</li> <li>Added an option to generate non-ascii encoded JSON which should result in less bytes being transmitted over the network. It’s disabled by default to not cause confusion with existing libraries that might expect <code>flask.json.dumps</code> to return bytes by default.</li> <li>\n<code>flask.g</code> is now stored on the app context instead of the request context.</li> <li>\n<code>flask.g</code> now gained a <code>get()</code> method for not erroring out on non existing items.</li> <li>\n<code>flask.g</code> now can be used with the <code>in</code> operator to see what’s defined and it now is iterable and will yield all attributes stored.</li> <li>\n<code>flask.Flask.request_globals_class</code> got renamed to <code>flask.Flask.app_ctx_globals_class</code> which is a better name to what it does since 0.10.</li> <li>\n<code>request</code>, <code>session</code> and <code>g</code> are now also added as proxies to the template context which makes them available in imported templates. One has to be very careful with those though because usage outside of macros might cause caching.</li> <li>Flask will no longer invoke the wrong error handlers if a proxy exception is passed through.</li> <li>Added a workaround for chrome’s cookies in localhost not working as intended with domain names.</li> <li>Changed logic for picking defaults for cookie values from sessions to work better with Google Chrome.</li> <li>Added <code>message_flashed</code> signal that simplifies flashing testing.</li> <li>Added support for copying of request contexts for better working with greenlets.</li> <li>Removed custom JSON HTTP exception subclasses. If you were relying on them you can reintroduce them again yourself trivially. Using them however is strongly discouraged as the interface was flawed.</li> <li>Python requirements changed: requiring Python 2.6 or 2.7 now to prepare for Python 3.3 port.</li> <li>Changed how the teardown system is informed about exceptions. This is now more reliable in case something handles an exception halfway through the error handling process.</li> <li>Request context preservation in debug mode now keeps the exception information around which means that teardown handlers are able to distinguish error from success cases.</li> <li>Added the <code>JSONIFY_PRETTYPRINT_REGULAR</code> configuration variable.</li> <li>Flask now orders JSON keys by default to not trash HTTP caches due to different hash seeds between different workers.</li> <li>Added <code>appcontext_pushed</code> and <code>appcontext_popped</code> signals.</li> <li>The builtin run method now takes the <code>SERVER_NAME</code> into account when picking the default port to run on.</li> <li>Added <code>flask.request.get_json()</code> as a replacement for the old <code>flask.request.json</code> property.</li> </ul>   <h2 id=\"version-0-9\">Version 0.9</h2> <p>Released 2012-07-01, codename Campari</p> <ul class=\"simple\"> <li>The <a class=\"reference internal\" href=\"../api/index#flask.Request.on_json_loading_failed\" title=\"flask.Request.on_json_loading_failed\"><code>flask.Request.on_json_loading_failed()</code></a> now returns a JSON formatted response by default.</li> <li>The <a class=\"reference internal\" href=\"../api/index#flask.url_for\" title=\"flask.url_for\"><code>flask.url_for()</code></a> function now can generate anchors to the generated links.</li> <li>The <a class=\"reference internal\" href=\"../api/index#flask.url_for\" title=\"flask.url_for\"><code>flask.url_for()</code></a> function now can also explicitly generate URL rules specific to a given HTTP method.</li> <li>Logger now only returns the debug log setting if it was not set explicitly.</li> <li>Unregister a circular dependency between the WSGI environment and the request object when shutting down the request. This means that environ <code>werkzeug.request</code> will be <code>None</code> after the response was returned to the WSGI server but has the advantage that the garbage collector is not needed on CPython to tear down the request unless the user created circular dependencies themselves.</li> <li>Session is now stored after callbacks so that if the session payload is stored in the session you can still modify it in an after request callback.</li> <li>The <a class=\"reference internal\" href=\"../api/index#flask.Flask\" title=\"flask.Flask\"><code>flask.Flask</code></a> class will avoid importing the provided import name if it can (the required first parameter), to benefit tools which build Flask instances programmatically. The Flask class will fall back to using import on systems with custom module hooks, e.g. Google App Engine, or when the import name is inside a zip archive (usually a .egg) prior to Python 2.7.</li> <li>Blueprints now have a decorator to add custom template filters application wide, <a class=\"reference internal\" href=\"../api/index#flask.Blueprint.app_template_filter\" title=\"flask.Blueprint.app_template_filter\"><code>flask.Blueprint.app_template_filter()</code></a>.</li> <li>The Flask and Blueprint classes now have a non-decorator method for adding custom template filters application wide, <a class=\"reference internal\" href=\"../api/index#flask.Flask.add_template_filter\" title=\"flask.Flask.add_template_filter\"><code>flask.Flask.add_template_filter()</code></a> and <a class=\"reference internal\" href=\"../api/index#flask.Blueprint.add_app_template_filter\" title=\"flask.Blueprint.add_app_template_filter\"><code>flask.Blueprint.add_app_template_filter()</code></a>.</li> <li>The <a class=\"reference internal\" href=\"../api/index#flask.get_flashed_messages\" title=\"flask.get_flashed_messages\"><code>flask.get_flashed_messages()</code></a> function now allows rendering flashed message categories in separate blocks, through a <code>category_filter</code> argument.</li> <li>The <a class=\"reference internal\" href=\"../api/index#flask.Flask.run\" title=\"flask.Flask.run\"><code>flask.Flask.run()</code></a> method now accepts <code>None</code> for <code>host</code> and <code>port</code> arguments, using default values when <code>None</code>. This allows for calling run using configuration values, e.g. <code>app.run(app.config.get('MYHOST'), app.config.get('MYPORT'))</code>, with proper behavior whether or not a config file is provided.</li> <li>The <a class=\"reference internal\" href=\"../api/index#flask.render_template\" title=\"flask.render_template\"><code>flask.render_template()</code></a> method now accepts a either an iterable of template names or a single template name. Previously, it only accepted a single template name. On an iterable, the first template found is rendered.</li> <li>Added <a class=\"reference internal\" href=\"../api/index#flask.Flask.app_context\" title=\"flask.Flask.app_context\"><code>flask.Flask.app_context()</code></a> which works very similar to the request context but only provides access to the current application. This also adds support for URL generation without an active request context.</li> <li>View functions can now return a tuple with the first instance being an instance of <a class=\"reference internal\" href=\"../api/index#flask.Response\" title=\"flask.Response\"><code>flask.Response</code></a>. This allows for returning <code>jsonify(error=\"error msg\"), 400</code> from a view function.</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.Flask\" title=\"flask.Flask\"><code>Flask</code></a> and <a class=\"reference internal\" href=\"../api/index#flask.Blueprint\" title=\"flask.Blueprint\"><code>Blueprint</code></a> now provide a <a class=\"reference internal\" href=\"../api/index#flask.Flask.get_send_file_max_age\" title=\"flask.Flask.get_send_file_max_age\"><code>get_send_file_max_age()</code></a> hook for subclasses to override behavior of serving static files from Flask when using <a class=\"reference internal\" href=\"../api/index#flask.Flask.send_static_file\" title=\"flask.Flask.send_static_file\"><code>flask.Flask.send_static_file()</code></a> (used for the default static file handler) and <code>send_file()</code>. This hook is provided a filename, which for example allows changing cache controls by file extension. The default max-age for <code>send_file</code> and static files can be configured through a new <code>SEND_FILE_MAX_AGE_DEFAULT</code> configuration variable, which is used in the default <code>get_send_file_max_age</code> implementation.</li> <li>Fixed an assumption in sessions implementation which could break message flashing on sessions implementations which use external storage.</li> <li>Changed the behavior of tuple return values from functions. They are no longer arguments to the response object, they now have a defined meaning.</li> <li>Added <code>flask.Flask.request_globals_class</code> to allow a specific class to be used on creation of the <a class=\"reference internal\" href=\"../api/index#flask.g\" title=\"flask.g\"><code>g</code></a> instance of each request.</li> <li>Added <code>required_methods</code> attribute to view functions to force-add methods on registration.</li> <li>Added <a class=\"reference internal\" href=\"../api/index#flask.after_this_request\" title=\"flask.after_this_request\"><code>flask.after_this_request()</code></a>.</li> <li>Added <a class=\"reference internal\" href=\"../api/index#flask.stream_with_context\" title=\"flask.stream_with_context\"><code>flask.stream_with_context()</code></a> and the ability to push contexts multiple times without producing unexpected behavior.</li> </ul>   <h2 id=\"version-0-8-1\">Version 0.8.1</h2> <p>Released 2012-07-01</p> <ul class=\"simple\"> <li>Fixed an issue with the undocumented <code>flask.session</code> module to not work properly on Python 2.5. It should not be used but did cause some problems for package managers.</li> </ul>   <h2 id=\"version-0-8\">Version 0.8</h2> <p>Released 2011-09-29, codename Rakija</p> <ul class=\"simple\"> <li>Refactored session support into a session interface so that the implementation of the sessions can be changed without having to override the Flask class.</li> <li>Empty session cookies are now deleted properly automatically.</li> <li>View functions can now opt out of getting the automatic OPTIONS implementation.</li> <li>HTTP exceptions and Bad Request errors can now be trapped so that they show up normally in the traceback.</li> <li>Flask in debug mode is now detecting some common problems and tries to warn you about them.</li> <li>Flask in debug mode will now complain with an assertion error if a view was attached after the first request was handled. This gives earlier feedback when users forget to import view code ahead of time.</li> <li>Added the ability to register callbacks that are only triggered once at the beginning of the first request. (<a class=\"reference internal\" href=\"../api/index#flask.Flask.before_first_request\" title=\"flask.Flask.before_first_request\"><code>Flask.before_first_request()</code></a>)</li> <li>Malformed JSON data will now trigger a bad request HTTP exception instead of a value error which usually would result in a 500 internal server error if not handled. This is a backwards incompatible change.</li> <li>Applications now not only have a root path where the resources and modules are located but also an instance path which is the designated place to drop files that are modified at runtime (uploads etc.). Also this is conceptually only instance depending and outside version control so it’s the perfect place to put configuration files etc.</li> <li>Added the <code>APPLICATION_ROOT</code> configuration variable.</li> <li>Implemented <code>session_transaction()</code> to easily modify sessions from the test environment.</li> <li>Refactored test client internally. The <code>APPLICATION_ROOT</code> configuration variable as well as <code>SERVER_NAME</code> are now properly used by the test client as defaults.</li> <li>Added <a class=\"reference internal\" href=\"../api/index#flask.views.View.decorators\" title=\"flask.views.View.decorators\"><code>flask.views.View.decorators</code></a> to support simpler decorating of pluggable (class-based) views.</li> <li>Fixed an issue where the test client if used with the “with” statement did not trigger the execution of the teardown handlers.</li> <li>Added finer control over the session cookie parameters.</li> <li>HEAD requests to a method view now automatically dispatch to the <code>get</code> method if no handler was implemented.</li> <li>Implemented the virtual <code>flask.ext</code> package to import extensions from.</li> <li>The context preservation on exceptions is now an integral component of Flask itself and no longer of the test client. This cleaned up some internal logic and lowers the odds of runaway request contexts in unittests.</li> <li>Fixed the Jinja2 environment’s <code>list_templates</code> method not returning the correct names when blueprints or modules were involved.</li> </ul>   <h2 id=\"version-0-7-2\">Version 0.7.2</h2> <p>Released 2011-07-06</p> <ul class=\"simple\"> <li>Fixed an issue with URL processors not properly working on blueprints.</li> </ul>   <h2 id=\"version-0-7-1\">Version 0.7.1</h2> <p>Released 2011-06-29</p> <ul class=\"simple\"> <li>Added missing future import that broke 2.5 compatibility.</li> <li>Fixed an infinite redirect issue with blueprints.</li> </ul>   <h2 id=\"version-0-7\">Version 0.7</h2> <p>Released 2011-06-28, codename Grappa</p> <ul class=\"simple\"> <li>Added <a class=\"reference internal\" href=\"../api/index#flask.Flask.make_default_options_response\" title=\"flask.Flask.make_default_options_response\"><code>make_default_options_response()</code></a> which can be used by subclasses to alter the default behavior for <code>OPTIONS</code> responses.</li> <li>Unbound locals now raise a proper <a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#RuntimeError\" title=\"(in Python v3.9)\"><code>RuntimeError</code></a> instead of an <a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#AttributeError\" title=\"(in Python v3.9)\"><code>AttributeError</code></a>.</li> <li>Mimetype guessing and etag support based on file objects is now deprecated for <a class=\"reference internal\" href=\"../api/index#flask.send_file\" title=\"flask.send_file\"><code>flask.send_file()</code></a> because it was unreliable. Pass filenames instead or attach your own etags and provide a proper mimetype by hand.</li> <li>Static file handling for modules now requires the name of the static folder to be supplied explicitly. The previous autodetection was not reliable and caused issues on Google’s App Engine. Until 1.0 the old behavior will continue to work but issue dependency warnings.</li> <li>Fixed a problem for Flask to run on jython.</li> <li>Added a <code>PROPAGATE_EXCEPTIONS</code> configuration variable that can be used to flip the setting of exception propagation which previously was linked to <code>DEBUG</code> alone and is now linked to either <code>DEBUG</code> or <code>TESTING</code>.</li> <li>Flask no longer internally depends on rules being added through the <code>add_url_rule</code> function and can now also accept regular werkzeug rules added to the url map.</li> <li>Added an <code>endpoint</code> method to the flask application object which allows one to register a callback to an arbitrary endpoint with a decorator.</li> <li>Use Last-Modified for static file sending instead of Date which was incorrectly introduced in 0.6.</li> <li>Added <code>create_jinja_loader</code> to override the loader creation process.</li> <li>Implemented a silent flag for <code>config.from_pyfile</code>.</li> <li>Added <code>teardown_request</code> decorator, for functions that should run at the end of a request regardless of whether an exception occurred. Also the behavior for <code>after_request</code> was changed. It’s now no longer executed when an exception is raised.</li> <li>Implemented <a class=\"reference internal\" href=\"../api/index#flask.has_request_context\" title=\"flask.has_request_context\"><code>flask.has_request_context()</code></a>\n</li> <li>Deprecated <code>init_jinja_globals</code>. Override the <a class=\"reference internal\" href=\"../api/index#flask.Flask.create_jinja_environment\" title=\"flask.Flask.create_jinja_environment\"><code>create_jinja_environment()</code></a> method instead to achieve the same functionality.</li> <li>Added <a class=\"reference internal\" href=\"../api/index#flask.safe_join\" title=\"flask.safe_join\"><code>flask.safe_join()</code></a>\n</li> <li>The automatic JSON request data unpacking now looks at the charset mimetype parameter.</li> <li>Don’t modify the session on <a class=\"reference internal\" href=\"../api/index#flask.get_flashed_messages\" title=\"flask.get_flashed_messages\"><code>flask.get_flashed_messages()</code></a> if there are no messages in the session.</li> <li>\n<code>before_request</code> handlers are now able to abort requests with errors.</li> <li>It is not possible to define user exception handlers. That way you can provide custom error messages from a central hub for certain errors that might occur during request processing (for instance database connection errors, timeouts from remote resources etc.).</li> <li>Blueprints can provide blueprint specific error handlers.</li> <li>Implemented generic class-based views.</li> </ul>   <h2 id=\"version-0-6-1\">Version 0.6.1</h2> <p>Released 2010-12-31</p> <ul class=\"simple\"> <li>Fixed an issue where the default <code>OPTIONS</code> response was not exposing all valid methods in the <code>Allow</code> header.</li> <li>Jinja2 template loading syntax now allows “./” in front of a template load path. Previously this caused issues with module setups.</li> <li>Fixed an issue where the subdomain setting for modules was ignored for the static folder.</li> <li>Fixed a security problem that allowed clients to download arbitrary files if the host server was a windows based operating system and the client uses backslashes to escape the directory the files where exposed from.</li> </ul>   <h2 id=\"version-0-6\">Version 0.6</h2> <p>Released 2010-07-27, codename Whisky</p> <ul class=\"simple\"> <li>After request functions are now called in reverse order of registration.</li> <li>OPTIONS is now automatically implemented by Flask unless the application explicitly adds ‘OPTIONS’ as method to the URL rule. In this case no automatic OPTIONS handling kicks in.</li> <li>Static rules are now even in place if there is no static folder for the module. This was implemented to aid GAE which will remove the static folder if it’s part of a mapping in the .yml file.</li> <li>The <a class=\"reference internal\" href=\"../api/index#flask.Flask.config\" title=\"flask.Flask.config\"><code>config</code></a> is now available in the templates as <code>config</code>.</li> <li>Context processors will no longer override values passed directly to the render function.</li> <li>Added the ability to limit the incoming request data with the new <code>MAX_CONTENT_LENGTH</code> configuration value.</li> <li>The endpoint for the <code>flask.Module.add_url_rule()</code> method is now optional to be consistent with the function of the same name on the application object.</li> <li>Added a <a class=\"reference internal\" href=\"../api/index#flask.make_response\" title=\"flask.make_response\"><code>flask.make_response()</code></a> function that simplifies creating response object instances in views.</li> <li>Added signalling support based on blinker. This feature is currently optional and supposed to be used by extensions and applications. If you want to use it, make sure to have <a class=\"reference external\" href=\"https://pypi.org/project/blinker/\">blinker</a> installed.</li> <li>Refactored the way URL adapters are created. This process is now fully customizable with the <a class=\"reference internal\" href=\"../api/index#flask.Flask.create_url_adapter\" title=\"flask.Flask.create_url_adapter\"><code>create_url_adapter()</code></a> method.</li> <li>Modules can now register for a subdomain instead of just an URL prefix. This makes it possible to bind a whole module to a configurable subdomain.</li> </ul>   <h2 id=\"version-0-5-2\">Version 0.5.2</h2> <p>Released 2010-07-15</p> <ul class=\"simple\"> <li>Fixed another issue with loading templates from directories when modules were used.</li> </ul>   <h2 id=\"version-0-5-1\">Version 0.5.1</h2> <p>Released 2010-07-06</p> <ul class=\"simple\"> <li>Fixes an issue with template loading from directories when modules where used.</li> </ul>   <h2 id=\"version-0-5\">Version 0.5</h2> <p>Released 2010-07-06, codename Calvados</p> <ul class=\"simple\"> <li>Fixed a bug with subdomains that was caused by the inability to specify the server name. The server name can now be set with the <code>SERVER_NAME</code> config key. This key is now also used to set the session cookie cross-subdomain wide.</li> <li>Autoescaping is no longer active for all templates. Instead it is only active for <code>.html</code>, <code>.htm</code>, <code>.xml</code> and <code>.xhtml</code>. Inside templates this behavior can be changed with the <code>autoescape</code> tag.</li> <li>Refactored Flask internally. It now consists of more than a single file.</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.send_file\" title=\"flask.send_file\"><code>flask.send_file()</code></a> now emits etags and has the ability to do conditional responses builtin.</li> <li>(temporarily) dropped support for zipped applications. This was a rarely used feature and led to some confusing behavior.</li> <li>Added support for per-package template and static-file directories.</li> <li>Removed support for <code>create_jinja_loader</code> which is no longer used in 0.5 due to the improved module support.</li> <li>Added a helper function to expose files from any directory.</li> </ul>   <h2 id=\"version-0-4\">Version 0.4</h2> <p>Released 2010-06-18, codename Rakia</p> <ul class=\"simple\"> <li>Added the ability to register application wide error handlers from modules.</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.Flask.after_request\" title=\"flask.Flask.after_request\"><code>after_request()</code></a> handlers are now also invoked if the request dies with an exception and an error handling page kicks in.</li> <li>Test client has not the ability to preserve the request context for a little longer. This can also be used to trigger custom requests that do not pop the request stack for testing.</li> <li>Because the Python standard library caches loggers, the name of the logger is configurable now to better support unittests.</li> <li>Added <code>TESTING</code> switch that can activate unittesting helpers.</li> <li>The logger switches to <code>DEBUG</code> mode now if debug is enabled.</li> </ul>   <h2 id=\"version-0-3-1\">Version 0.3.1</h2> <p>Released 2010-05-28</p> <ul class=\"simple\"> <li>Fixed a error reporting bug with <a class=\"reference internal\" href=\"../api/index#flask.Config.from_envvar\" title=\"flask.Config.from_envvar\"><code>flask.Config.from_envvar()</code></a>\n</li> <li>Removed some unused code from flask</li> <li>Release does no longer include development leftover files (.git folder for themes, built documentation in zip and pdf file and some .pyc files)</li> </ul>   <h2 id=\"version-0-3\">Version 0.3</h2> <p>Released 2010-05-28, codename Schnaps</p> <ul class=\"simple\"> <li>Added support for categories for flashed messages.</li> <li>The application now configures a <a class=\"reference external\" href=\"https://docs.python.org/3/library/logging.html#logging.Handler\" title=\"(in Python v3.9)\"><code>logging.Handler</code></a> and will log request handling exceptions to that logger when not in debug mode. This makes it possible to receive mails on server errors for example.</li> <li>Added support for context binding that does not require the use of the with statement for playing in the console.</li> <li>The request context is now available within the with statement making it possible to further push the request context or pop it.</li> <li>Added support for configurations.</li> </ul>   <h2 id=\"version-0-2\">Version 0.2</h2> <p>Released 2010-05-12, codename J?germeister</p> <ul class=\"simple\"> <li>Various bugfixes</li> <li>Integrated JSON support</li> <li>Added <a class=\"reference internal\" href=\"../api/index#flask.get_template_attribute\" title=\"flask.get_template_attribute\"><code>get_template_attribute()</code></a> helper function.</li> <li>\n<a class=\"reference internal\" href=\"../api/index#flask.Flask.add_url_rule\" title=\"flask.Flask.add_url_rule\"><code>add_url_rule()</code></a> can now also register a view function.</li> <li>Refactored internal request dispatching.</li> <li>Server listens on 127.0.0.1 by default now to fix issues with chrome.</li> <li>Added external URL support.</li> <li>Added support for <a class=\"reference internal\" href=\"../api/index#flask.send_file\" title=\"flask.send_file\"><code>send_file()</code></a>\n</li> <li>Module support and internal request handling refactoring to better support pluggable applications.</li> <li>Sessions can be set to be permanent now on a per-session basis.</li> <li>Better error reporting on missing secret keys.</li> <li>Added support for Google Appengine.</li> </ul>   <h2 id=\"version-0-1\">Version 0.1</h2> <p>Released 2010-04-16</p> <ul class=\"simple\"> <li>First public preview release.</li> </ul><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/changes/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/changes/</a>\n  </p>\n</div>\n","deploying/mod_wsgi/index":"<h1>mod_wsgi (Apache)</h1> <p>If you are using the <a class=\"reference external\" href=\"https://httpd.apache.org/\">Apache</a> webserver, consider using <a class=\"reference external\" href=\"https://github.com/GrahamDumpleton/mod_wsgi\">mod_wsgi</a>.</p> <div class=\"admonition-watch-out admonition\"> <p class=\"admonition-title\">Watch Out</p> <p>Please make sure in advance that any <code>app.run()</code> calls you might have in your application file are inside an <code>if __name__ ==\n'__main__':</code> block or moved to a separate file. Just make sure it’s not called because this will always start a local WSGI server which we do not want if we deploy that application to mod_wsgi.</p> </div>  <h2 id=\"installing-mod-wsgi\">Installing <code>mod_wsgi</code>\n</h2> <p>If you don’t have <code>mod_wsgi</code> installed yet you have to either install it using a package manager or compile it yourself. The mod_wsgi <a class=\"reference external\" href=\"https://modwsgi.readthedocs.io/en/develop/installation.html\">installation instructions</a> cover source installations on UNIX systems.</p> <p>If you are using Ubuntu/Debian you can apt-get it and activate it as follows:</p> <pre data-language=\"text\">$ apt-get install libapache2-mod-wsgi-py3\n</pre> <p>If you are using a yum based distribution (Fedora, OpenSUSE, etc..) you can install it as follows:</p> <pre data-language=\"text\">$ yum install mod_wsgi\n</pre> <p>On FreeBSD install <code>mod_wsgi</code> by compiling the <code>www/mod_wsgi</code> port or by using pkg_add:</p> <pre data-language=\"text\">$ pkg install ap24-py37-mod_wsgi\n</pre> <p>If you are using pkgsrc you can install <code>mod_wsgi</code> by compiling the <code>www/ap2-wsgi</code> package.</p> <p>If you encounter segfaulting child processes after the first apache reload you can safely ignore them. Just restart the server.</p>   <h2 id=\"creating-a-wsgi-file\">Creating a <code>.wsgi</code> file</h2> <p>To run your application you need a <code>yourapplication.wsgi</code> file. This file contains the code <code>mod_wsgi</code> is executing on startup to get the application object. The object called <code>application</code> in that file is then used as application.</p> <p>For most applications the following file should be sufficient:</p> <pre data-language=\"python\">from yourapplication import app as application\n</pre> <p>If a factory function is used in a <code>__init__.py</code> file, then the function should be imported:</p> <pre data-language=\"python\">from yourapplication import create_app\napplication = create_app()\n</pre> <p>If you don’t have a factory function for application creation but a singleton instance you can directly import that one as <code>application</code>.</p> <p>Store that file somewhere that you will find it again (e.g.: <code>/var/www/yourapplication</code>) and make sure that <code>yourapplication</code> and all the libraries that are in use are on the python load path. If you don’t want to install it system wide consider using a <a class=\"reference external\" href=\"https://pypi.org/project/virtualenv/\">virtual python</a> instance. Keep in mind that you will have to actually install your application into the virtualenv as well. Alternatively there is the option to just patch the path in the <code>.wsgi</code> file before the import:</p> <pre data-language=\"python\">import sys\nsys.path.insert(0, '/path/to/the/application')\n</pre>   <h2 id=\"configuring-apache\">Configuring Apache</h2> <p>The last thing you have to do is to create an Apache configuration file for your application. In this example we are telling <code>mod_wsgi</code> to execute the application under a different user for security reasons:</p> <pre data-language=\"apache\">&lt;VirtualHost *&gt;\n    ServerName example.com\n\n    WSGIDaemonProcess yourapplication user=user1 group=group1 threads=5\n    WSGIScriptAlias / /var/www/yourapplication/yourapplication.wsgi\n\n    &lt;Directory /var/www/yourapplication&gt;\n        WSGIProcessGroup yourapplication\n        WSGIApplicationGroup %{GLOBAL}\n        Order deny,allow\n        Allow from all\n    &lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n</pre> <p>Note: WSGIDaemonProcess isn’t implemented in Windows and Apache will refuse to run with the above configuration. On a Windows system, eliminate those lines:</p> <pre data-language=\"apache\">&lt;VirtualHost *&gt;\n    ServerName example.com\n    WSGIScriptAlias / C:\\yourdir\\yourapp.wsgi\n    &lt;Directory C:\\yourdir&gt;\n        Order deny,allow\n        Allow from all\n    &lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n</pre> <p>Note: There have been some changes in access control configuration for <a class=\"reference external\" href=\"https://httpd.apache.org/docs/trunk/upgrading.html\">Apache 2.4</a>.</p> <p>Most notably, the syntax for directory permissions has changed from httpd 2.2</p> <pre data-language=\"apache\">Order allow,deny\nAllow from all\n</pre> <p>to httpd 2.4 syntax</p> <pre data-language=\"apache\">Require all granted\n</pre> <p>For more information consult the <a class=\"reference external\" href=\"https://modwsgi.readthedocs.io/en/develop/index.html\">mod_wsgi documentation</a>.</p>   <h2 id=\"troubleshooting\">Troubleshooting</h2> <p>If your application does not run, follow this guide to troubleshoot:</p> <dl> <dt>\n<strong>Problem:</strong> application does not run, errorlog shows SystemExit ignored</dt>\n<dd>\n<p>You have an <code>app.run()</code> call in your application file that is not guarded by an <code>if __name__ == '__main__':</code> condition. Either remove that <a class=\"reference internal\" href=\"../../api/index#flask.Flask.run\" title=\"flask.Flask.run\"><code>run()</code></a> call from the file and move it into a separate <code>run.py</code> file or put it into such an if block.</p> </dd> <dt>\n<strong>Problem:</strong> application gives permission errors</dt>\n<dd>\n<p>Probably caused by your application running as the wrong user. Make sure the folders the application needs access to have the proper privileges set and the application runs as the correct user (<code>user</code> and <code>group</code> parameter to the <code>WSGIDaemonProcess</code> directive)</p> </dd> <dt>\n<strong>Problem:</strong> application dies with an error on print</dt>\n<dd>\n<p>Keep in mind that mod_wsgi disallows doing anything with <a class=\"reference external\" href=\"https://docs.python.org/3/library/sys.html#sys.stdout\" title=\"(in Python v3.9)\"><code>sys.stdout</code></a> and <a class=\"reference external\" href=\"https://docs.python.org/3/library/sys.html#sys.stderr\" title=\"(in Python v3.9)\"><code>sys.stderr</code></a>. You can disable this protection from the config by setting the <code>WSGIRestrictStdout</code> to <code>off</code>:</p> <pre data-language=\"apache\">WSGIRestrictStdout Off\n</pre> <p>Alternatively you can also replace the standard out in the .wsgi file with a different stream:</p> <pre data-language=\"python\">import sys\nsys.stdout = sys.stderr\n</pre> </dd> <dt>\n<strong>Problem:</strong> accessing resources gives IO errors</dt>\n<dd>\n<p>Your application probably is a single .py file you symlinked into the site-packages folder. Please be aware that this does not work, instead you either have to put the folder into the pythonpath the file is stored in, or convert your application into a package.</p> <p>The reason for this is that for non-installed packages, the module filename is used to locate the resources and for symlinks the wrong filename is picked up.</p> </dd> </dl>   <h2 id=\"support-for-automatic-reloading\">Support for Automatic Reloading</h2> <p>To help deployment tools you can activate support for automatic reloading. Whenever something changes the <code>.wsgi</code> file, <code>mod_wsgi</code> will reload all the daemon processes for us.</p> <p>For that, just add the following directive to your <code>Directory</code> section:</p> <pre data-language=\"apache\">WSGIScriptReloading On\n</pre>   <h2 id=\"working-with-virtual-environments\">Working with Virtual Environments</h2> <p>Virtual environments have the advantage that they never install the required dependencies system wide so you have a better control over what is used where. If you want to use a virtual environment with mod_wsgi you have to modify your <code>.wsgi</code> file slightly.</p> <p>Add the following lines to the top of your <code>.wsgi</code> file:</p> <pre data-language=\"python\">activate_this = '/path/to/env/bin/activate_this.py'\nwith open(activate_this) as file_:\n    exec(file_.read(), dict(__file__=activate_this))\n</pre> <p>This sets up the load paths according to the settings of the virtual environment. Keep in mind that the path has to be absolute.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/deploying/mod_wsgi/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/deploying/mod_wsgi/</a>\n  </p>\n</div>\n","htmlfaq/index":"<h1>HTML/XHTML FAQ</h1> <p>The Flask documentation and example applications are using HTML5. You may notice that in many situations, when end tags are optional they are not used, so that the HTML is cleaner and faster to load. Because there is much confusion about HTML and XHTML among developers, this document tries to answer some of the major questions.</p>  <h2 id=\"history-of-xhtml\">History of XHTML</h2> <p>For a while, it appeared that HTML was about to be replaced by XHTML. However, barely any websites on the Internet are actual XHTML (which is HTML processed using XML rules). There are a couple of major reasons why this is the case. One of them is Internet Explorer’s lack of proper XHTML support. The XHTML spec states that XHTML must be served with the MIME type <em class=\"mimetype\">application/xhtml+xml</em>, but Internet Explorer refuses to read files with that MIME type. While it is relatively easy to configure Web servers to serve XHTML properly, few people do. This is likely because properly using XHTML can be quite painful.</p> <p>One of the most important causes of pain is XML’s draconian (strict and ruthless) error handling. When an XML parsing error is encountered, the browser is supposed to show the user an ugly error message, instead of attempting to recover from the error and display what it can. Most of the (X)HTML generation on the web is based on non-XML template engines (such as Jinja, the one used in Flask) which do not protect you from accidentally creating invalid XHTML. There are XML based template engines, such as Kid and the popular Genshi, but they often come with a larger runtime overhead and are not as straightforward to use because they have to obey XML rules.</p> <p>The majority of users, however, assumed they were properly using XHTML. They wrote an XHTML doctype at the top of the document and self-closed all the necessary tags (<code>&lt;br&gt;</code> becomes <code>&lt;br/&gt;</code> or <code>&lt;br&gt;&lt;/br&gt;</code> in XHTML). However, even if the document properly validates as XHTML, what really determines XHTML/HTML processing in browsers is the MIME type, which as said before is often not set properly. So the valid XHTML was being treated as invalid HTML.</p> <p>XHTML also changed the way JavaScript is used. To properly work with XHTML, programmers have to use the namespaced DOM interface with the XHTML namespace to query for HTML elements.</p>   <h2 id=\"history-of-html5\">History of HTML5</h2> <p>Development of the HTML5 specification was started in 2004 under the name “Web Applications 1.0” by the Web Hypertext Application Technology Working Group, or WHATWG (which was formed by the major browser vendors Apple, Mozilla, and Opera) with the goal of writing a new and improved HTML specification, based on existing browser behavior instead of unrealistic and backwards-incompatible specifications.</p> <p>For example, in HTML4 <code>&lt;title/Hello/</code> theoretically parses exactly the same as <code>&lt;title&gt;Hello&lt;/title&gt;</code>. However, since people were using XHTML-like tags along the lines of <code>&lt;link /&gt;</code>, browser vendors implemented the XHTML syntax over the syntax defined by the specification.</p> <p>In 2007, the specification was adopted as the basis of a new HTML specification under the umbrella of the W3C, known as HTML5. Currently, it appears that XHTML is losing traction, as the XHTML 2 working group has been disbanded and HTML5 is being implemented by all major browser vendors.</p>   <h2 id=\"html-versus-xhtml\">HTML versus XHTML</h2> <p>The following table gives you a quick overview of features available in HTML 4.01, XHTML 1.1 and HTML5. (XHTML 1.0 is not included, as it was superseded by XHTML 1.1 and the barely-used XHTML5.)</p> <table class=\"docutils align-default\">  <thead> <tr>\n<th class=\"head\"></th> <th class=\"head\"><p>HTML4.01</p></th> <th class=\"head\"><p>XHTML1.1</p></th> <th class=\"head\"><p>HTML5</p></th> </tr> </thead>  <tr>\n<td><p><code>&lt;tag/value/</code> == <code>&lt;tag&gt;value&lt;/tag&gt;</code></p></td> <td><p><img alt=\"Yes\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAp0lEQVR42mNgwAdsGBrxSWcy/GGYgFu6lOE/w3/cJiSDpf8zVGCXtmT4CVXQi02ah+EhVPo/wzFsCubApR8yxMIERRkCoSxjuPQuBn6YdBrDB4bPDKJg9l6o9GoGNoikLsMxqFAXAwODN5S9BSYN8tBzqOBnBgmGM2DWJQZOVFevhio5DCbfMihiujwf7rQ/DK64wu4P/sAFRc5/hhsIx2ED7Qw26EIAGtZLcARfOr0AAAAASUVORK5CYII=\"> <a class=\"footnote-reference brackets\" href=\"#id4\" id=\"id1\">1</a></p></td> <td><p><img alt=\"No\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAkklEQVR4AX3BAXHCQBQFwGchFmIBLWcBC2cBC7GAgp2JhVg4C7HwmXZoyaSF3Xwxm/OJYXfJe27KMOU9i3LPidmUHxal50Cza3mx2s15clOWHJkMmylxsdr1nOnK5q4spvzlqpRyy380Qyml5UyzWl01m9JypBt2Pd9MhiUvFmU155du5MVdz4nhkk90PZ/peXoAaVhppngaJo8AAAAASUVORK5CYII=\"></p></td> <td><p><img alt=\"No\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAkklEQVR4AX3BAXHCQBQFwGchFmIBLWcBC2cBC7GAgp2JhVg4C7HwmXZoyaSF3Xwxm/OJYXfJe27KMOU9i3LPidmUHxal50Cza3mx2s15clOWHJkMmylxsdr1nOnK5q4spvzlqpRyy380Qyml5UyzWl01m9JypBt2Pd9MhiUvFmU155du5MVdz4nhkk90PZ/peXoAaVhppngaJo8AAAAASUVORK5CYII=\"></p></td> </tr> <tr>\n<td><p><code>&lt;br/&gt;</code> supported</p></td> <td><p><img alt=\"No\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAkklEQVR4AX3BAXHCQBQFwGchFmIBLWcBC2cBC7GAgp2JhVg4C7HwmXZoyaSF3Xwxm/OJYXfJe27KMOU9i3LPidmUHxal50Cza3mx2s15clOWHJkMmylxsdr1nOnK5q4spvzlqpRyy380Qyml5UyzWl01m9JypBt2Pd9MhiUvFmU155du5MVdz4nhkk90PZ/peXoAaVhppngaJo8AAAAASUVORK5CYII=\"></p></td> <td><p><img alt=\"Yes\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAp0lEQVR42mNgwAdsGBrxSWcy/GGYgFu6lOE/w3/cJiSDpf8zVGCXtmT4CVXQi02ah+EhVPo/wzFsCubApR8yxMIERRkCoSxjuPQuBn6YdBrDB4bPDKJg9l6o9GoGNoikLsMxqFAXAwODN5S9BSYN8tBzqOBnBgmGM2DWJQZOVFevhio5DCbfMihiujwf7rQ/DK64wu4P/sAFRc5/hhsIx2ED7Qw26EIAGtZLcARfOr0AAAAASUVORK5CYII=\"></p></td> <td><p><img alt=\"Yes\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAp0lEQVR42mNgwAdsGBrxSWcy/GGYgFu6lOE/w3/cJiSDpf8zVGCXtmT4CVXQi02ah+EhVPo/wzFsCubApR8yxMIERRkCoSxjuPQuBn6YdBrDB4bPDKJg9l6o9GoGNoikLsMxqFAXAwODN5S9BSYN8tBzqOBnBgmGM2DWJQZOVFevhio5DCbfMihiujwf7rQ/DK64wu4P/sAFRc5/hhsIx2ED7Qw26EIAGtZLcARfOr0AAAAASUVORK5CYII=\"> <a class=\"footnote-reference brackets\" href=\"#id5\" id=\"id2\">2</a></p></td> </tr> <tr>\n<td><p><code>&lt;script/&gt;</code> supported</p></td> <td><p><img alt=\"No\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAkklEQVR4AX3BAXHCQBQFwGchFmIBLWcBC2cBC7GAgp2JhVg4C7HwmXZoyaSF3Xwxm/OJYXfJe27KMOU9i3LPidmUHxal50Cza3mx2s15clOWHJkMmylxsdr1nOnK5q4spvzlqpRyy380Qyml5UyzWl01m9JypBt2Pd9MhiUvFmU155du5MVdz4nhkk90PZ/peXoAaVhppngaJo8AAAAASUVORK5CYII=\"></p></td> <td><p><img alt=\"Yes\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAp0lEQVR42mNgwAdsGBrxSWcy/GGYgFu6lOE/w3/cJiSDpf8zVGCXtmT4CVXQi02ah+EhVPo/wzFsCubApR8yxMIERRkCoSxjuPQuBn6YdBrDB4bPDKJg9l6o9GoGNoikLsMxqFAXAwODN5S9BSYN8tBzqOBnBgmGM2DWJQZOVFevhio5DCbfMihiujwf7rQ/DK64wu4P/sAFRc5/hhsIx2ED7Qw26EIAGtZLcARfOr0AAAAASUVORK5CYII=\"></p></td> <td><p><img alt=\"No\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAkklEQVR4AX3BAXHCQBQFwGchFmIBLWcBC2cBC7GAgp2JhVg4C7HwmXZoyaSF3Xwxm/OJYXfJe27KMOU9i3LPidmUHxal50Cza3mx2s15clOWHJkMmylxsdr1nOnK5q4spvzlqpRyy380Qyml5UyzWl01m9JypBt2Pd9MhiUvFmU155du5MVdz4nhkk90PZ/peXoAaVhppngaJo8AAAAASUVORK5CYII=\"></p></td> </tr> <tr>\n<td><p>should be served as <code>text/html</code></p></td> <td><p><img alt=\"Yes\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAp0lEQVR42mNgwAdsGBrxSWcy/GGYgFu6lOE/w3/cJiSDpf8zVGCXtmT4CVXQi02ah+EhVPo/wzFsCubApR8yxMIERRkCoSxjuPQuBn6YdBrDB4bPDKJg9l6o9GoGNoikLsMxqFAXAwODN5S9BSYN8tBzqOBnBgmGM2DWJQZOVFevhio5DCbfMihiujwf7rQ/DK64wu4P/sAFRc5/hhsIx2ED7Qw26EIAGtZLcARfOr0AAAAASUVORK5CYII=\"></p></td> <td><p><img alt=\"No\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAkklEQVR4AX3BAXHCQBQFwGchFmIBLWcBC2cBC7GAgp2JhVg4C7HwmXZoyaSF3Xwxm/OJYXfJe27KMOU9i3LPidmUHxal50Cza3mx2s15clOWHJkMmylxsdr1nOnK5q4spvzlqpRyy380Qyml5UyzWl01m9JypBt2Pd9MhiUvFmU155du5MVdz4nhkk90PZ/peXoAaVhppngaJo8AAAAASUVORK5CYII=\"> <a class=\"footnote-reference brackets\" href=\"#id6\" id=\"id3\">3</a></p></td> <td><p><img alt=\"Yes\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAp0lEQVR42mNgwAdsGBrxSWcy/GGYgFu6lOE/w3/cJiSDpf8zVGCXtmT4CVXQi02ah+EhVPo/wzFsCubApR8yxMIERRkCoSxjuPQuBn6YdBrDB4bPDKJg9l6o9GoGNoikLsMxqFAXAwODN5S9BSYN8tBzqOBnBgmGM2DWJQZOVFevhio5DCbfMihiujwf7rQ/DK64wu4P/sAFRc5/hhsIx2ED7Qw26EIAGtZLcARfOr0AAAAASUVORK5CYII=\"></p></td> </tr> <tr>\n<td><p>should be served as <code>application/xhtml+xml</code></p></td> <td><p><img alt=\"No\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAkklEQVR4AX3BAXHCQBQFwGchFmIBLWcBC2cBC7GAgp2JhVg4C7HwmXZoyaSF3Xwxm/OJYXfJe27KMOU9i3LPidmUHxal50Cza3mx2s15clOWHJkMmylxsdr1nOnK5q4spvzlqpRyy380Qyml5UyzWl01m9JypBt2Pd9MhiUvFmU155du5MVdz4nhkk90PZ/peXoAaVhppngaJo8AAAAASUVORK5CYII=\"></p></td> <td><p><img alt=\"Yes\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAp0lEQVR42mNgwAdsGBrxSWcy/GGYgFu6lOE/w3/cJiSDpf8zVGCXtmT4CVXQi02ah+EhVPo/wzFsCubApR8yxMIERRkCoSxjuPQuBn6YdBrDB4bPDKJg9l6o9GoGNoikLsMxqFAXAwODN5S9BSYN8tBzqOBnBgmGM2DWJQZOVFevhio5DCbfMihiujwf7rQ/DK64wu4P/sAFRc5/hhsIx2ED7Qw26EIAGtZLcARfOr0AAAAASUVORK5CYII=\"></p></td> <td><p><img alt=\"No\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAkklEQVR4AX3BAXHCQBQFwGchFmIBLWcBC2cBC7GAgp2JhVg4C7HwmXZoyaSF3Xwxm/OJYXfJe27KMOU9i3LPidmUHxal50Cza3mx2s15clOWHJkMmylxsdr1nOnK5q4spvzlqpRyy380Qyml5UyzWl01m9JypBt2Pd9MhiUvFmU155du5MVdz4nhkk90PZ/peXoAaVhppngaJo8AAAAASUVORK5CYII=\"></p></td> </tr> <tr>\n<td><p>strict error handling</p></td> <td><p><img alt=\"No\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAkklEQVR4AX3BAXHCQBQFwGchFmIBLWcBC2cBC7GAgp2JhVg4C7HwmXZoyaSF3Xwxm/OJYXfJe27KMOU9i3LPidmUHxal50Cza3mx2s15clOWHJkMmylxsdr1nOnK5q4spvzlqpRyy380Qyml5UyzWl01m9JypBt2Pd9MhiUvFmU155du5MVdz4nhkk90PZ/peXoAaVhppngaJo8AAAAASUVORK5CYII=\"></p></td> <td><p><img alt=\"Yes\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAp0lEQVR42mNgwAdsGBrxSWcy/GGYgFu6lOE/w3/cJiSDpf8zVGCXtmT4CVXQi02ah+EhVPo/wzFsCubApR8yxMIERRkCoSxjuPQuBn6YdBrDB4bPDKJg9l6o9GoGNoikLsMxqFAXAwODN5S9BSYN8tBzqOBnBgmGM2DWJQZOVFevhio5DCbfMihiujwf7rQ/DK64wu4P/sAFRc5/hhsIx2ED7Qw26EIAGtZLcARfOr0AAAAASUVORK5CYII=\"></p></td> <td><p><img alt=\"No\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAkklEQVR4AX3BAXHCQBQFwGchFmIBLWcBC2cBC7GAgp2JhVg4C7HwmXZoyaSF3Xwxm/OJYXfJe27KMOU9i3LPidmUHxal50Cza3mx2s15clOWHJkMmylxsdr1nOnK5q4spvzlqpRyy380Qyml5UyzWl01m9JypBt2Pd9MhiUvFmU155du5MVdz4nhkk90PZ/peXoAaVhppngaJo8AAAAASUVORK5CYII=\"></p></td> </tr> <tr>\n<td><p>inline SVG</p></td> <td><p><img alt=\"No\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAkklEQVR4AX3BAXHCQBQFwGchFmIBLWcBC2cBC7GAgp2JhVg4C7HwmXZoyaSF3Xwxm/OJYXfJe27KMOU9i3LPidmUHxal50Cza3mx2s15clOWHJkMmylxsdr1nOnK5q4spvzlqpRyy380Qyml5UyzWl01m9JypBt2Pd9MhiUvFmU155du5MVdz4nhkk90PZ/peXoAaVhppngaJo8AAAAASUVORK5CYII=\"></p></td> <td><p><img alt=\"Yes\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAp0lEQVR42mNgwAdsGBrxSWcy/GGYgFu6lOE/w3/cJiSDpf8zVGCXtmT4CVXQi02ah+EhVPo/wzFsCubApR8yxMIERRkCoSxjuPQuBn6YdBrDB4bPDKJg9l6o9GoGNoikLsMxqFAXAwODN5S9BSYN8tBzqOBnBgmGM2DWJQZOVFevhio5DCbfMihiujwf7rQ/DK64wu4P/sAFRc5/hhsIx2ED7Qw26EIAGtZLcARfOr0AAAAASUVORK5CYII=\"></p></td> <td><p><img alt=\"Yes\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAp0lEQVR42mNgwAdsGBrxSWcy/GGYgFu6lOE/w3/cJiSDpf8zVGCXtmT4CVXQi02ah+EhVPo/wzFsCubApR8yxMIERRkCoSxjuPQuBn6YdBrDB4bPDKJg9l6o9GoGNoikLsMxqFAXAwODN5S9BSYN8tBzqOBnBgmGM2DWJQZOVFevhio5DCbfMihiujwf7rQ/DK64wu4P/sAFRc5/hhsIx2ED7Qw26EIAGtZLcARfOr0AAAAASUVORK5CYII=\"></p></td> </tr> <tr>\n<td><p>inline MathML</p></td> <td><p><img alt=\"No\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAkklEQVR4AX3BAXHCQBQFwGchFmIBLWcBC2cBC7GAgp2JhVg4C7HwmXZoyaSF3Xwxm/OJYXfJe27KMOU9i3LPidmUHxal50Cza3mx2s15clOWHJkMmylxsdr1nOnK5q4spvzlqpRyy380Qyml5UyzWl01m9JypBt2Pd9MhiUvFmU155du5MVdz4nhkk90PZ/peXoAaVhppngaJo8AAAAASUVORK5CYII=\"></p></td> <td><p><img alt=\"Yes\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAp0lEQVR42mNgwAdsGBrxSWcy/GGYgFu6lOE/w3/cJiSDpf8zVGCXtmT4CVXQi02ah+EhVPo/wzFsCubApR8yxMIERRkCoSxjuPQuBn6YdBrDB4bPDKJg9l6o9GoGNoikLsMxqFAXAwODN5S9BSYN8tBzqOBnBgmGM2DWJQZOVFevhio5DCbfMihiujwf7rQ/DK64wu4P/sAFRc5/hhsIx2ED7Qw26EIAGtZLcARfOr0AAAAASUVORK5CYII=\"></p></td> <td><p><img alt=\"Yes\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAp0lEQVR42mNgwAdsGBrxSWcy/GGYgFu6lOE/w3/cJiSDpf8zVGCXtmT4CVXQi02ah+EhVPo/wzFsCubApR8yxMIERRkCoSxjuPQuBn6YdBrDB4bPDKJg9l6o9GoGNoikLsMxqFAXAwODN5S9BSYN8tBzqOBnBgmGM2DWJQZOVFevhio5DCbfMihiujwf7rQ/DK64wu4P/sAFRc5/hhsIx2ED7Qw26EIAGtZLcARfOr0AAAAASUVORK5CYII=\"></p></td> </tr> <tr>\n<td><p><code>&lt;video&gt;</code> tag</p></td> <td><p><img alt=\"No\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAkklEQVR4AX3BAXHCQBQFwGchFmIBLWcBC2cBC7GAgp2JhVg4C7HwmXZoyaSF3Xwxm/OJYXfJe27KMOU9i3LPidmUHxal50Cza3mx2s15clOWHJkMmylxsdr1nOnK5q4spvzlqpRyy380Qyml5UyzWl01m9JypBt2Pd9MhiUvFmU155du5MVdz4nhkk90PZ/peXoAaVhppngaJo8AAAAASUVORK5CYII=\"></p></td> <td><p><img alt=\"No\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAkklEQVR4AX3BAXHCQBQFwGchFmIBLWcBC2cBC7GAgp2JhVg4C7HwmXZoyaSF3Xwxm/OJYXfJe27KMOU9i3LPidmUHxal50Cza3mx2s15clOWHJkMmylxsdr1nOnK5q4spvzlqpRyy380Qyml5UyzWl01m9JypBt2Pd9MhiUvFmU155du5MVdz4nhkk90PZ/peXoAaVhppngaJo8AAAAASUVORK5CYII=\"></p></td> <td><p><img alt=\"Yes\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAp0lEQVR42mNgwAdsGBrxSWcy/GGYgFu6lOE/w3/cJiSDpf8zVGCXtmT4CVXQi02ah+EhVPo/wzFsCubApR8yxMIERRkCoSxjuPQuBn6YdBrDB4bPDKJg9l6o9GoGNoikLsMxqFAXAwODN5S9BSYN8tBzqOBnBgmGM2DWJQZOVFevhio5DCbfMihiujwf7rQ/DK64wu4P/sAFRc5/hhsIx2ED7Qw26EIAGtZLcARfOr0AAAAASUVORK5CYII=\"></p></td> </tr> <tr>\n<td><p><code>&lt;audio&gt;</code> tag</p></td> <td><p><img alt=\"No\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAkklEQVR4AX3BAXHCQBQFwGchFmIBLWcBC2cBC7GAgp2JhVg4C7HwmXZoyaSF3Xwxm/OJYXfJe27KMOU9i3LPidmUHxal50Cza3mx2s15clOWHJkMmylxsdr1nOnK5q4spvzlqpRyy380Qyml5UyzWl01m9JypBt2Pd9MhiUvFmU155du5MVdz4nhkk90PZ/peXoAaVhppngaJo8AAAAASUVORK5CYII=\"></p></td> <td><p><img alt=\"No\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAkklEQVR4AX3BAXHCQBQFwGchFmIBLWcBC2cBC7GAgp2JhVg4C7HwmXZoyaSF3Xwxm/OJYXfJe27KMOU9i3LPidmUHxal50Cza3mx2s15clOWHJkMmylxsdr1nOnK5q4spvzlqpRyy380Qyml5UyzWl01m9JypBt2Pd9MhiUvFmU155du5MVdz4nhkk90PZ/peXoAaVhppngaJo8AAAAASUVORK5CYII=\"></p></td> <td><p><img alt=\"Yes\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAp0lEQVR42mNgwAdsGBrxSWcy/GGYgFu6lOE/w3/cJiSDpf8zVGCXtmT4CVXQi02ah+EhVPo/wzFsCubApR8yxMIERRkCoSxjuPQuBn6YdBrDB4bPDKJg9l6o9GoGNoikLsMxqFAXAwODN5S9BSYN8tBzqOBnBgmGM2DWJQZOVFevhio5DCbfMihiujwf7rQ/DK64wu4P/sAFRc5/hhsIx2ED7Qw26EIAGtZLcARfOr0AAAAASUVORK5CYII=\"></p></td> </tr> <tr>\n<td><p>New semantic tags like <code>&lt;article&gt;</code></p></td> <td><p><img alt=\"No\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAkklEQVR4AX3BAXHCQBQFwGchFmIBLWcBC2cBC7GAgp2JhVg4C7HwmXZoyaSF3Xwxm/OJYXfJe27KMOU9i3LPidmUHxal50Cza3mx2s15clOWHJkMmylxsdr1nOnK5q4spvzlqpRyy380Qyml5UyzWl01m9JypBt2Pd9MhiUvFmU155du5MVdz4nhkk90PZ/peXoAaVhppngaJo8AAAAASUVORK5CYII=\"></p></td> <td><p><img alt=\"No\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAkklEQVR4AX3BAXHCQBQFwGchFmIBLWcBC2cBC7GAgp2JhVg4C7HwmXZoyaSF3Xwxm/OJYXfJe27KMOU9i3LPidmUHxal50Cza3mx2s15clOWHJkMmylxsdr1nOnK5q4spvzlqpRyy380Qyml5UyzWl01m9JypBt2Pd9MhiUvFmU155du5MVdz4nhkk90PZ/peXoAaVhppngaJo8AAAAASUVORK5CYII=\"></p></td> <td><p><img alt=\"Yes\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAp0lEQVR42mNgwAdsGBrxSWcy/GGYgFu6lOE/w3/cJiSDpf8zVGCXtmT4CVXQi02ah+EhVPo/wzFsCubApR8yxMIERRkCoSxjuPQuBn6YdBrDB4bPDKJg9l6o9GoGNoikLsMxqFAXAwODN5S9BSYN8tBzqOBnBgmGM2DWJQZOVFevhio5DCbfMihiujwf7rQ/DK64wu4P/sAFRc5/hhsIx2ED7Qw26EIAGtZLcARfOr0AAAAASUVORK5CYII=\"></p></td> </tr>  </table> <dl class=\"footnote brackets\"> <dt class=\"label\" id=\"id4\">\n<code>1</code> </dt> <dd>\n<p>This is an obscure feature inherited from SGML. It is usually not supported by browsers, for reasons detailed above.</p> </dd> <dt class=\"label\" id=\"id5\">\n<code>2</code> </dt> <dd>\n<p>This is for compatibility with server code that generates XHTML for tags such as <code>&lt;br&gt;</code>. It should not be used in new code.</p> </dd> <dt class=\"label\" id=\"id6\">\n<code>3</code> </dt> <dd>\n<p>XHTML 1.0 is the last XHTML standard that allows to be served as <code>text/html</code> for backwards compatibility reasons.</p> </dd> </dl>   <h2 id=\"what-does-strict-mean\">What does “strict” mean?</h2> <p>HTML5 has strictly defined parsing rules, but it also specifies exactly how a browser should react to parsing errors - unlike XHTML, which simply states parsing should abort. Some people are confused by apparently invalid syntax that still generates the expected results (for example, missing end tags or unquoted attribute values).</p> <p>Some of these work because of the lenient error handling most browsers use when they encounter a markup error, others are actually specified. The following constructs are optional in HTML5 by standard, but have to be supported by browsers:</p> <ul class=\"simple\"> <li>Wrapping the document in an <code>&lt;html&gt;</code> tag</li> <li>Wrapping header elements in <code>&lt;head&gt;</code> or the body elements in <code>&lt;body&gt;</code>\n</li> <li>Closing the <code>&lt;p&gt;</code>, <code>&lt;li&gt;</code>, <code>&lt;dt&gt;</code>, <code>&lt;dd&gt;</code>, <code>&lt;tr&gt;</code>, <code>&lt;td&gt;</code>, <code>&lt;th&gt;</code>, <code>&lt;tbody&gt;</code>, <code>&lt;thead&gt;</code>, or <code>&lt;tfoot&gt;</code> tags.</li> <li>Quoting attributes, so long as they contain no whitespace or special characters (like <code>&lt;</code>, <code>&gt;</code>, <code>'</code>, or <code>\"</code>).</li> <li>Requiring boolean attributes to have a value.</li> </ul> <p>This means the following page in HTML5 is perfectly valid:</p> <pre data-language=\"html\">&lt;!doctype html&gt;\n&lt;title&gt;Hello HTML5&lt;/title&gt;\n&lt;div class=header&gt;\n  &lt;h1&gt;Hello HTML5&lt;/h1&gt;\n  &lt;p class=tagline&gt;HTML5 is awesome\n&lt;/div&gt;\n&lt;ul class=nav&gt;\n  &lt;li&gt;&lt;a href=/index&gt;Index&lt;/a&gt;\n  &lt;li&gt;&lt;a href=/downloads&gt;Downloads&lt;/a&gt;\n  &lt;li&gt;&lt;a href=/about&gt;About&lt;/a&gt;\n&lt;/ul&gt;\n&lt;div class=body&gt;\n  &lt;h2&gt;HTML5 is probably the future&lt;/h2&gt;\n  &lt;p&gt;\n    There might be some other things around but in terms of\n    browser vendor support, HTML5 is hard to beat.\n  &lt;dl&gt;\n    &lt;dt&gt;Key 1\n    &lt;dd&gt;Value 1\n    &lt;dt&gt;Key 2\n    &lt;dd&gt;Value 2\n  &lt;/dl&gt;\n&lt;/div&gt;\n</pre>   <h2 id=\"new-technologies-in-html5\">New technologies in HTML5</h2> <p>HTML5 adds many new features that make Web applications easier to write and to use.</p> <ul class=\"simple\"> <li>The <code>&lt;audio&gt;</code> and <code>&lt;video&gt;</code> tags provide a way to embed audio and video without complicated add-ons like QuickTime or Flash.</li> <li>Semantic elements like <code>&lt;article&gt;</code>, <code>&lt;header&gt;</code>, <code>&lt;nav&gt;</code>, and <code>&lt;time&gt;</code> that make content easier to understand.</li> <li>The <code>&lt;canvas&gt;</code> tag, which supports a powerful drawing API, reducing the need for server-generated images to present data graphically.</li> <li>New form control types like <code>&lt;input type=\"date\"&gt;</code> that allow user agents to make entering and validating values easier.</li> <li>Advanced JavaScript APIs like Web Storage, Web Workers, Web Sockets, geolocation, and offline applications.</li> </ul> <p>Many other features have been added, as well. A good guide to new features in HTML5 is Mark Pilgrim’s book, <a class=\"reference external\" href=\"https://diveintohtml5.info/\">Dive Into HTML5</a>. Not all of them are supported in browsers yet, however, so use caution.</p>   <h2 id=\"what-should-be-used\">What should be used?</h2> <p>Currently, the answer is HTML5. There are very few reasons to use XHTML considering the latest developments in Web browsers. To summarize the reasons given above:</p> <ul class=\"simple\"> <li>Internet Explorer has poor support for XHTML.</li> <li>Many JavaScript libraries also do not support XHTML, due to the more complicated namespacing API it requires.</li> <li>HTML5 adds several new features, including semantic tags and the long-awaited <code>&lt;audio&gt;</code> and <code>&lt;video&gt;</code> tags.</li> <li>It has the support of most browser vendors behind it.</li> <li>It is much easier to write, and more compact.</li> </ul> <p>For most applications, it is undoubtedly better to use HTML5 than XHTML.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/htmlfaq/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/htmlfaq/</a>\n  </p>\n</div>\n","becomingbig/index":"<h1>Becoming Big</h1> <p>Here are your options when growing your codebase or scaling your application.</p>  <h2 id=\"read-the-source\">Read the Source.</h2> <p>Flask started in part to demonstrate how to build your own framework on top of existing well-used tools Werkzeug (WSGI) and Jinja (templating), and as it developed, it became useful to a wide audience. As you grow your codebase, don’t just use Flask – understand it. Read the source. Flask’s code is written to be read; its documentation is published so you can use its internal APIs. Flask sticks to documented APIs in upstream libraries, and documents its internal utilities so that you can find the hook points needed for your project.</p>   <h2 id=\"hook-extend\">Hook. Extend.</h2> <p>The <a class=\"reference internal\" href=\"../api/index\"><span class=\"doc\">API</span></a> docs are full of available overrides, hook points, and <a class=\"reference internal\" href=\"../signals/index\"><span class=\"doc\">Signals</span></a>. You can provide custom classes for things like the request and response objects. Dig deeper on the APIs you use, and look for the customizations which are available out of the box in a Flask release. Look for ways in which your project can be refactored into a collection of utilities and Flask extensions. Explore the many <a class=\"reference internal\" href=\"../extensions/index\"><span class=\"doc\">Extensions</span></a> in the community, and look for patterns to build your own extensions if you do not find the tools you need.</p>   <h2 id=\"subclass\">Subclass.</h2> <p>The <a class=\"reference internal\" href=\"../api/index#flask.Flask\" title=\"flask.Flask\"><code>Flask</code></a> class has many methods designed for subclassing. You can quickly add or customize behavior by subclassing <a class=\"reference internal\" href=\"../api/index#flask.Flask\" title=\"flask.Flask\"><code>Flask</code></a> (see the linked method docs) and using that subclass wherever you instantiate an application class. This works well with <a class=\"reference internal\" href=\"../patterns/appfactories/index\"><span class=\"doc\">Application Factories</span></a>. See <a class=\"reference internal\" href=\"../patterns/subclassing/index\"><span class=\"doc\">Subclassing Flask</span></a> for an example.</p>   <h2 id=\"wrap-with-middleware\">Wrap with middleware.</h2> <p>The <a class=\"reference internal\" href=\"../patterns/appdispatch/index\"><span class=\"doc\">Application Dispatching</span></a> pattern shows in detail how to apply middleware. You can introduce WSGI middleware to wrap your Flask instances and introduce fixes and changes at the layer between your Flask application and your HTTP server. Werkzeug includes several <a class=\"reference external\" href=\"https://werkzeug.palletsprojects.com/middleware/\">middlewares</a>.</p>   <h2 id=\"fork\">Fork.</h2> <p>If none of the above options work, fork Flask. The majority of code of Flask is within Werkzeug and Jinja2. These libraries do the majority of the work. Flask is just the paste that glues those together. For every project there is the point where the underlying framework gets in the way (due to assumptions the original developers had). This is natural because if this would not be the case, the framework would be a very complex system to begin with which causes a steep learning curve and a lot of user frustration.</p> <p>This is not unique to Flask. Many people use patched and modified versions of their framework to counter shortcomings. This idea is also reflected in the license of Flask. You don’t have to contribute any changes back if you decide to modify the framework.</p> <p>The downside of forking is of course that Flask extensions will most likely break because the new framework has a different import name. Furthermore integrating upstream changes can be a complex process, depending on the number of changes. Because of that, forking should be the very last resort.</p>   <h2 id=\"scale-like-a-pro\">Scale like a pro.</h2> <p>For many web applications the complexity of the code is less an issue than the scaling for the number of users or data entries expected. Flask by itself is only limited in terms of scaling by your application code, the data store you want to use and the Python implementation and webserver you are running on.</p> <p>Scaling well means for example that if you double the amount of servers you get about twice the performance. Scaling bad means that if you add a new server the application won’t perform any better or would not even support a second server.</p> <p>There is only one limiting factor regarding scaling in Flask which are the context local proxies. They depend on context which in Flask is defined as being either a thread, process or greenlet. If your server uses some kind of concurrency that is not based on threads or greenlets, Flask will no longer be able to support these global proxies. However the majority of servers are using either threads, greenlets or separate processes to achieve concurrency which are all methods well supported by the underlying Werkzeug library.</p>   <h2 id=\"discuss-with-the-community\">Discuss with the community.</h2> <p>The Flask developers keep the framework accessible to users with codebases big and small. If you find an obstacle in your way, caused by Flask, don’t hesitate to contact the developers on the mailing list or Discord server. The best way for the Flask and Flask extension developers to improve the tools for larger applications is getting feedback from users.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/becomingbig/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/becomingbig/</a>\n  </p>\n</div>\n","security/index":"<h1>Security Considerations</h1> <p>Web applications usually face all kinds of security problems and it’s very hard to get everything right. Flask tries to solve a few of these things for you, but there are a couple more you have to take care of yourself.</p>  <h2 id=\"security-xss\">Cross-Site Scripting (XSS)</h2> <p id=\"cross-site-scripting-xss\">Cross site scripting is the concept of injecting arbitrary HTML (and with it JavaScript) into the context of a website. To remedy this, developers have to properly escape text so that it cannot include arbitrary HTML tags. For more information on that have a look at the Wikipedia article on <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Cross-site_scripting\">Cross-Site Scripting</a>.</p> <p>Flask configures Jinja2 to automatically escape all values unless explicitly told otherwise. This should rule out all XSS problems caused in templates, but there are still other places where you have to be careful:</p> <ul class=\"simple\"> <li>generating HTML without the help of Jinja2</li> <li>calling <a class=\"reference internal\" href=\"../api/index#flask.Markup\" title=\"flask.Markup\"><code>Markup</code></a> on data submitted by users</li> <li>sending out HTML from uploaded files, never do that, use the <code>Content-Disposition: attachment</code> header to prevent that problem.</li> <li>sending out textfiles from uploaded files. Some browsers are using content-type guessing based on the first few bytes so users could trick a browser to execute HTML.</li> </ul> <p>Another thing that is very important are unquoted attributes. While Jinja2 can protect you from XSS issues by escaping HTML, there is one thing it cannot protect you from: XSS by attribute injection. To counter this possible attack vector, be sure to always quote your attributes with either double or single quotes when using Jinja expressions in them:</p> <pre data-language=\"html+jinja\">&lt;input value=\"{{ value }}\"&gt;\n</pre> <p>Why is this necessary? Because if you would not be doing that, an attacker could easily inject custom JavaScript handlers. For example an attacker could inject this piece of HTML+JavaScript:</p> <pre data-language=\"html\">onmouseover=alert(document.cookie)\n</pre> <p>When the user would then move with the mouse over the input, the cookie would be presented to the user in an alert window. But instead of showing the cookie to the user, a good attacker might also execute any other JavaScript code. In combination with CSS injections the attacker might even make the element fill out the entire page so that the user would just have to have the mouse anywhere on the page to trigger the attack.</p> <p>There is one class of XSS issues that Jinja’s escaping does not protect against. The <code>a</code> tag’s <code>href</code> attribute can contain a <code>javascript:</code> URI, which the browser will execute when clicked if not secured properly.</p> <pre data-language=\"html\">&lt;a href=\"{{ value }}\"&gt;click here&lt;/a&gt;\n&lt;a href=\"javascript:alert('unsafe');\"&gt;click here&lt;/a&gt;\n</pre> <p>To prevent this, you’ll need to set the <a class=\"reference internal\" href=\"#security-csp\"><span class=\"std std-ref\">Content Security Policy (CSP)</span></a> response header.</p>   <h2 id=\"cross-site-request-forgery-csrf\">Cross-Site Request Forgery (CSRF)</h2> <p>Another big problem is CSRF. This is a very complex topic and I won’t outline it here in detail just mention what it is and how to theoretically prevent it.</p> <p>If your authentication information is stored in cookies, you have implicit state management. The state of “being logged in” is controlled by a cookie, and that cookie is sent with each request to a page. Unfortunately that includes requests triggered by 3rd party sites. If you don’t keep that in mind, some people might be able to trick your application’s users with social engineering to do stupid things without them knowing.</p> <p>Say you have a specific URL that, when you sent <code>POST</code> requests to will delete a user’s profile (say <code>http://example.com/user/delete</code>). If an attacker now creates a page that sends a post request to that page with some JavaScript they just have to trick some users to load that page and their profiles will end up being deleted.</p> <p>Imagine you were to run Facebook with millions of concurrent users and someone would send out links to images of little kittens. When users would go to that page, their profiles would get deleted while they are looking at images of fluffy cats.</p> <p>How can you prevent that? Basically for each request that modifies content on the server you would have to either use a one-time token and store that in the cookie <strong>and</strong> also transmit it with the form data. After receiving the data on the server again, you would then have to compare the two tokens and ensure they are equal.</p> <p>Why does Flask not do that for you? The ideal place for this to happen is the form validation framework, which does not exist in Flask.</p>   <h2 id=\"security-json\">JSON Security</h2> <p id=\"json-security\">In Flask 0.10 and lower, <code>jsonify()</code> did not serialize top-level arrays to JSON. This was because of a security vulnerability in ECMAScript 4.</p> <p>ECMAScript 5 closed this vulnerability, so only extremely old browsers are still vulnerable. All of these browsers have <a class=\"reference external\" href=\"https://github.com/pallets/flask/issues/248#issuecomment-59934857\">other more serious vulnerabilities</a>, so this behavior was changed and <code>jsonify()</code> now supports serializing arrays.</p>   <h2 id=\"security-headers\">Security Headers</h2> <p>Browsers recognize various response headers in order to control security. We recommend reviewing each of the headers below for use in your application. The <a class=\"reference external\" href=\"https://github.com/GoogleCloudPlatform/flask-talisman\">Flask-Talisman</a> extension can be used to manage HTTPS and the security headers for you.</p>  <h3 id=\"http-strict-transport-security-hsts\">HTTP Strict Transport Security (HSTS)</h3> <p>Tells the browser to convert all HTTP requests to HTTPS, preventing man-in-the-middle (MITM) attacks.</p> <pre data-language=\"python\">response.headers['Strict-Transport-Security'] = 'max-age=31536000; includeSubDomains'\n</pre> <ul class=\"simple\"> <li><a class=\"reference external\" href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security</a></li> </ul>   <h3 id=\"security-csp\">Content Security Policy (CSP)</h3> <p id=\"content-security-policy-csp\">Tell the browser where it can load various types of resource from. This header should be used whenever possible, but requires some work to define the correct policy for your site. A very strict policy would be:</p> <pre data-language=\"python\">response.headers['Content-Security-Policy'] = \"default-src 'self'\"\n</pre> <ul class=\"simple\"> <li><a class=\"reference external\" href=\"https://csp.withgoogle.com/docs/index.html\">https://csp.withgoogle.com/docs/index.html</a></li> <li><a class=\"reference external\" href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy</a></li> </ul>   <h3 id=\"x-content-type-options\">X-Content-Type-Options</h3> <p>Forces the browser to honor the response content type instead of trying to detect it, which can be abused to generate a cross-site scripting (XSS) attack.</p> <pre data-language=\"python\">response.headers['X-Content-Type-Options'] = 'nosniff'\n</pre> <ul class=\"simple\"> <li><a class=\"reference external\" href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Content-Type-Options\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Content-Type-Options</a></li> </ul>   <h3 id=\"x-frame-options\">X-Frame-Options</h3> <p>Prevents external sites from embedding your site in an <code>iframe</code>. This prevents a class of attacks where clicks in the outer frame can be translated invisibly to clicks on your page’s elements. This is also known as “clickjacking”.</p> <pre data-language=\"python\">response.headers['X-Frame-Options'] = 'SAMEORIGIN'\n</pre> <ul class=\"simple\"> <li><a class=\"reference external\" href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options</a></li> </ul>   <h3 id=\"x-xss-protection\">X-XSS-Protection</h3> <p>The browser will try to prevent reflected XSS attacks by not loading the page if the request contains something that looks like JavaScript and the response contains the same data.</p> <pre data-language=\"python\">response.headers['X-XSS-Protection'] = '1; mode=block'\n</pre> <ul class=\"simple\"> <li><a class=\"reference external\" href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-XSS-Protection\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-XSS-Protection</a></li> </ul>   <h3 id=\"security-cookie\">Set-Cookie options</h3> <p id=\"set-cookie-options\">These options can be added to a <code>Set-Cookie</code> header to improve their security. Flask has configuration options to set these on the session cookie. They can be set on other cookies too.</p> <ul class=\"simple\"> <li>\n<code>Secure</code> limits cookies to HTTPS traffic only.</li> <li>\n<code>HttpOnly</code> protects the contents of cookies from being read with JavaScript.</li> <li>\n<code>SameSite</code> restricts how cookies are sent with requests from external sites. Can be set to <code>'Lax'</code> (recommended) or <code>'Strict'</code>. <code>Lax</code> prevents sending cookies with CSRF-prone requests from external sites, such as submitting a form. <code>Strict</code> prevents sending cookies with all external requests, including following regular links.</li> </ul> <pre data-language=\"python\">app.config.update(\n    SESSION_COOKIE_SECURE=True,\n    SESSION_COOKIE_HTTPONLY=True,\n    SESSION_COOKIE_SAMESITE='Lax',\n)\n\nresponse.set_cookie('username', 'flask', secure=True, httponly=True, samesite='Lax')\n</pre> <p>Specifying <code>Expires</code> or <code>Max-Age</code> options, will remove the cookie after the given time, or the current time plus the age, respectively. If neither option is set, the cookie will be removed when the browser is closed.</p> <pre data-language=\"python\"># cookie expires after 10 minutes\nresponse.set_cookie('snakes', '3', max_age=600)\n</pre> <p>For the session cookie, if <a class=\"reference internal\" href=\"../api/index#flask.session.permanent\" title=\"flask.session.permanent\"><code>session.permanent</code></a> is set, then <a class=\"reference internal\" href=\"../config/index#PERMANENT_SESSION_LIFETIME\" title=\"PERMANENT_SESSION_LIFETIME\"><code>PERMANENT_SESSION_LIFETIME</code></a> is used to set the expiration. Flask’s default cookie implementation validates that the cryptographic signature is not older than this value. Lowering this value may help mitigate replay attacks, where intercepted cookies can be sent at a later time.</p> <pre data-language=\"python\">app.config.update(\n    PERMANENT_SESSION_LIFETIME=600\n)\n\n@app.route('/login', methods=['POST'])\ndef login():\n    ...\n    session.clear()\n    session['user_id'] = user.id\n    session.permanent = True\n    ...\n</pre> <p>Use <code>itsdangerous.TimedSerializer</code> to sign and validate other cookie values (or any values that need secure signatures).</p> <ul class=\"simple\"> <li><a class=\"reference external\" href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies</a></li> <li><a class=\"reference external\" href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie</a></li> </ul>   <h3 id=\"http-public-key-pinning-hpkp\">HTTP Public Key Pinning (HPKP)</h3> <p>This tells the browser to authenticate with the server using only the specific certificate key to prevent MITM attacks.</p> <div class=\"admonition warning\"> <p class=\"admonition-title\">Warning</p> <p>Be careful when enabling this, as it is very difficult to undo if you set up or upgrade your key incorrectly.</p> </div> <ul class=\"simple\"> <li><a class=\"reference external\" href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Public_Key_Pinning\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Public_Key_Pinning</a></li> </ul>    <h2 id=\"copy-paste-to-terminal\">Copy/Paste to Terminal</h2> <p>Hidden characters such as the backspace character (<code>\\b</code>, <code>^H</code>) can cause text to render differently in HTML than how it is interpreted if <a class=\"reference external\" href=\"https://security.stackexchange.com/q/39118\">pasted into a terminal</a>.</p> <p>For example, <code>import y\\bose\\bm\\bi\\bt\\be\\b</code> renders as <code>import yosemite</code> in HTML, but the backspaces are applied when pasted into a terminal, and it becomes <code>import os</code>.</p> <p>If you expect users to copy and paste untrusted code from your site, such as from comments posted by users on a technical blog, consider applying extra filtering, such as replacing all <code>\\b</code> characters.</p> <pre data-language=\"python\">body = body.replace(\"\\b\", \"\")\n</pre> <p>Most modern terminals will warn about and remove hidden characters when pasting, so this isn’t strictly necessary. It’s also possible to craft dangerous commands in other ways that aren’t possible to filter. Depending on your site’s use case, it may be good to show a warning about copying code in general.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/security/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/security/</a>\n  </p>\n</div>\n","deploying/wsgi-standalone/index":"<h1>Standalone WSGI Containers</h1> <p>There are popular servers written in Python that contain WSGI applications and serve HTTP. These servers stand alone when they run; you can proxy to them from your web server. Note the section on <a class=\"reference internal\" href=\"#deploying-proxy-setups\"><span class=\"std std-ref\">Proxy Setups</span></a> if you run into issues.</p>  <h2 id=\"gunicorn\">Gunicorn</h2> <p><a class=\"reference external\" href=\"https://gunicorn.org/\">Gunicorn</a> ‘Green Unicorn’ is a WSGI HTTP Server for UNIX. It’s a pre-fork worker model ported from Ruby’s Unicorn project. It supports both <a class=\"reference external\" href=\"https://eventlet.net/\">eventlet</a> and <a class=\"reference external\" href=\"https://greenlet.readthedocs.io/en/latest/\">greenlet</a>. Running a Flask application on this server is quite simple:</p> <pre data-language=\"python\">$ gunicorn myproject:app\n</pre> <p><a class=\"reference external\" href=\"https://gunicorn.org/\">Gunicorn</a> provides many command-line options – see <code>gunicorn -h</code>. For example, to run a Flask application with 4 worker processes (<code>-w\n4</code>) binding to localhost port 4000 (<code>-b 127.0.0.1:4000</code>):</p> <pre data-language=\"python\">$ gunicorn -w 4 -b 127.0.0.1:4000 myproject:app\n</pre> <p>The <code>gunicorn</code> command expects the names of your application module or package and the application instance within the module. If you use the application factory pattern, you can pass a call to that:</p> <pre data-language=\"python\">$ gunicorn \"myproject:create_app()\"\n</pre>   <h2 id=\"uwsgi\">uWSGI</h2> <p><a class=\"reference external\" href=\"https://uwsgi-docs.readthedocs.io/en/latest/\">uWSGI</a> is a fast application server written in C. It is very configurable which makes it more complicated to setup than gunicorn.</p> <p>Running <a class=\"reference external\" href=\"https://uwsgi-docs.readthedocs.io/en/latest/HTTP.html#the-uwsgi-http-https-router\">uWSGI HTTP Router</a>:</p> <pre data-language=\"python\">$ uwsgi --http 127.0.0.1:5000 --module myproject:app\n</pre> <p>For a more optimized setup, see <a class=\"reference internal\" href=\"../uwsgi/index\"><span class=\"doc\">configuring uWSGI and NGINX</span></a>.</p>   <h2 id=\"gevent\">Gevent</h2> <p><a class=\"reference external\" href=\"http://www.gevent.org/\">Gevent</a> is a coroutine-based Python networking library that uses <a class=\"reference external\" href=\"https://greenlet.readthedocs.io/en/latest/\">greenlet</a> to provide a high-level synchronous API on top of <a class=\"reference external\" href=\"http://software.schmorp.de/pkg/libev.html\">libev</a> event loop:</p> <pre data-language=\"python\">from gevent.pywsgi import WSGIServer\nfrom yourapplication import app\n\nhttp_server = WSGIServer(('', 5000), app)\nhttp_server.serve_forever()\n</pre>   <h2 id=\"twisted-web\">Twisted Web</h2> <p><a class=\"reference external\" href=\"https://twistedmatrix.com/trac/wiki/TwistedWeb\">Twisted Web</a> is the web server shipped with <a class=\"reference external\" href=\"https://twistedmatrix.com/trac/\">Twisted</a>, a mature, non-blocking event-driven networking library. Twisted Web comes with a standard WSGI container which can be controlled from the command line using the <code>twistd</code> utility:</p> <pre data-language=\"python\">$ twistd web --wsgi myproject.app\n</pre> <p>This example will run a Flask application called <code>app</code> from a module named <code>myproject</code>.</p> <p>Twisted Web supports many flags and options, and the <code>twistd</code> utility does as well; see <code>twistd -h</code> and <code>twistd web -h</code> for more information. For example, to run a Twisted Web server in the foreground, on port 8080, with an application from <code>myproject</code>:</p> <pre data-language=\"python\">$ twistd -n web --port tcp:8080 --wsgi myproject.app\n</pre>   <h2 id=\"deploying-proxy-setups\">Proxy Setups</h2> <p id=\"proxy-setups\">If you deploy your application using one of these servers behind an HTTP proxy you will need to rewrite a few headers in order for the application to work. The two problematic values in the WSGI environment usually are <code>REMOTE_ADDR</code> and <code>HTTP_HOST</code>. You can configure your httpd to pass these headers, or you can fix them in middleware. Werkzeug ships a fixer that will solve some common setups, but you might want to write your own WSGI middleware for specific setups.</p> <p>Here’s a simple nginx configuration which proxies to an application served on localhost at port 8000, setting appropriate headers:</p> <pre data-language=\"nginx\">server {\n    listen 80;\n\n    server_name _;\n\n    access_log  /var/log/nginx/access.log;\n    error_log  /var/log/nginx/error.log;\n\n    location / {\n        proxy_pass         http://127.0.0.1:8000/;\n        proxy_redirect     off;\n\n        proxy_set_header   Host                 $host;\n        proxy_set_header   X-Real-IP            $remote_addr;\n        proxy_set_header   X-Forwarded-For      $proxy_add_x_forwarded_for;\n        proxy_set_header   X-Forwarded-Proto    $scheme;\n    }\n}\n</pre> <p>If your httpd is not providing these headers, the most common setup invokes the host being set from <code>X-Forwarded-Host</code> and the remote address from <code>X-Forwarded-For</code>:</p> <pre data-language=\"python\">from werkzeug.middleware.proxy_fix import ProxyFix\napp.wsgi_app = ProxyFix(app.wsgi_app, x_proto=1, x_host=1)\n</pre> <div class=\"admonition-trusting-headers admonition\"> <p class=\"admonition-title\">Trusting Headers</p> <p>Please keep in mind that it is a security issue to use such a middleware in a non-proxy setup because it will blindly trust the incoming headers which might be forged by malicious clients.</p> </div> <p>If you want to rewrite the headers from another header, you might want to use a fixer like this:</p> <pre data-language=\"python\">class CustomProxyFix(object):\n\n    def __init__(self, app):\n        self.app = app\n\n    def __call__(self, environ, start_response):\n        host = environ.get('HTTP_X_FHOST', '')\n        if host:\n            environ['HTTP_HOST'] = host\n        return self.app(environ, start_response)\n\napp.wsgi_app = CustomProxyFix(app.wsgi_app)\n</pre><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/deploying/wsgi-standalone/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/deploying/wsgi-standalone/</a>\n  </p>\n</div>\n","deploying/uwsgi/index":"<h1>uWSGI</h1> <p>uWSGI is a deployment option on servers like <a class=\"reference external\" href=\"https://nginx.org/\">nginx</a>, <a class=\"reference external\" href=\"https://www.lighttpd.net/\">lighttpd</a>, and <a class=\"reference external\" href=\"http://cherokee-project.com/\">cherokee</a>; see <a class=\"reference internal\" href=\"../fastcgi/index\"><span class=\"doc\">FastCGI</span></a> and <a class=\"reference internal\" href=\"../wsgi-standalone/index\"><span class=\"doc\">Standalone WSGI Containers</span></a> for other options. To use your WSGI application with uWSGI protocol you will need a uWSGI server first. uWSGI is both a protocol and an application server; the application server can serve uWSGI, FastCGI, and HTTP protocols.</p> <p>The most popular uWSGI server is <a class=\"reference external\" href=\"https://uwsgi-docs.readthedocs.io/en/latest/\">uwsgi</a>, which we will use for this guide. Make sure to have it installed to follow along.</p> <div class=\"admonition-watch-out admonition\"> <p class=\"admonition-title\">Watch Out</p> <p>Please make sure in advance that any <code>app.run()</code> calls you might have in your application file are inside an <code>if __name__ ==\n'__main__':</code> block or moved to a separate file. Just make sure it’s not called because this will always start a local WSGI server which we do not want if we deploy that application to uWSGI.</p> </div>  <h2 id=\"starting-your-app-with-uwsgi\">Starting your app with uwsgi</h2> <p><code>uwsgi</code> is designed to operate on WSGI callables found in python modules.</p> <p>Given a flask application in myapp.py, use the following command:</p> <pre data-language=\"text\">$ uwsgi -s /tmp/yourapplication.sock --manage-script-name --mount /yourapplication=myapp:app\n</pre> <p>The <code>--manage-script-name</code> will move the handling of <code>SCRIPT_NAME</code> to uwsgi, since it is smarter about that. It is used together with the <code>--mount</code> directive which will make requests to <code>/yourapplication</code> be directed to <code>myapp:app</code>. If your application is accessible at root level, you can use a single <code>/</code> instead of <code>/yourapplication</code>. <code>myapp</code> refers to the name of the file of your flask application (without extension) or the module which provides <code>app</code>. <code>app</code> is the callable inside of your application (usually the line reads <code>app = Flask(__name__)</code>.</p> <p>If you want to deploy your flask application inside of a virtual environment, you need to also add <code>--virtualenv /path/to/virtual/environment</code>. You might also need to add <code>--plugin python</code> or <code>--plugin python3</code> depending on which python version you use for your project.</p>   <h2 id=\"configuring-nginx\">Configuring nginx</h2> <p>A basic flask nginx configuration looks like this:</p> <pre data-language=\"python\">location = /yourapplication { rewrite ^ /yourapplication/; }\nlocation /yourapplication { try_files $uri @yourapplication; }\nlocation @yourapplication {\n  include uwsgi_params;\n  uwsgi_pass unix:/tmp/yourapplication.sock;\n}\n</pre> <p>This configuration binds the application to <code>/yourapplication</code>. If you want to have it in the URL root its a bit simpler:</p> <pre data-language=\"python\">location / { try_files $uri @yourapplication; }\nlocation @yourapplication {\n    include uwsgi_params;\n    uwsgi_pass unix:/tmp/yourapplication.sock;\n}\n</pre><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/deploying/uwsgi/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/deploying/uwsgi/</a>\n  </p>\n</div>\n","deploying/fastcgi/index":"<h1>FastCGI</h1> <p>FastCGI is a deployment option on servers like <a class=\"reference external\" href=\"https://nginx.org/\">nginx</a>, <a class=\"reference external\" href=\"https://www.lighttpd.net/\">lighttpd</a>, and <a class=\"reference external\" href=\"http://cherokee-project.com/\">cherokee</a>; see <a class=\"reference internal\" href=\"../uwsgi/index\"><span class=\"doc\">uWSGI</span></a> and <a class=\"reference internal\" href=\"../wsgi-standalone/index\"><span class=\"doc\">Standalone WSGI Containers</span></a> for other options. To use your WSGI application with any of them you will need a FastCGI server first. The most popular one is <a class=\"reference external\" href=\"https://pypi.org/project/flup/\">flup</a> which we will use for this guide. Make sure to have it installed to follow along.</p> <div class=\"admonition-watch-out admonition\"> <p class=\"admonition-title\">Watch Out</p> <p>Please make sure in advance that any <code>app.run()</code> calls you might have in your application file are inside an <code>if __name__ ==\n'__main__':</code> block or moved to a separate file. Just make sure it’s not called because this will always start a local WSGI server which we do not want if we deploy that application to FastCGI.</p> </div>  <h2 id=\"creating-a-fcgi-file\">Creating a <code>.fcgi</code> file</h2> <p>First you need to create the FastCGI server file. Let’s call it <code>yourapplication.fcgi</code>:</p> <pre data-language=\"python\">#!/usr/bin/python\nfrom flup.server.fcgi import WSGIServer\nfrom yourapplication import app\n\nif __name__ == '__main__':\n    WSGIServer(app).run()\n</pre> <p>This is enough for Apache to work, however nginx and older versions of lighttpd need a socket to be explicitly passed to communicate with the FastCGI server. For that to work you need to pass the path to the socket to the <code>WSGIServer</code>:</p> <pre data-language=\"python\">WSGIServer(application, bindAddress='/path/to/fcgi.sock').run()\n</pre> <p>The path has to be the exact same path you define in the server config.</p> <p>Save the <code>yourapplication.fcgi</code> file somewhere you will find it again. It makes sense to have that in <code>/var/www/yourapplication</code> or something similar.</p> <p>Make sure to set the executable bit on that file so that the servers can execute it:</p> <pre data-language=\"text\">$ chmod +x /var/www/yourapplication/yourapplication.fcgi\n</pre>   <h2 id=\"configuring-apache\">Configuring Apache</h2> <p>The example above is good enough for a basic Apache deployment but your <code>.fcgi</code> file will appear in your application URL e.g. <code>example.com/yourapplication.fcgi/news/</code>. There are few ways to configure your application so that yourapplication.fcgi does not appear in the URL. A preferable way is to use the ScriptAlias and SetHandler configuration directives to route requests to the FastCGI server. The following example uses FastCgiServer to start 5 instances of the application which will handle all incoming requests:</p> <pre data-language=\"python\">LoadModule fastcgi_module /usr/lib64/httpd/modules/mod_fastcgi.so\n\nFastCgiServer /var/www/html/yourapplication/app.fcgi -idle-timeout 300 -processes 5\n\n&lt;VirtualHost *&gt;\n    ServerName webapp1.mydomain.com\n    DocumentRoot /var/www/html/yourapplication\n\n    AddHandler fastcgi-script fcgi\n    ScriptAlias / /var/www/html/yourapplication/app.fcgi/\n\n    &lt;Location /&gt;\n        SetHandler fastcgi-script\n    &lt;/Location&gt;\n&lt;/VirtualHost&gt;\n</pre> <p>These processes will be managed by Apache. If you’re using a standalone FastCGI server, you can use the FastCgiExternalServer directive instead. Note that in the following the path is not real, it’s simply used as an identifier to other directives such as AliasMatch:</p> <pre data-language=\"python\">FastCgiServer /var/www/html/yourapplication -host 127.0.0.1:3000\n</pre> <p>If you cannot set ScriptAlias, for example on a shared web host, you can use WSGI middleware to remove yourapplication.fcgi from the URLs. Set .htaccess:</p> <pre data-language=\"python\">&lt;IfModule mod_fcgid.c&gt;\n   AddHandler fcgid-script .fcgi\n   &lt;Files ~ (\\.fcgi)&gt;\n       SetHandler fcgid-script\n       Options +FollowSymLinks +ExecCGI\n   &lt;/Files&gt;\n&lt;/IfModule&gt;\n\n&lt;IfModule mod_rewrite.c&gt;\n   Options +FollowSymlinks\n   RewriteEngine On\n   RewriteBase /\n   RewriteCond %{REQUEST_FILENAME} !-f\n   RewriteRule ^(.*)$ yourapplication.fcgi/$1 [QSA,L]\n&lt;/IfModule&gt;\n</pre> <p>Set yourapplication.fcgi:</p> <pre data-language=\"python\">#!/usr/bin/python\n#: optional path to your local python site-packages folder\nimport sys\nsys.path.insert(0, '&lt;your_local_path&gt;/lib/python&lt;your_python_version&gt;/site-packages')\n\nfrom flup.server.fcgi import WSGIServer\nfrom yourapplication import app\n\nclass ScriptNameStripper(object):\n   def __init__(self, app):\n       self.app = app\n\n   def __call__(self, environ, start_response):\n       environ['SCRIPT_NAME'] = ''\n       return self.app(environ, start_response)\n\napp = ScriptNameStripper(app)\n\nif __name__ == '__main__':\n    WSGIServer(app).run()\n</pre>   <h2 id=\"configuring-lighttpd\">Configuring lighttpd</h2> <p>A basic FastCGI configuration for lighttpd looks like that:</p> <pre data-language=\"python\">fastcgi.server = (\"/yourapplication.fcgi\" =&gt;\n    ((\n        \"socket\" =&gt; \"/tmp/yourapplication-fcgi.sock\",\n        \"bin-path\" =&gt; \"/var/www/yourapplication/yourapplication.fcgi\",\n        \"check-local\" =&gt; \"disable\",\n        \"max-procs\" =&gt; 1\n    ))\n)\n\nalias.url = (\n    \"/static/\" =&gt; \"/path/to/your/static/\"\n)\n\nurl.rewrite-once = (\n    \"^(/static($|/.*))$\" =&gt; \"$1\",\n    \"^(/.*)$\" =&gt; \"/yourapplication.fcgi$1\"\n)\n</pre> <p>Remember to enable the FastCGI, alias and rewrite modules. This configuration binds the application to <code>/yourapplication</code>. If you want the application to work in the URL root you have to work around a lighttpd bug with the <code>LighttpdCGIRootFix</code> middleware.</p> <p>Make sure to apply it only if you are mounting the application the URL root. Also, see the Lighty docs for more information on <a class=\"reference external\" href=\"https://redmine.lighttpd.net/projects/lighttpd/wiki/Docs_ModFastCGI\">FastCGI and Python</a> (note that explicitly passing a socket to run() is no longer necessary).</p>   <h2 id=\"configuring-nginx\">Configuring nginx</h2> <p>Installing FastCGI applications on nginx is a bit different because by default no FastCGI parameters are forwarded.</p> <p>A basic Flask FastCGI configuration for nginx looks like this:</p> <pre data-language=\"python\">location = /yourapplication { rewrite ^ /yourapplication/ last; }\nlocation /yourapplication { try_files $uri @yourapplication; }\nlocation @yourapplication {\n    include fastcgi_params;\n    fastcgi_split_path_info ^(/yourapplication)(.*)$;\n    fastcgi_param PATH_INFO $fastcgi_path_info;\n    fastcgi_param SCRIPT_NAME $fastcgi_script_name;\n    fastcgi_pass unix:/tmp/yourapplication-fcgi.sock;\n}\n</pre> <p>This configuration binds the application to <code>/yourapplication</code>. If you want to have it in the URL root it’s a bit simpler because you don’t have to figure out how to calculate <code>PATH_INFO</code> and <code>SCRIPT_NAME</code>:</p> <pre data-language=\"python\">location / { try_files $uri @yourapplication; }\nlocation @yourapplication {\n    include fastcgi_params;\n    fastcgi_param PATH_INFO $fastcgi_script_name;\n    fastcgi_param SCRIPT_NAME \"\";\n    fastcgi_pass unix:/tmp/yourapplication-fcgi.sock;\n}\n</pre>   <h2 id=\"running-fastcgi-processes\">Running FastCGI Processes</h2> <p>Since nginx and others do not load FastCGI apps, you have to do it by yourself. <a class=\"reference external\" href=\"http://supervisord.org/configuration.html#fcgi-program-x-section-settings\">Supervisor can manage FastCGI processes.</a> You can look around for other FastCGI process managers or write a script to run your <code>.fcgi</code> file at boot, e.g. using a SysV <code>init.d</code> script. For a temporary solution, you can always run the <code>.fcgi</code> script inside GNU screen. See <code>man screen</code> for details, and note that this is a manual solution which does not persist across system restart:</p> <pre data-language=\"python\">$ screen\n$ /var/www/yourapplication/yourapplication.fcgi\n</pre>   <h2 id=\"debugging\">Debugging</h2> <p>FastCGI deployments tend to be hard to debug on most web servers. Very often the only thing the server log tells you is something along the lines of “premature end of headers”. In order to debug the application the only thing that can really give you ideas why it breaks is switching to the correct user and executing the application by hand.</p> <p>This example assumes your application is called <code>application.fcgi</code> and that your web server user is <code>www-data</code>:</p> <pre data-language=\"python\">$ su www-data\n$ cd /var/www/yourapplication\n$ python application.fcgi\nTraceback (most recent call last):\n  File \"yourapplication.fcgi\", line 4, in &lt;module&gt;\nImportError: No module named yourapplication\n</pre> <p>In this case the error seems to be “yourapplication” not being on the python path. Common problems are:</p> <ul class=\"simple\"> <li>Relative paths being used. Don’t rely on the current working directory.</li> <li>The code depending on environment variables that are not set by the web server.</li> <li>Different python interpreters being used.</li> </ul><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/deploying/fastcgi/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/deploying/fastcgi/</a>\n  </p>\n</div>\n","deploying/cgi/index":"<h1>CGI</h1> <p>If all other deployment methods do not work, CGI will work for sure. CGI is supported by all major servers but usually has a sub-optimal performance.</p> <p>This is also the way you can use a Flask application on Google’s <a class=\"reference external\" href=\"https://cloud.google.com/appengine/docs/\">App Engine</a>, where execution happens in a CGI-like environment.</p> <div class=\"admonition-watch-out admonition\"> <p class=\"admonition-title\">Watch Out</p> <p>Please make sure in advance that any <code>app.run()</code> calls you might have in your application file are inside an <code>if __name__ ==\n'__main__':</code> block or moved to a separate file. Just make sure it’s not called because this will always start a local WSGI server which we do not want if we deploy that application to CGI / app engine.</p> <p>With CGI, you will also have to make sure that your code does not contain any <code>print</code> statements, or that <code>sys.stdout</code> is overridden by something that doesn’t write into the HTTP response.</p> </div>  <h2 id=\"creating-a-cgi-file\">Creating a <code>.cgi</code> file</h2> <p>First you need to create the CGI application file. Let’s call it <code>yourapplication.cgi</code>:</p> <pre data-language=\"python\">#!/usr/bin/python\nfrom wsgiref.handlers import CGIHandler\nfrom yourapplication import app\n\nCGIHandler().run(app)\n</pre>   <h2 id=\"server-setup\">Server Setup</h2> <p>Usually there are two ways to configure the server. Either just copy the <code>.cgi</code> into a <code>cgi-bin</code> (and use <code>mod_rewrite</code> or something similar to rewrite the URL) or let the server point to the file directly.</p> <p>In Apache for example you can put something like this into the config:</p> <pre data-language=\"apache\">ScriptAlias /app /path/to/the/application.cgi\n</pre> <p>On shared webhosting, though, you might not have access to your Apache config. In this case, a file called <code>.htaccess</code>, sitting in the public directory you want your app to be available, works too but the <code>ScriptAlias</code> directive won’t work in that case:</p> <pre data-language=\"apache\">RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f # Don't interfere with static files\nRewriteRule ^(.*)$ /path/to/the/application.cgi/$1 [L]\n</pre> <p>For more information consult the documentation of your webserver.</p><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/deploying/cgi/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/deploying/cgi/</a>\n  </p>\n</div>\n","deploying/asgi/index":"<h1 id=\"id1\">ASGI</h1> <p>If you’d like to use an ASGI server you will need to utilise WSGI to ASGI middleware. The asgiref [WsgiToAsgi](<a class=\"reference external\" href=\"https://github.com/django/asgiref#wsgi-to-asgi-adapter\">https://github.com/django/asgiref#wsgi-to-asgi-adapter</a>) adapter is recommended as it integrates with the event loop used for Flask’s <a class=\"reference internal\" href=\"../../async-await/index#async-await\"><span class=\"std std-ref\">Using async and await</span></a> support. You can use the adapter by wrapping the Flask app,</p> <pre data-language=\"python\">from asgiref.wsgi import WsgiToAsgi\nfrom flask import Flask\n\napp = Flask(__name__)\n\n...\n\nasgi_app = WsgiToAsgi(app)\n</pre> <p>and then serving the <code>asgi_app</code> with the asgi server, e.g. using <a class=\"reference external\" href=\"https://gitlab.com/pgjones/hypercorn\">Hypercorn</a>,</p> <pre data-language=\"text\">$ hypercorn module:asgi_app\n</pre><div class=\"_attribution\">\n  <p class=\"_attribution-p\">\n    &copy; 2007&ndash;2021 Pallets<br>Licensed under the BSD 3-clause License.<br>\n    <a href=\"https://flask.palletsprojects.com/en/2.0.x/deploying/asgi/\" class=\"_attribution-link\">https://flask.palletsprojects.com/en/2.0.x/deploying/asgi/</a>\n  </p>\n</div>\n"}