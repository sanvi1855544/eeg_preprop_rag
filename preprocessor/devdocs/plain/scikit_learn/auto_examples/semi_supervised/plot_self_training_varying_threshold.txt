# Effect of varying threshold for self-training

This example illustrates the effect of a varying threshold on self-training.
The `breast_cancer` dataset is loaded, and labels are deleted such that only
50 out of 569 samples have labels. A `SelfTrainingClassifier` is fitted on
this dataset, with varying thresholds.

The upper graph shows the amount of labeled samples that the classifier has
available by the end of fit, and the accuracy of the classifier. The lower
graph shows the last iteration in which a sample was labeled. All values are
cross validated with 3 folds.

At low thresholds (in [0.4, 0.5]), the classifier learns from samples that
were labeled with a low confidence. These low-confidence samples are likely
have incorrect predicted labels, and as a result, fitting on these incorrect
labels produces a poor accuracy. Note that the classifier labels almost all of
the samples, and only takes one iteration.

For very high thresholds (in [0.9, 1)) we observe that the classifier does not
augment its dataset (the amount of self-labeled samples is 0). As a result,
the accuracy achieved with a threshold of 0.9999 is the same as a normal
supervised classifier would achieve.

The optimal accuracy lies in between both of these extremes at a threshold of
around 0.7.

![plot self training varying
threshold](data:image/png;base64,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)

    
    print(__doc__)
    
    # Authors: Oliver Rausch <rauscho@ethz.ch>
    # License: BSD
    
    import numpy as np
    import matplotlib.pyplot as plt
    from sklearn import datasets
    from sklearn.svm import SVC
    from sklearn.model_selection import StratifiedKFold
    from sklearn.semi_supervised import SelfTrainingClassifier
    from sklearn.metrics import accuracy_score
    from sklearn.utils import shuffle
    
    n_splits = 3
    
    X, y = datasets.load_breast_cancer(return_X_y=True)
    X, y = shuffle(X, y, random_state=42)
    y_true = y.copy()
    y[50:] = -1
    total_samples = y.shape[0]
    
    base_classifier = SVC(probability=True, gamma=0.001, random_state=42)
    
    x_values = np.arange(0.4, 1.05, 0.05)
    x_values = np.append(x_values, 0.99999)
    scores = np.empty((x_values.shape[0], n_splits))
    amount_labeled = np.empty((x_values.shape[0], n_splits))
    amount_iterations = np.empty((x_values.shape[0], n_splits))
    
    for (i, threshold) in enumerate(x_values):
        self_training_clf = SelfTrainingClassifier(base_classifier,
                                                   threshold=threshold)
    
        # We need manual cross validation so that we don't treat -1 as a separate
        # class when computing accuracy
        skfolds = StratifiedKFold(n_splits=n_splits)
        for fold, (train_index, test_index) in enumerate(skfolds.split(X, y)):
            X_train = X[train_index]
            y_train = y[train_index]
            X_test = X[test_index]
            y_test = y[test_index]
            y_test_true = y_true[test_index]
    
            self_training_clf.fit(X_train, y_train)
    
            # The amount of labeled samples that at the end of fitting
            amount_labeled[i, fold] = total_samples - np.unique(
                self_training_clf.labeled_iter_, return_counts=True)[1][0]
            # The last iteration the classifier labeled a sample in
            amount_iterations[i, fold] = np.max(self_training_clf.labeled_iter_)
    
            y_pred = self_training_clf.predict(X_test)
            scores[i, fold] = accuracy_score(y_test_true, y_pred)
    
    
    ax1 = plt.subplot(211)
    ax1.errorbar(x_values, scores.mean(axis=1),
                 yerr=scores.std(axis=1),
                 capsize=2, color='b')
    ax1.set_ylabel('Accuracy', color='b')
    ax1.tick_params('y', colors='b')
    
    ax2 = ax1.twinx()
    ax2.errorbar(x_values, amount_labeled.mean(axis=1),
                 yerr=amount_labeled.std(axis=1),
                 capsize=2, color='g')
    ax2.set_ylim(bottom=0)
    ax2.set_ylabel('Amount of labeled samples', color='g')
    ax2.tick_params('y', colors='g')
    
    ax3 = plt.subplot(212, sharex=ax1)
    ax3.errorbar(x_values, amount_iterations.mean(axis=1),
                 yerr=amount_iterations.std(axis=1),
                 capsize=2, color='b')
    ax3.set_ylim(bottom=0)
    ax3.set_ylabel('Amount of iterations')
    ax3.set_xlabel('Threshold')
    
    plt.show()
    
Total running time of the script: ( 0 minutes 10.479 seconds)

![Launch
binder](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG0AAAAUCAMAAACwC0NtAAABWVBMVEW7u7vo6OjCwsLMzMzz8/P4+Pju7u68vLzd3d24uLjx8fHm5ubT09PAwMDJycnPz8+urq7Ly8va2tq5ubnq6uqSkpLBwcH09PS6urrypVmvr6/i4uLDw8O0tLSjo6PX19e9u7pYm8qxsbGrq6u+vr7s7OzZ2dng4OCVlZXk5OTIyMiWlpampqaoqKj6+vrGxsagoKC9vb2ZmZn29vb///+Nq8Kzs7PSspNlnshfnsr2o1HnZYHXc46dnZ2Li4vS0tKPj4+3t7fOtJm2urztpmKGqsTarYFcmsnTjZzkaYXOl6Kqtr7lqnHEqrD1olLMmqW+t7jWsIzGt6hrnsbQk6Gis7/IoavgbIfhcoprlcHYaom+oH2Elq50kLzV1dWHh4fDuK2Xr8GZsMDHtqatsLrglH/sfm60pLHKqqDWnJHJcJDtgWzoknG8dJaLqr/0lVqeo7jlbX7owswW4TTQAAACXklEQVRIx+3V52/iMBgH4DcsBwfCCCkhQICMS4G0AQKUXqFpumh7Pa57l9t7//9fzlRHWeXbCemkvpEs+ZWtR/rZVqAKj/WvK7u+v7m/np2RdpjokG9pNthRIrF0dJjYfDWLGM/ed76dAWx31v923NS0tWXvRCtD90bTN9Sy1Ona3u6Hp1939+Cw04/SRU9bizwTLTbUG9OtoRZGU7Hn5xefEz9/Nz9tJt4ONDOGky7Q52AuCbStYRvKOmZcyENjKjWqPYnFdZSiQbd9vhCkyMyDUBQzBbC7WmhMe7Gyk92+vrm9ud7ODjRKLQZoiKmgakBTRcULdKboZlDVXMtERzWvMU915xhgknwag2auRaook2/JlhqKi+EJ7QR+5NqX7XYNBtq8wtIZYFQoUxAtc2ELsORIYbS4AGpgLEnZqetqHpKOIGLVKwnSIqIKrKkVIm6FG09y9+Jj4/Z789fy8rOBlsddd7enBYlGDt0Cyw+CiDwcmGOaDRC808ix+lRysIKFtG4g4IKIe/JK7qycf7kicW7l3txrQS9fYomWAptoqZ6mu8HEvVsyrmkIomxPCxLNwQVgSZKpkkT7I6HJa3Jw0rxq7h3AVu71veaPMfkkNlmc1PuaEs/HOYSJZo9qOo5pRl8D0aI0DRkeBnedhzSAd5fHpxunjfskw0Xg5YV5w9+qiBUeigrASxD5esXgVgGM1shmg68srDkyT7aAfxUUXuFXuTovSxWQSg++gq3c8nE7VxvqcOE6iA6kRRD6LSecfvgNObIwPBOFu/3y1De3UWvkGrWNx9/T/1B/AFudUABdgF9sAAAAAElFTkSuQmCC)

`Download Python source code: plot_self_training_varying_threshold.py`

`Download Jupyter notebook: plot_self_training_varying_threshold.ipynb`

© 2007–2020 The scikit-learn developers  
Licensed under the 3-clause BSD License.  
https://scikit-
learn.org/0.24/auto_examples/semi_supervised/plot_self_training_varying_threshold.html

